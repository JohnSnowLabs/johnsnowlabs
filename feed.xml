<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.2">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2025-10-15T19:16:55+00:00</updated><id>/feed.xml</id><title type="html">Spark NLP</title><subtitle>High Performance NLP with Apache Spark
</subtitle><author><name>{&quot;type&quot;=&gt;nil, &quot;name&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;avatar&quot;=&gt;nil, &quot;bio&quot;=&gt;nil, &quot;email&quot;=&gt;nil, &quot;facebook&quot;=&gt;nil, &quot;twitter&quot;=&gt;nil, &quot;weibo&quot;=&gt;nil, &quot;googleplus&quot;=&gt;nil, &quot;telegram&quot;=&gt;nil, &quot;medium&quot;=&gt;nil, &quot;zhihu&quot;=&gt;nil, &quot;douban&quot;=&gt;nil, &quot;linkedin&quot;=&gt;nil, &quot;github&quot;=&gt;nil, &quot;npm&quot;=&gt;nil}</name></author><entry><title type="html">JSL_MedS_NER_VLM_v1 (VLM - 7b - q16)</title><link href="/2025/09/16/jsl_meds_ner_vlm_7b_q16_v1_en.html" rel="alternate" type="text/html" title="JSL_MedS_NER_VLM_v1 (VLM - 7b - q16)" /><published>2025-09-16T00:00:00+00:00</published><updated>2025-09-16T00:00:00+00:00</updated><id>/2025/09/16/jsl_meds_ner_vlm_7b_q16_v1_en</id><content type="html" xml:base="/2025/09/16/jsl_meds_ner_vlm_7b_q16_v1_en.html">## Description

This vision-language model is trained to understand medical images and extract key details such as patient demographics, clinical conditions, and prescribed medications, etc.

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/jsl_meds_ner_vlm_7b_q16_v1_en_6.1.0_3.0_1757989671742.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/jsl_meds_ner_vlm_7b_q16_v1_en_6.1.0_3.0_1757989671742.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python
from sparknlp.base import DocumentAssembler, ImageAssembler
from sparknlp_jsl.utils import vision_llm_preprocessor
from sparknlp_jsl.annotator import MedicalVisionLLM
from pyspark.ml import Pipeline

!wget -O images/prescription_01.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_01.png&quot;
!wget -O images/prescription_02.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_02.png&quot;

prompt = &quot;&quot;&quot;
# Template:
{
  &quot;Patient Name&quot;: &quot;string&quot;,
  &quot;Patient Age&quot;: &quot;integer&quot;,
  &quot;Patient Gender&quot;: &quot;string&quot;,
  &quot;Hospital Number&quot;: &quot;string&quot;,
  &quot;Episode Number&quot;: &quot;string&quot;,
  &quot;Episode Date&quot;: &quot;date-time&quot;
}
# Context:
&lt;image&gt;
&quot;&quot;&quot;

input_df = vision_llm_preprocessor(
    spark=spark,
    images_path=&quot;images&quot;,
    prompt=prompt,
    output_col_name=&quot;prompt&quot;
)

document_assembler = (
    DocumentAssembler()
    .setInputCol(&quot;prompt&quot;)
    .setOutputCol(&quot;caption_document&quot;)
)

image_assembler = (
    ImageAssembler()
    .setInputCol(&quot;image&quot;)
    .setOutputCol(&quot;image_assembler&quot;)
)

medicalVisionLLM = (
    MedicalVisionLLM.pretrained(&quot;jsl_meds_ner_vlm_7b_q16_v1&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
    .setInputCols([&quot;caption_document&quot;, &quot;image_assembler&quot;])
    .setOutputCol(&quot;completions&quot;)
)

pipeline = Pipeline().setStages([
    document_assembler,
    image_assembler,
    medicalVisionLLM
])

model = pipeline.fit(input_df)
result = model.transform(input_df)

result.selectExpr(
    &quot;reverse(split(image.origin, '/')) as image_name&quot;, &quot;completions.result&quot;
).show(truncate=False)

```

{:.jsl-block}
```python
from johnsnowlabs import nlp, medical

!wget -O images/prescription_01.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_01.png&quot;
!wget -O images/prescription_02.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_02.png&quot;

prompt = &quot;&quot;&quot;
# Template:
{
  &quot;Patient Name&quot;: &quot;string&quot;,
  &quot;Patient Age&quot;: &quot;integer&quot;,
  &quot;Patient Gender&quot;: &quot;string&quot;,
  &quot;Hospital Number&quot;: &quot;string&quot;,
  &quot;Episode Number&quot;: &quot;string&quot;,
  &quot;Episode Date&quot;: &quot;date-time&quot;
}
# Context:
&lt;image&gt;
&quot;&quot;&quot;

input_df = nlp.vision_llm_preprocessor(
    spark=spark,
    images_path=&quot;images&quot;,
    prompt=prompt,
    output_col_name=&quot;prompt&quot;
)

document_assembler = (
    nlp.DocumentAssembler()
    .setInputCol(&quot;prompt&quot;)
    .setOutputCol(&quot;caption_document&quot;)
)

image_assembler = (
    nlp.ImageAssembler()
    .setInputCol(&quot;image&quot;)
    .setOutputCol(&quot;image_assembler&quot;)
)

medicalVisionLLM = (
    medical.MedicalVisionLLM.pretrained(&quot;jsl_meds_ner_vlm_7b_q16_v1&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
    .setInputCols([&quot;caption_document&quot;, &quot;image_assembler&quot;])
    .setOutputCol(&quot;completions&quot;)
)

pipeline = nlp.Pipeline().setStages([
    document_assembler,
    image_assembler,
    medicalVisionLLM
])

model = pipeline.fit(input_df)
result = model.transform(input_df)

result.selectExpr(
    &quot;reverse(split(image.origin, '/')) as image_name&quot;, &quot;completions.result&quot;
).show(truncate=False)

```
```scala
import com.johnsnowlabs.nlp.base._
import com.johnsnowlabs.nlp.annotators._
import org.apache.spark.sql.functions._
import org.apache.spark.ml.Pipeline

!wget -O images/prescription_01.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_01.png&quot;
!wget -O images/prescription_02.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_02.png&quot;

val prompt = &quot;&quot;&quot;
# Template:
{
  &quot;Patient Name&quot;: &quot;string&quot;,
  &quot;Patient Age&quot;: &quot;integer&quot;,
  &quot;Patient Gender&quot;: &quot;string&quot;,
  &quot;Hospital Number&quot;: &quot;string&quot;,
  &quot;Episode Number&quot;: &quot;string&quot;,
  &quot;Episode Date&quot;: &quot;date-time&quot;
}
# Context:
&lt;image&gt;
&quot;&quot;&quot;

val data = ImageAssembler.loadImagesAsBytes(spark, images)
  .withColumn(&quot;caption&quot;, lit(prompt))

val documentAssembler = new DocumentAssembler()
  .setInputCol(&quot;caption&quot;)
  .setOutputCol(&quot;caption_document&quot;)

val imageAssembler = new ImageAssembler()
  .setInputCol(&quot;image&quot;)
  .setOutputCol(&quot;image_assembler&quot;)

val medicalVisionLLM = MedicalVisionLLM
  .pretrained(&quot;jsl_meds_ner_vlm_7b_q16_v1&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
  .setInputCols(Array(&quot;caption_document&quot;, &quot;image_assembler&quot;))
  .setOutputCol(&quot;completions&quot;)

val pipeline = new Pipeline().setStages(Array(
  documentAssembler,
  imageAssembler,
  medicalVisionLLM
))

val model = pipeline.fit(data)
val result = model.transform(data)

result.selectExpr(
  &quot;reverse(split(image.origin, '/'))[0] as image_name&quot;,
  &quot;completions.result&quot;
).show(false)

```
&lt;/div&gt;

## Results

```bash

{
    &quot;Patient Name&quot;: &quot;Ms RUKHSANA SHAHEEN&quot;,
    &quot;Patient Age&quot;: 56,
    &quot;Patient Gender&quot;: &quot;Female&quot;,
    &quot;Hospital Number&quot;: &quot;MH005990453&quot;,
    &quot;Episode Number&quot;: &quot;030000528270&quot;,
    &quot;Episode Date&quot;: &quot;2021-07-02T08:31:00&quot;
}

```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|jsl_meds_ner_vlm_7b_q16_v1|
|Compatibility:|Healthcare NLP 6.1.0+|
|License:|Licensed|
|Edition:|Official|
|Input Labels:|[caption_document, image_assembler]|
|Output Labels:|[completions]|
|Language:|en|
|Size:|13.2 GB|</content><author><name>John Snow Labs</name></author><category term="medical" /><category term="clinical" /><category term="vlm" /><category term="q16" /><category term="7b" /><category term="en" /><category term="licensed" /><category term="llamacpp" /><summary type="html">Description This vision-language model is trained to understand medical images and extract key details such as patient demographics, clinical conditions, and prescribed medications, etc. Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU from sparknlp.base import DocumentAssembler, ImageAssembler from sparknlp_jsl.utils import vision_llm_preprocessor from sparknlp_jsl.annotator import MedicalVisionLLM from pyspark.ml import Pipeline !wget -O images/prescription_01.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_01.png&quot; !wget -O images/prescription_02.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_02.png&quot; prompt = &quot;&quot;&quot; # Template: { &quot;Patient Name&quot;: &quot;string&quot;, &quot;Patient Age&quot;: &quot;integer&quot;, &quot;Patient Gender&quot;: &quot;string&quot;, &quot;Hospital Number&quot;: &quot;string&quot;, &quot;Episode Number&quot;: &quot;string&quot;, &quot;Episode Date&quot;: &quot;date-time&quot; } # Context: &amp;lt;image&amp;gt; &quot;&quot;&quot; input_df = vision_llm_preprocessor( spark=spark, images_path=&quot;images&quot;, prompt=prompt, output_col_name=&quot;prompt&quot; ) document_assembler = ( DocumentAssembler() .setInputCol(&quot;prompt&quot;) .setOutputCol(&quot;caption_document&quot;) ) image_assembler = ( ImageAssembler() .setInputCol(&quot;image&quot;) .setOutputCol(&quot;image_assembler&quot;) ) medicalVisionLLM = ( MedicalVisionLLM.pretrained(&quot;jsl_meds_ner_vlm_7b_q16_v1&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols([&quot;caption_document&quot;, &quot;image_assembler&quot;]) .setOutputCol(&quot;completions&quot;) ) pipeline = Pipeline().setStages([ document_assembler, image_assembler, medicalVisionLLM ]) model = pipeline.fit(input_df) result = model.transform(input_df) result.selectExpr( &quot;reverse(split(image.origin, '/')) as image_name&quot;, &quot;completions.result&quot; ).show(truncate=False) from johnsnowlabs import nlp, medical !wget -O images/prescription_01.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_01.png&quot; !wget -O images/prescription_02.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_02.png&quot; prompt = &quot;&quot;&quot; # Template: { &quot;Patient Name&quot;: &quot;string&quot;, &quot;Patient Age&quot;: &quot;integer&quot;, &quot;Patient Gender&quot;: &quot;string&quot;, &quot;Hospital Number&quot;: &quot;string&quot;, &quot;Episode Number&quot;: &quot;string&quot;, &quot;Episode Date&quot;: &quot;date-time&quot; } # Context: &amp;lt;image&amp;gt; &quot;&quot;&quot; input_df = nlp.vision_llm_preprocessor( spark=spark, images_path=&quot;images&quot;, prompt=prompt, output_col_name=&quot;prompt&quot; ) document_assembler = ( nlp.DocumentAssembler() .setInputCol(&quot;prompt&quot;) .setOutputCol(&quot;caption_document&quot;) ) image_assembler = ( nlp.ImageAssembler() .setInputCol(&quot;image&quot;) .setOutputCol(&quot;image_assembler&quot;) ) medicalVisionLLM = ( medical.MedicalVisionLLM.pretrained(&quot;jsl_meds_ner_vlm_7b_q16_v1&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols([&quot;caption_document&quot;, &quot;image_assembler&quot;]) .setOutputCol(&quot;completions&quot;) ) pipeline = nlp.Pipeline().setStages([ document_assembler, image_assembler, medicalVisionLLM ]) model = pipeline.fit(input_df) result = model.transform(input_df) result.selectExpr( &quot;reverse(split(image.origin, '/')) as image_name&quot;, &quot;completions.result&quot; ).show(truncate=False) import com.johnsnowlabs.nlp.base._ import com.johnsnowlabs.nlp.annotators._ import org.apache.spark.sql.functions._ import org.apache.spark.ml.Pipeline !wget -O images/prescription_01.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_01.png&quot; !wget -O images/prescription_02.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_02.png&quot; val prompt = &quot;&quot;&quot; # Template: { &quot;Patient Name&quot;: &quot;string&quot;, &quot;Patient Age&quot;: &quot;integer&quot;, &quot;Patient Gender&quot;: &quot;string&quot;, &quot;Hospital Number&quot;: &quot;string&quot;, &quot;Episode Number&quot;: &quot;string&quot;, &quot;Episode Date&quot;: &quot;date-time&quot; } # Context: &amp;lt;image&amp;gt; &quot;&quot;&quot; val data = ImageAssembler.loadImagesAsBytes(spark, images) .withColumn(&quot;caption&quot;, lit(prompt)) val documentAssembler = new DocumentAssembler() .setInputCol(&quot;caption&quot;) .setOutputCol(&quot;caption_document&quot;) val imageAssembler = new ImageAssembler() .setInputCol(&quot;image&quot;) .setOutputCol(&quot;image_assembler&quot;) val medicalVisionLLM = MedicalVisionLLM .pretrained(&quot;jsl_meds_ner_vlm_7b_q16_v1&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;caption_document&quot;, &quot;image_assembler&quot;)) .setOutputCol(&quot;completions&quot;) val pipeline = new Pipeline().setStages(Array( documentAssembler, imageAssembler, medicalVisionLLM )) val model = pipeline.fit(data) val result = model.transform(data) result.selectExpr( &quot;reverse(split(image.origin, '/'))[0] as image_name&quot;, &quot;completions.result&quot; ).show(false) Results { &quot;Patient Name&quot;: &quot;Ms RUKHSANA SHAHEEN&quot;, &quot;Patient Age&quot;: 56, &quot;Patient Gender&quot;: &quot;Female&quot;, &quot;Hospital Number&quot;: &quot;MH005990453&quot;, &quot;Episode Number&quot;: &quot;030000528270&quot;, &quot;Episode Date&quot;: &quot;2021-07-02T08:31:00&quot; } Model Information Model Name: jsl_meds_ner_vlm_7b_q16_v1 Compatibility: Healthcare NLP 6.1.0+ License: Licensed Edition: Official Input Labels: [caption_document, image_assembler] Output Labels: [completions] Language: en Size: 13.2 GB</summary></entry><entry><title type="html">JSL_MedS_NER_VLM_v1 (VLM - 7b - q4)</title><link href="/2025/09/16/jsl_meds_ner_vlm_7b_q4_v1_en.html" rel="alternate" type="text/html" title="JSL_MedS_NER_VLM_v1 (VLM - 7b - q4)" /><published>2025-09-16T00:00:00+00:00</published><updated>2025-09-16T00:00:00+00:00</updated><id>/2025/09/16/jsl_meds_ner_vlm_7b_q4_v1_en</id><content type="html" xml:base="/2025/09/16/jsl_meds_ner_vlm_7b_q4_v1_en.html">## Description

This vision-language model is trained to understand medical images and extract key details such as patient demographics, clinical conditions, and prescribed medications, etc.

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/jsl_meds_ner_vlm_7b_q4_v1_en_6.1.0_3.0_1757992248827.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/jsl_meds_ner_vlm_7b_q4_v1_en_6.1.0_3.0_1757992248827.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python
from sparknlp.base import DocumentAssembler, ImageAssembler
from sparknlp_jsl.utils import vision_llm_preprocessor
from sparknlp_jsl.annotator import MedicalVisionLLM
from pyspark.ml import Pipeline

!wget -O images/prescription_01.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_01.png&quot;
!wget -O images/prescription_02.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_02.png&quot;

prompt = &quot;&quot;&quot;
# Template:
{
  &quot;Patient Name&quot;: &quot;string&quot;,
  &quot;Patient Age&quot;: &quot;integer&quot;,
  &quot;Patient Gender&quot;: &quot;string&quot;,
  &quot;Hospital Number&quot;: &quot;string&quot;,
  &quot;Episode Number&quot;: &quot;string&quot;,
  &quot;Episode Date&quot;: &quot;date-time&quot;
}
# Context:
&lt;image&gt;
&quot;&quot;&quot;

input_df = vision_llm_preprocessor(
    spark=spark,
    images_path=&quot;images&quot;,
    prompt=prompt,
    output_col_name=&quot;prompt&quot;
)

document_assembler = (
    DocumentAssembler()
    .setInputCol(&quot;prompt&quot;)
    .setOutputCol(&quot;caption_document&quot;)
)

image_assembler = (
    ImageAssembler()
    .setInputCol(&quot;image&quot;)
    .setOutputCol(&quot;image_assembler&quot;)
)

medicalVisionLLM = (
    MedicalVisionLLM.pretrained(&quot;jsl_meds_ner_vlm_7b_q4_v1&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
    .setInputCols([&quot;caption_document&quot;, &quot;image_assembler&quot;])
    .setOutputCol(&quot;completions&quot;)
)

pipeline = Pipeline().setStages([
    document_assembler,
    image_assembler,
    medicalVisionLLM
])

model = pipeline.fit(input_df)
result = model.transform(input_df)

result.selectExpr(
    &quot;reverse(split(image.origin, '/')) as image_name&quot;, &quot;completions.result&quot;
).show(truncate=False)

```

{:.jsl-block}
```python
from johnsnowlabs import nlp, medical

!wget -O images/prescription_01.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_01.png&quot;
!wget -O images/prescription_02.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_02.png&quot;

prompt = &quot;&quot;&quot;
# Template:
{
  &quot;Patient Name&quot;: &quot;string&quot;,
  &quot;Patient Age&quot;: &quot;integer&quot;,
  &quot;Patient Gender&quot;: &quot;string&quot;,
  &quot;Hospital Number&quot;: &quot;string&quot;,
  &quot;Episode Number&quot;: &quot;string&quot;,
  &quot;Episode Date&quot;: &quot;date-time&quot;
}
# Context:
&lt;image&gt;
&quot;&quot;&quot;

input_df = nlp.vision_llm_preprocessor(
    spark=spark,
    images_path=&quot;images&quot;,
    prompt=prompt,
    output_col_name=&quot;prompt&quot;
)

document_assembler = (
    nlp.DocumentAssembler()
    .setInputCol(&quot;prompt&quot;)
    .setOutputCol(&quot;caption_document&quot;)
)

image_assembler = (
    nlp.ImageAssembler()
    .setInputCol(&quot;image&quot;)
    .setOutputCol(&quot;image_assembler&quot;)
)

medicalVisionLLM = (
    medical.MedicalVisionLLM.pretrained(&quot;jsl_meds_ner_vlm_7b_q4_v1&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
    .setInputCols([&quot;caption_document&quot;, &quot;image_assembler&quot;])
    .setOutputCol(&quot;completions&quot;)
)

pipeline = nlp.Pipeline().setStages([
    document_assembler,
    image_assembler,
    medicalVisionLLM
])

model = pipeline.fit(input_df)
result = model.transform(input_df)

result.selectExpr(
    &quot;reverse(split(image.origin, '/')) as image_name&quot;, &quot;completions.result&quot;
).show(truncate=False)

```
```scala
import com.johnsnowlabs.nlp.base._
import com.johnsnowlabs.nlp.annotators._
import org.apache.spark.sql.functions._
import org.apache.spark.ml.Pipeline

!wget -O images/prescription_01.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_01.png&quot;
!wget -O images/prescription_02.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_02.png&quot;

val prompt = &quot;&quot;&quot;
# Template:
{
  &quot;Patient Name&quot;: &quot;string&quot;,
  &quot;Patient Age&quot;: &quot;integer&quot;,
  &quot;Patient Gender&quot;: &quot;string&quot;,
  &quot;Hospital Number&quot;: &quot;string&quot;,
  &quot;Episode Number&quot;: &quot;string&quot;,
  &quot;Episode Date&quot;: &quot;date-time&quot;
}
# Context:
&lt;image&gt;
&quot;&quot;&quot;

val data = ImageAssembler.loadImagesAsBytes(spark, images)
  .withColumn(&quot;caption&quot;, lit(prompt))

val documentAssembler = new DocumentAssembler()
  .setInputCol(&quot;caption&quot;)
  .setOutputCol(&quot;caption_document&quot;)

val imageAssembler = new ImageAssembler()
  .setInputCol(&quot;image&quot;)
  .setOutputCol(&quot;image_assembler&quot;)

val medicalVisionLLM = MedicalVisionLLM
  .pretrained(&quot;jsl_meds_ner_vlm_7b_q4_v1&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
  .setInputCols(Array(&quot;caption_document&quot;, &quot;image_assembler&quot;))
  .setOutputCol(&quot;completions&quot;)

val pipeline = new Pipeline().setStages(Array(
  documentAssembler,
  imageAssembler,
  medicalVisionLLM
))

val model = pipeline.fit(data)
val result = model.transform(data)

result.selectExpr(
  &quot;reverse(split(image.origin, '/'))[0] as image_name&quot;,
  &quot;completions.result&quot;
).show(false)

```
&lt;/div&gt;

## Results

```bash

{
  &quot;Patient Name&quot;: &quot;Rukhsana Shaheen&quot;,
  &quot;Patient Age&quot;: 56,
  &quot;Patient Gender&quot;: &quot;Female&quot;,
  &quot;Hospital Number&quot;: &quot;MH005990453&quot;,
  &quot;Episode Number&quot;: &quot;O30000528270&quot;,
  &quot;Episode Date&quot;: &quot;2021-07-02T08:31:00Z&quot;
}

```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|jsl_meds_ner_vlm_7b_q4_v1|
|Compatibility:|Healthcare NLP 6.1.0+|
|License:|Licensed|
|Edition:|Official|
|Input Labels:|[caption_document, image_assembler]|
|Output Labels:|[completions]|
|Language:|en|
|Size:|5.4 GB|</content><author><name>John Snow Labs</name></author><category term="medical" /><category term="clinical" /><category term="vlm" /><category term="q4" /><category term="7b" /><category term="en" /><category term="licensed" /><category term="llamacpp" /><summary type="html">Description This vision-language model is trained to understand medical images and extract key details such as patient demographics, clinical conditions, and prescribed medications, etc. Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU from sparknlp.base import DocumentAssembler, ImageAssembler from sparknlp_jsl.utils import vision_llm_preprocessor from sparknlp_jsl.annotator import MedicalVisionLLM from pyspark.ml import Pipeline !wget -O images/prescription_01.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_01.png&quot; !wget -O images/prescription_02.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_02.png&quot; prompt = &quot;&quot;&quot; # Template: { &quot;Patient Name&quot;: &quot;string&quot;, &quot;Patient Age&quot;: &quot;integer&quot;, &quot;Patient Gender&quot;: &quot;string&quot;, &quot;Hospital Number&quot;: &quot;string&quot;, &quot;Episode Number&quot;: &quot;string&quot;, &quot;Episode Date&quot;: &quot;date-time&quot; } # Context: &amp;lt;image&amp;gt; &quot;&quot;&quot; input_df = vision_llm_preprocessor( spark=spark, images_path=&quot;images&quot;, prompt=prompt, output_col_name=&quot;prompt&quot; ) document_assembler = ( DocumentAssembler() .setInputCol(&quot;prompt&quot;) .setOutputCol(&quot;caption_document&quot;) ) image_assembler = ( ImageAssembler() .setInputCol(&quot;image&quot;) .setOutputCol(&quot;image_assembler&quot;) ) medicalVisionLLM = ( MedicalVisionLLM.pretrained(&quot;jsl_meds_ner_vlm_7b_q4_v1&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols([&quot;caption_document&quot;, &quot;image_assembler&quot;]) .setOutputCol(&quot;completions&quot;) ) pipeline = Pipeline().setStages([ document_assembler, image_assembler, medicalVisionLLM ]) model = pipeline.fit(input_df) result = model.transform(input_df) result.selectExpr( &quot;reverse(split(image.origin, '/')) as image_name&quot;, &quot;completions.result&quot; ).show(truncate=False) from johnsnowlabs import nlp, medical !wget -O images/prescription_01.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_01.png&quot; !wget -O images/prescription_02.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_02.png&quot; prompt = &quot;&quot;&quot; # Template: { &quot;Patient Name&quot;: &quot;string&quot;, &quot;Patient Age&quot;: &quot;integer&quot;, &quot;Patient Gender&quot;: &quot;string&quot;, &quot;Hospital Number&quot;: &quot;string&quot;, &quot;Episode Number&quot;: &quot;string&quot;, &quot;Episode Date&quot;: &quot;date-time&quot; } # Context: &amp;lt;image&amp;gt; &quot;&quot;&quot; input_df = nlp.vision_llm_preprocessor( spark=spark, images_path=&quot;images&quot;, prompt=prompt, output_col_name=&quot;prompt&quot; ) document_assembler = ( nlp.DocumentAssembler() .setInputCol(&quot;prompt&quot;) .setOutputCol(&quot;caption_document&quot;) ) image_assembler = ( nlp.ImageAssembler() .setInputCol(&quot;image&quot;) .setOutputCol(&quot;image_assembler&quot;) ) medicalVisionLLM = ( medical.MedicalVisionLLM.pretrained(&quot;jsl_meds_ner_vlm_7b_q4_v1&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols([&quot;caption_document&quot;, &quot;image_assembler&quot;]) .setOutputCol(&quot;completions&quot;) ) pipeline = nlp.Pipeline().setStages([ document_assembler, image_assembler, medicalVisionLLM ]) model = pipeline.fit(input_df) result = model.transform(input_df) result.selectExpr( &quot;reverse(split(image.origin, '/')) as image_name&quot;, &quot;completions.result&quot; ).show(truncate=False) import com.johnsnowlabs.nlp.base._ import com.johnsnowlabs.nlp.annotators._ import org.apache.spark.sql.functions._ import org.apache.spark.ml.Pipeline !wget -O images/prescription_01.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_01.png&quot; !wget -O images/prescription_02.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_02.png&quot; val prompt = &quot;&quot;&quot; # Template: { &quot;Patient Name&quot;: &quot;string&quot;, &quot;Patient Age&quot;: &quot;integer&quot;, &quot;Patient Gender&quot;: &quot;string&quot;, &quot;Hospital Number&quot;: &quot;string&quot;, &quot;Episode Number&quot;: &quot;string&quot;, &quot;Episode Date&quot;: &quot;date-time&quot; } # Context: &amp;lt;image&amp;gt; &quot;&quot;&quot; val data = ImageAssembler.loadImagesAsBytes(spark, images) .withColumn(&quot;caption&quot;, lit(prompt)) val documentAssembler = new DocumentAssembler() .setInputCol(&quot;caption&quot;) .setOutputCol(&quot;caption_document&quot;) val imageAssembler = new ImageAssembler() .setInputCol(&quot;image&quot;) .setOutputCol(&quot;image_assembler&quot;) val medicalVisionLLM = MedicalVisionLLM .pretrained(&quot;jsl_meds_ner_vlm_7b_q4_v1&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;caption_document&quot;, &quot;image_assembler&quot;)) .setOutputCol(&quot;completions&quot;) val pipeline = new Pipeline().setStages(Array( documentAssembler, imageAssembler, medicalVisionLLM )) val model = pipeline.fit(data) val result = model.transform(data) result.selectExpr( &quot;reverse(split(image.origin, '/'))[0] as image_name&quot;, &quot;completions.result&quot; ).show(false) Results { &quot;Patient Name&quot;: &quot;Rukhsana Shaheen&quot;, &quot;Patient Age&quot;: 56, &quot;Patient Gender&quot;: &quot;Female&quot;, &quot;Hospital Number&quot;: &quot;MH005990453&quot;, &quot;Episode Number&quot;: &quot;O30000528270&quot;, &quot;Episode Date&quot;: &quot;2021-07-02T08:31:00Z&quot; } Model Information Model Name: jsl_meds_ner_vlm_7b_q4_v1 Compatibility: Healthcare NLP 6.1.0+ License: Licensed Edition: Official Input Labels: [caption_document, image_assembler] Output Labels: [completions] Language: en Size: 5.4 GB</summary></entry><entry><title type="html">JSL_MedS_NER_VLM_v1 (VLM - 7b - q8)</title><link href="/2025/09/16/jsl_meds_ner_vlm_7b_q8_v1_en.html" rel="alternate" type="text/html" title="JSL_MedS_NER_VLM_v1 (VLM - 7b - q8)" /><published>2025-09-16T00:00:00+00:00</published><updated>2025-09-16T00:00:00+00:00</updated><id>/2025/09/16/jsl_meds_ner_vlm_7b_q8_v1_en</id><content type="html" xml:base="/2025/09/16/jsl_meds_ner_vlm_7b_q8_v1_en.html">## Description

This vision-language model is trained to understand medical images and extract key details such as patient demographics, clinical conditions, and prescribed medications, etc.

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/jsl_meds_ner_vlm_7b_q8_v1_en_6.1.0_3.0_1757991219433.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/jsl_meds_ner_vlm_7b_q8_v1_en_6.1.0_3.0_1757991219433.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python
from sparknlp.base import DocumentAssembler, ImageAssembler
from sparknlp_jsl.utils import vision_llm_preprocessor
from sparknlp_jsl.annotator import MedicalVisionLLM
from pyspark.ml import Pipeline

!wget -O images/prescription_01.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_01.png&quot;
!wget -O images/prescription_02.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_02.png&quot;

prompt = &quot;&quot;&quot;
# Template:
{
  &quot;Patient Name&quot;: &quot;string&quot;,
  &quot;Patient Age&quot;: &quot;integer&quot;,
  &quot;Patient Gender&quot;: &quot;string&quot;,
  &quot;Hospital Number&quot;: &quot;string&quot;,
  &quot;Episode Number&quot;: &quot;string&quot;,
  &quot;Episode Date&quot;: &quot;date-time&quot;
}
# Context:
&lt;image&gt;
&quot;&quot;&quot;

input_df = vision_llm_preprocessor(
    spark=spark,
    images_path=&quot;images&quot;,
    prompt=prompt,
    output_col_name=&quot;prompt&quot;
)

document_assembler = (
    DocumentAssembler()
    .setInputCol(&quot;prompt&quot;)
    .setOutputCol(&quot;caption_document&quot;)
)

image_assembler = (
    ImageAssembler()
    .setInputCol(&quot;image&quot;)
    .setOutputCol(&quot;image_assembler&quot;)
)

medicalVisionLLM = (
    MedicalVisionLLM.pretrained(&quot;jsl_meds_ner_vlm_7b_q8_v1&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
    .setInputCols([&quot;caption_document&quot;, &quot;image_assembler&quot;])
    .setOutputCol(&quot;completions&quot;)
)

pipeline = Pipeline().setStages([
    document_assembler,
    image_assembler,
    medicalVisionLLM
])

model = pipeline.fit(input_df)
result = model.transform(input_df)

result.selectExpr(
    &quot;reverse(split(image.origin, '/')) as image_name&quot;, &quot;completions.result&quot;
).show(truncate=False)

```

{:.jsl-block}
```python
from johnsnowlabs import nlp, medical

!wget -O images/prescription_01.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_01.png&quot;
!wget -O images/prescription_02.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_02.png&quot;

prompt = &quot;&quot;&quot;
# Template:
{
  &quot;Patient Name&quot;: &quot;string&quot;,
  &quot;Patient Age&quot;: &quot;integer&quot;,
  &quot;Patient Gender&quot;: &quot;string&quot;,
  &quot;Hospital Number&quot;: &quot;string&quot;,
  &quot;Episode Number&quot;: &quot;string&quot;,
  &quot;Episode Date&quot;: &quot;date-time&quot;
}
# Context:
&lt;image&gt;
&quot;&quot;&quot;

input_df = nlp.vision_llm_preprocessor(
    spark=spark,
    images_path=&quot;images&quot;,
    prompt=prompt,
    output_col_name=&quot;prompt&quot;
)

document_assembler = (
    nlp.DocumentAssembler()
    .setInputCol(&quot;prompt&quot;)
    .setOutputCol(&quot;caption_document&quot;)
)

image_assembler = (
    nlp.ImageAssembler()
    .setInputCol(&quot;image&quot;)
    .setOutputCol(&quot;image_assembler&quot;)
)

medicalVisionLLM = (
    medical.MedicalVisionLLM.pretrained(&quot;jsl_meds_ner_vlm_7b_q8_v1&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
    .setInputCols([&quot;caption_document&quot;, &quot;image_assembler&quot;])
    .setOutputCol(&quot;completions&quot;)
)

pipeline = nlp.Pipeline().setStages([
    document_assembler,
    image_assembler,
    medicalVisionLLM
])

model = pipeline.fit(input_df)
result = model.transform(input_df)

result.selectExpr(
    &quot;reverse(split(image.origin, '/')) as image_name&quot;, &quot;completions.result&quot;
).show(truncate=False)

```
```scala
import com.johnsnowlabs.nlp.base._
import com.johnsnowlabs.nlp.annotators._
import org.apache.spark.sql.functions._
import org.apache.spark.ml.Pipeline

!wget -O images/prescription_01.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_01.png&quot;
!wget -O images/prescription_02.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_02.png&quot;

val prompt = &quot;&quot;&quot;
# Template:
{
  &quot;Patient Name&quot;: &quot;string&quot;,
  &quot;Patient Age&quot;: &quot;integer&quot;,
  &quot;Patient Gender&quot;: &quot;string&quot;,
  &quot;Hospital Number&quot;: &quot;string&quot;,
  &quot;Episode Number&quot;: &quot;string&quot;,
  &quot;Episode Date&quot;: &quot;date-time&quot;
}
# Context:
&lt;image&gt;
&quot;&quot;&quot;

val data = ImageAssembler.loadImagesAsBytes(spark, images)
  .withColumn(&quot;caption&quot;, lit(prompt))

val documentAssembler = new DocumentAssembler()
  .setInputCol(&quot;caption&quot;)
  .setOutputCol(&quot;caption_document&quot;)

val imageAssembler = new ImageAssembler()
  .setInputCol(&quot;image&quot;)
  .setOutputCol(&quot;image_assembler&quot;)

val medicalVisionLLM = MedicalVisionLLM
  .pretrained(&quot;jsl_meds_ner_vlm_7b_q8_v1&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
  .setInputCols(Array(&quot;caption_document&quot;, &quot;image_assembler&quot;))
  .setOutputCol(&quot;completions&quot;)

val pipeline = new Pipeline().setStages(Array(
  documentAssembler,
  imageAssembler,
  medicalVisionLLM
))

val model = pipeline.fit(data)
val result = model.transform(data)

result.selectExpr(
  &quot;reverse(split(image.origin, '/'))[0] as image_name&quot;,
  &quot;completions.result&quot;
).show(false)

```
&lt;/div&gt;

## Results

```bash

{
  &quot;Patient Name&quot;: &quot;Rukhsana Shaheen&quot;,
  &quot;Patient Age&quot;: 56,
  &quot;Patient Gender&quot;: &quot;Female&quot;,
  &quot;Hospital Number&quot;: &quot;MH005990453&quot;,
  &quot;Episode Number&quot;: &quot;O30000528270&quot;,
  &quot;Episode Date&quot;: &quot;2021-07-02T08:31:00Z&quot;
}

```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|jsl_meds_ner_vlm_7b_q8_v1|
|Compatibility:|Healthcare NLP 6.1.0+|
|License:|Licensed|
|Edition:|Official|
|Input Labels:|[caption_document, image_assembler]|
|Output Labels:|[completions]|
|Language:|en|
|Size:|8.5 GB|</content><author><name>John Snow Labs</name></author><category term="medical" /><category term="clinical" /><category term="vlm" /><category term="q8" /><category term="7b" /><category term="en" /><category term="licensed" /><category term="llamacpp" /><summary type="html">Description This vision-language model is trained to understand medical images and extract key details such as patient demographics, clinical conditions, and prescribed medications, etc. Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU from sparknlp.base import DocumentAssembler, ImageAssembler from sparknlp_jsl.utils import vision_llm_preprocessor from sparknlp_jsl.annotator import MedicalVisionLLM from pyspark.ml import Pipeline !wget -O images/prescription_01.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_01.png&quot; !wget -O images/prescription_02.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_02.png&quot; prompt = &quot;&quot;&quot; # Template: { &quot;Patient Name&quot;: &quot;string&quot;, &quot;Patient Age&quot;: &quot;integer&quot;, &quot;Patient Gender&quot;: &quot;string&quot;, &quot;Hospital Number&quot;: &quot;string&quot;, &quot;Episode Number&quot;: &quot;string&quot;, &quot;Episode Date&quot;: &quot;date-time&quot; } # Context: &amp;lt;image&amp;gt; &quot;&quot;&quot; input_df = vision_llm_preprocessor( spark=spark, images_path=&quot;images&quot;, prompt=prompt, output_col_name=&quot;prompt&quot; ) document_assembler = ( DocumentAssembler() .setInputCol(&quot;prompt&quot;) .setOutputCol(&quot;caption_document&quot;) ) image_assembler = ( ImageAssembler() .setInputCol(&quot;image&quot;) .setOutputCol(&quot;image_assembler&quot;) ) medicalVisionLLM = ( MedicalVisionLLM.pretrained(&quot;jsl_meds_ner_vlm_7b_q8_v1&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols([&quot;caption_document&quot;, &quot;image_assembler&quot;]) .setOutputCol(&quot;completions&quot;) ) pipeline = Pipeline().setStages([ document_assembler, image_assembler, medicalVisionLLM ]) model = pipeline.fit(input_df) result = model.transform(input_df) result.selectExpr( &quot;reverse(split(image.origin, '/')) as image_name&quot;, &quot;completions.result&quot; ).show(truncate=False) from johnsnowlabs import nlp, medical !wget -O images/prescription_01.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_01.png&quot; !wget -O images/prescription_02.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_02.png&quot; prompt = &quot;&quot;&quot; # Template: { &quot;Patient Name&quot;: &quot;string&quot;, &quot;Patient Age&quot;: &quot;integer&quot;, &quot;Patient Gender&quot;: &quot;string&quot;, &quot;Hospital Number&quot;: &quot;string&quot;, &quot;Episode Number&quot;: &quot;string&quot;, &quot;Episode Date&quot;: &quot;date-time&quot; } # Context: &amp;lt;image&amp;gt; &quot;&quot;&quot; input_df = nlp.vision_llm_preprocessor( spark=spark, images_path=&quot;images&quot;, prompt=prompt, output_col_name=&quot;prompt&quot; ) document_assembler = ( nlp.DocumentAssembler() .setInputCol(&quot;prompt&quot;) .setOutputCol(&quot;caption_document&quot;) ) image_assembler = ( nlp.ImageAssembler() .setInputCol(&quot;image&quot;) .setOutputCol(&quot;image_assembler&quot;) ) medicalVisionLLM = ( medical.MedicalVisionLLM.pretrained(&quot;jsl_meds_ner_vlm_7b_q8_v1&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols([&quot;caption_document&quot;, &quot;image_assembler&quot;]) .setOutputCol(&quot;completions&quot;) ) pipeline = nlp.Pipeline().setStages([ document_assembler, image_assembler, medicalVisionLLM ]) model = pipeline.fit(input_df) result = model.transform(input_df) result.selectExpr( &quot;reverse(split(image.origin, '/')) as image_name&quot;, &quot;completions.result&quot; ).show(truncate=False) import com.johnsnowlabs.nlp.base._ import com.johnsnowlabs.nlp.annotators._ import org.apache.spark.sql.functions._ import org.apache.spark.ml.Pipeline !wget -O images/prescription_01.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_01.png&quot; !wget -O images/prescription_02.png -q &quot;https://raw.githubusercontent.com/JohnSnowLabs/spark-nlp-workshop/master/healthcare-nlp/data/ocr/prescription_02.png&quot; val prompt = &quot;&quot;&quot; # Template: { &quot;Patient Name&quot;: &quot;string&quot;, &quot;Patient Age&quot;: &quot;integer&quot;, &quot;Patient Gender&quot;: &quot;string&quot;, &quot;Hospital Number&quot;: &quot;string&quot;, &quot;Episode Number&quot;: &quot;string&quot;, &quot;Episode Date&quot;: &quot;date-time&quot; } # Context: &amp;lt;image&amp;gt; &quot;&quot;&quot; val data = ImageAssembler.loadImagesAsBytes(spark, images) .withColumn(&quot;caption&quot;, lit(prompt)) val documentAssembler = new DocumentAssembler() .setInputCol(&quot;caption&quot;) .setOutputCol(&quot;caption_document&quot;) val imageAssembler = new ImageAssembler() .setInputCol(&quot;image&quot;) .setOutputCol(&quot;image_assembler&quot;) val medicalVisionLLM = MedicalVisionLLM .pretrained(&quot;jsl_meds_ner_vlm_7b_q8_v1&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;caption_document&quot;, &quot;image_assembler&quot;)) .setOutputCol(&quot;completions&quot;) val pipeline = new Pipeline().setStages(Array( documentAssembler, imageAssembler, medicalVisionLLM )) val model = pipeline.fit(data) val result = model.transform(data) result.selectExpr( &quot;reverse(split(image.origin, '/'))[0] as image_name&quot;, &quot;completions.result&quot; ).show(false) Results { &quot;Patient Name&quot;: &quot;Rukhsana Shaheen&quot;, &quot;Patient Age&quot;: 56, &quot;Patient Gender&quot;: &quot;Female&quot;, &quot;Hospital Number&quot;: &quot;MH005990453&quot;, &quot;Episode Number&quot;: &quot;O30000528270&quot;, &quot;Episode Date&quot;: &quot;2021-07-02T08:31:00Z&quot; } Model Information Model Name: jsl_meds_ner_vlm_7b_q8_v1 Compatibility: Healthcare NLP 6.1.0+ License: Licensed Edition: Official Input Labels: [caption_document, image_assembler] Output Labels: [completions] Language: en Size: 8.5 GB</summary></entry><entry><title type="html">Adverse Drug Events Binary Classifier (BioBERT) ONNX</title><link href="/2025/09/12/bert_sequence_classifier_ade_augmented_onnx_en.html" rel="alternate" type="text/html" title="Adverse Drug Events Binary Classifier (BioBERT) ONNX" /><published>2025-09-12T00:00:00+00:00</published><updated>2025-09-12T00:00:00+00:00</updated><id>/2025/09/12/bert_sequence_classifier_ade_augmented_onnx_en</id><content type="html" xml:base="/2025/09/12/bert_sequence_classifier_ade_augmented_onnx_en.html">## Description

This model is a [BioBERT-based] (https://github.com/dmis-lab/biobert) classifier that can classify tweets reporting ADEs (Adverse Drug Events).

## Predicted Entities

`ADE`, `noADE`

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/bert_sequence_classifier_ade_augmented_onnx_en_6.1.1_3.0_1757681251743.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/bert_sequence_classifier_ade_augmented_onnx_en_6.1.1_3.0_1757681251743.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python
document_assembler = DocumentAssembler() \
    .setInputCol(&quot;text&quot;) \
    .setOutputCol(&quot;document&quot;)

tokenizer = Tokenizer() \
    .setInputCols([&quot;document&quot;]) \
    .setOutputCol(&quot;token&quot;)

sequence_classifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_ade_augmented_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
  .setInputCols([&quot;document&quot;, &quot;token&quot;])\
  .setOutputCol(&quot;class&quot;)

pipeline = Pipeline(stages=[
    document_assembler, 
    tokenizer,
    sequence_classifier    
])

data = spark.createDataFrame([&quot;So glad I am off effexor, so sad it ruined my teeth. tip Please be carefull taking antideppresiva and read about it 1st&quot;,
                              &quot;Religare Capital Ranbaxy has been accepting approval for Diovan since 2012&quot;], StringType()).toDF(&quot;text&quot;)

model = pipeline.fit(data)
result = model.transform(data)
```

{:.jsl-block}
```python
document_assembler = nlp.DocumentAssembler() \
    .setInputCol(&quot;text&quot;) \
    .setOutputCol(&quot;document&quot;)

tokenizer = nlp.Tokenizer() \
    .setInputCols([&quot;document&quot;]) \
    .setOutputCol(&quot;token&quot;)

sequenceClassifier = medical.BertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_ade_augmented_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols([&quot;document&quot;,&quot;token&quot;])\
    .setOutputCol(&quot;classes&quot;)

pipeline = nlp.Pipeline(stages=[
    document_assembler,
    tokenizer,
    sequenceClassifier
])

data = spark.createDataFrame([&quot;So glad I am off effexor, so sad it ruined my teeth. tip Please be carefull taking antideppresiva and read about it 1st&quot;,
                                 &quot;Religare Capital Ranbaxy has been accepting approval for Diovan since 2012&quot;], StringType()).toDF(&quot;text&quot;)

model = pipeline.fit(data)
result = model.transform(data)

```
```scala
val document_assembler = new DocumentAssembler() 
    .setInputCol(&quot;text&quot;) 
    .setOutputCol(&quot;document&quot;)

val tokenizer = new Tokenizer() 
    .setInputCols(Array(&quot;document&quot;)) 
    .setOutputCol(&quot;token&quot;)

val sequenceClassifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_ade_augmented_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
  .setInputCols(Array(&quot;document&quot;,&quot;token&quot;))
  .setOutputCol(&quot;class&quot;)

val pipeline = new Pipeline().setStages(Array(document_assembler, tokenizer, sequenceClassifier))

val data = Seq(Array(&quot;So glad I am off effexor, so sad it ruined my teeth. tip Please be carefull taking antideppresiva and read about it 1st&quot;,
                     &quot;Religare Capital Ranbaxy has been accepting approval for Diovan since 2012&quot;)).toDF(&quot;text&quot;)

val model = pipeline.fit(data)
val result = model.transform(data)
```
&lt;/div&gt;

## Results

```bash

+-----------------------------------------------------------------------------------------------------------------------+-------+
|text                                                                                                                   |result |
+-----------------------------------------------------------------------------------------------------------------------+-------+
|So glad I am off effexor, so sad it ruined my teeth. tip Please be carefull taking antideppresiva and read about it 1st|[ADE]  |
|Religare Capital Ranbaxy has been accepting approval for Diovan since 2012                                             |[noADE]|
+-----------------------------------------------------------------------------------------------------------------------+-------+
```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|bert_sequence_classifier_ade_augmented_onnx|
|Compatibility:|Healthcare NLP 6.1.1+|
|License:|Licensed|
|Edition:|Official|
|Input Labels:|[document, token]|
|Output Labels:|[label]|
|Language:|en|
|Size:|437.7 MB|
|Case sensitive:|true|</content><author><name>John Snow Labs</name></author><category term="clinical" /><category term="licensed" /><category term="public_health" /><category term="ade" /><category term="classifier" /><category term="sequence_classification" /><category term="en" /><category term="onnx" /><summary type="html">Description This model is a [BioBERT-based] (https://github.com/dmis-lab/biobert) classifier that can classify tweets reporting ADEs (Adverse Drug Events). Predicted Entities ADE, noADE Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU document_assembler = DocumentAssembler() \ .setInputCol(&quot;text&quot;) \ .setOutputCol(&quot;document&quot;) tokenizer = Tokenizer() \ .setInputCols([&quot;document&quot;]) \ .setOutputCol(&quot;token&quot;) sequence_classifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_ade_augmented_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;document&quot;, &quot;token&quot;])\ .setOutputCol(&quot;class&quot;) pipeline = Pipeline(stages=[ document_assembler, tokenizer, sequence_classifier ]) data = spark.createDataFrame([&quot;So glad I am off effexor, so sad it ruined my teeth. tip Please be carefull taking antideppresiva and read about it 1st&quot;, &quot;Religare Capital Ranbaxy has been accepting approval for Diovan since 2012&quot;], StringType()).toDF(&quot;text&quot;) model = pipeline.fit(data) result = model.transform(data) document_assembler = nlp.DocumentAssembler() \ .setInputCol(&quot;text&quot;) \ .setOutputCol(&quot;document&quot;) tokenizer = nlp.Tokenizer() \ .setInputCols([&quot;document&quot;]) \ .setOutputCol(&quot;token&quot;) sequenceClassifier = medical.BertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_ade_augmented_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;document&quot;,&quot;token&quot;])\ .setOutputCol(&quot;classes&quot;) pipeline = nlp.Pipeline(stages=[ document_assembler, tokenizer, sequenceClassifier ]) data = spark.createDataFrame([&quot;So glad I am off effexor, so sad it ruined my teeth. tip Please be carefull taking antideppresiva and read about it 1st&quot;, &quot;Religare Capital Ranbaxy has been accepting approval for Diovan since 2012&quot;], StringType()).toDF(&quot;text&quot;) model = pipeline.fit(data) result = model.transform(data) val document_assembler = new DocumentAssembler() .setInputCol(&quot;text&quot;) .setOutputCol(&quot;document&quot;) val tokenizer = new Tokenizer() .setInputCols(Array(&quot;document&quot;)) .setOutputCol(&quot;token&quot;) val sequenceClassifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_ade_augmented_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;document&quot;,&quot;token&quot;)) .setOutputCol(&quot;class&quot;) val pipeline = new Pipeline().setStages(Array(document_assembler, tokenizer, sequenceClassifier)) val data = Seq(Array(&quot;So glad I am off effexor, so sad it ruined my teeth. tip Please be carefull taking antideppresiva and read about it 1st&quot;, &quot;Religare Capital Ranbaxy has been accepting approval for Diovan since 2012&quot;)).toDF(&quot;text&quot;) val model = pipeline.fit(data) val result = model.transform(data) Results +-----------------------------------------------------------------------------------------------------------------------+-------+ |text |result | +-----------------------------------------------------------------------------------------------------------------------+-------+ |So glad I am off effexor, so sad it ruined my teeth. tip Please be carefull taking antideppresiva and read about it 1st|[ADE] | |Religare Capital Ranbaxy has been accepting approval for Diovan since 2012 |[noADE]| +-----------------------------------------------------------------------------------------------------------------------+-------+ Model Information Model Name: bert_sequence_classifier_ade_augmented_onnx Compatibility: Healthcare NLP 6.1.1+ License: Licensed Edition: Official Input Labels: [document, token] Output Labels: [label] Language: en Size: 437.7 MB Case sensitive: true</summary></entry><entry><title type="html">Adverse Drug Events Binary Classifier ONNX</title><link href="/2025/09/12/bert_sequence_classifier_ade_augmented_v2_onnx_en.html" rel="alternate" type="text/html" title="Adverse Drug Events Binary Classifier ONNX" /><published>2025-09-12T00:00:00+00:00</published><updated>2025-09-12T00:00:00+00:00</updated><id>/2025/09/12/bert_sequence_classifier_ade_augmented_v2_onnx_en</id><content type="html" xml:base="/2025/09/12/bert_sequence_classifier_ade_augmented_v2_onnx_en.html">## Description

Classify texts/sentences in two categories:


- `True` : The sentence is talking about a possible ADE.


- `False` : The sentence doesn’t have any information about an ADE.


This model is a [BioBERT-based](https://github.com/dmis-lab/biobert) classifier.

## Predicted Entities



{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/bert_sequence_classifier_ade_augmented_v2_onnx_en_6.1.1_3.0_1757682018749.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/bert_sequence_classifier_ade_augmented_v2_onnx_en_6.1.1_3.0_1757682018749.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python
document_assembler = DocumentAssembler() \
    .setInputCol(&quot;text&quot;) \
    .setOutputCol(&quot;document&quot;)

tokenizer = Tokenizer() \
    .setInputCols([&quot;document&quot;]) \
    .setOutputCol(&quot;token&quot;)

sequence_classifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_ade_augmented_v2_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
  .setInputCols([&quot;document&quot;, &quot;token&quot;])\
  .setOutputCol(&quot;class&quot;)

pipeline = Pipeline(stages=[
    document_assembler, 
    tokenizer,
    sequence_classifier    
])

data = spark.createDataFrame([[&quot;I felt a bit drowsy and had blurred vision after taking Aspirin.&quot;]]).toDF(&quot;text&quot;)

model = pipeline.fit(data)
result = model.transform(data)
```

{:.jsl-block}
```python
document_assembler = nlp.DocumentAssembler() \
    .setInputCol(&quot;text&quot;) \
    .setOutputCol(&quot;document&quot;)

tokenizer = nlp.Tokenizer() \
    .setInputCols([&quot;document&quot;]) \
    .setOutputCol(&quot;token&quot;)

sequenceClassifier = medical.BertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_ade_augmented_v2_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols([&quot;document&quot;,&quot;token&quot;])\
    .setOutputCol(&quot;classes&quot;)

pipeline = nlp.Pipeline(stages=[
    document_assembler,
    tokenizer,
    sequenceClassifier
])

data = spark.createDataFrame([[&quot;I felt a bit drowsy and had blurred vision after taking Aspirin.&quot;]]).toDF(&quot;text&quot;)

model = pipeline.fit(data)
result = model.transform(data)

```
```scala
val document_assembler = new DocumentAssembler() 
    .setInputCol(&quot;text&quot;) 
    .setOutputCol(&quot;document&quot;)

val tokenizer = new Tokenizer() 
    .setInputCols(Array(&quot;document&quot;)) 
    .setOutputCol(&quot;token&quot;)

val sequenceClassifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_ade_augmented_v2_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
  .setInputCols(Array(&quot;document&quot;,&quot;token&quot;))
  .setOutputCol(&quot;class&quot;)

val pipeline = new Pipeline().setStages(Array(document_assembler, tokenizer, sequenceClassifier))

val data = Seq(&quot;I felt a bit drowsy and had blurred vision after taking Aspirin.&quot;).toDF(&quot;text&quot;)

val model = pipeline.fit(data)
val result = model.transform(data)
```
&lt;/div&gt;

## Results

```bash

+------+----------------------------------------------------------------+
|result|text                                                            |
+------+----------------------------------------------------------------+
|[True]|I felt a bit drowsy and had blurred vision after taking Aspirin.|
+------+----------------------------------------------------------------+
```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|bert_sequence_classifier_ade_augmented_v2_onnx|
|Compatibility:|Healthcare NLP 6.1.1+|
|License:|Licensed|
|Edition:|Official|
|Input Labels:|[document, token]|
|Output Labels:|[label]|
|Language:|en|
|Size:|437.7 MB|
|Case sensitive:|true|</content><author><name>John Snow Labs</name></author><category term="clinical" /><category term="licensed" /><category term="en" /><category term="text_classification" /><category term="ade" /><category term="classifier" /><category term="onnx" /><summary type="html">Description Classify texts/sentences in two categories: True : The sentence is talking about a possible ADE. False : The sentence doesn’t have any information about an ADE. This model is a BioBERT-based classifier. Predicted Entities Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU document_assembler = DocumentAssembler() \ .setInputCol(&quot;text&quot;) \ .setOutputCol(&quot;document&quot;) tokenizer = Tokenizer() \ .setInputCols([&quot;document&quot;]) \ .setOutputCol(&quot;token&quot;) sequence_classifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_ade_augmented_v2_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;document&quot;, &quot;token&quot;])\ .setOutputCol(&quot;class&quot;) pipeline = Pipeline(stages=[ document_assembler, tokenizer, sequence_classifier ]) data = spark.createDataFrame([[&quot;I felt a bit drowsy and had blurred vision after taking Aspirin.&quot;]]).toDF(&quot;text&quot;) model = pipeline.fit(data) result = model.transform(data) document_assembler = nlp.DocumentAssembler() \ .setInputCol(&quot;text&quot;) \ .setOutputCol(&quot;document&quot;) tokenizer = nlp.Tokenizer() \ .setInputCols([&quot;document&quot;]) \ .setOutputCol(&quot;token&quot;) sequenceClassifier = medical.BertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_ade_augmented_v2_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;document&quot;,&quot;token&quot;])\ .setOutputCol(&quot;classes&quot;) pipeline = nlp.Pipeline(stages=[ document_assembler, tokenizer, sequenceClassifier ]) data = spark.createDataFrame([[&quot;I felt a bit drowsy and had blurred vision after taking Aspirin.&quot;]]).toDF(&quot;text&quot;) model = pipeline.fit(data) result = model.transform(data) val document_assembler = new DocumentAssembler() .setInputCol(&quot;text&quot;) .setOutputCol(&quot;document&quot;) val tokenizer = new Tokenizer() .setInputCols(Array(&quot;document&quot;)) .setOutputCol(&quot;token&quot;) val sequenceClassifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_ade_augmented_v2_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;document&quot;,&quot;token&quot;)) .setOutputCol(&quot;class&quot;) val pipeline = new Pipeline().setStages(Array(document_assembler, tokenizer, sequenceClassifier)) val data = Seq(&quot;I felt a bit drowsy and had blurred vision after taking Aspirin.&quot;).toDF(&quot;text&quot;) val model = pipeline.fit(data) val result = model.transform(data) Results +------+----------------------------------------------------------------+ |result|text | +------+----------------------------------------------------------------+ |[True]|I felt a bit drowsy and had blurred vision after taking Aspirin.| +------+----------------------------------------------------------------+ Model Information Model Name: bert_sequence_classifier_ade_augmented_v2_onnx Compatibility: Healthcare NLP 6.1.1+ License: Licensed Edition: Official Input Labels: [document, token] Output Labels: [label] Language: en Size: 437.7 MB Case sensitive: true</summary></entry><entry><title type="html">Age Group Classifier (BioBERT) ONNX</title><link href="/2025/09/12/bert_sequence_classifier_age_group_onnx_en.html" rel="alternate" type="text/html" title="Age Group Classifier (BioBERT) ONNX" /><published>2025-09-12T00:00:00+00:00</published><updated>2025-09-12T00:00:00+00:00</updated><id>/2025/09/12/bert_sequence_classifier_age_group_onnx_en</id><content type="html" xml:base="/2025/09/12/bert_sequence_classifier_age_group_onnx_en.html">## Description

This model is a BioBERT-based Age Group Text Classifier and it is trained for analyzing the age group of a person mentioned in health documents. Age of the person may or may not be mentioned explicitly in the training dataset.

The Text Classifier model has been trained using in-house annotated health-related text that have been labeled with three different classes:

Adult: A person who is fully grown or developed. Typically refers to someone who is 18 years or older,

Child: Requires intervention, urgent, not life-threatening cases.

Unknown: Not possible to comprehend/figure out the age group from the given text.

## Predicted Entities

`Adult`, `Child`, `Unknown`

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/bert_sequence_classifier_age_group_onnx_en_6.1.1_3.0_1757682142232.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/bert_sequence_classifier_age_group_onnx_en_6.1.1_3.0_1757682142232.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python
document_assembler = DocumentAssembler() \
    .setInputCol(&quot;text&quot;) \
    .setOutputCol(&quot;document&quot;)

tokenizer = Tokenizer() \
    .setInputCols([&quot;document&quot;]) \
    .setOutputCol(&quot;token&quot;)

sequence_classifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_age_group_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
  .setInputCols([&quot;document&quot;, &quot;token&quot;])\
  .setOutputCol(&quot;class&quot;)

pipeline = Pipeline(stages=[
    document_assembler, 
    tokenizer,
    sequence_classifier    
])

data = spark.createDataFrame([[&quot;&quot;&quot;A patient presented with complaints of chest pain and shortness of breath. The medical history revealed the patient had a smoking habit for over 30 years, and was diagnosed with hypertension two years ago. After a detailed physical examination, the doctor found a noticeable wheeze on lung auscultation and prescribed a spirometry test, which showed irreversible airway obstruction. The patient was diagnosed with Chronic obstructive pulmonary disease (COPD) caused by smoking.&quot;&quot;&quot;],
 [&quot;&quot;&quot;My 4.5 year old has been poorly this week with a cold and thismorning he saw the doctors because he was up in the night last night saying his ear hurt and she said he has an ear infection.She said it's most likely viral but could be bacterial.Mostly they clear on their own.Watch and see about antibiotics.So we held off yestetday and today to see how be went and he perkes up today but then has gone downhill this evening saying his ear hurts still and he just feels poorly.&quot;&quot;&quot;],
 [&quot;&quot;&quot;Hi have chronic gastritis from 4 month(confirmed by endoscopy).I do not have acid reflux.Only dull ache above abdomen and left side of chest.I am on reberprozole and librax.My question is whether chronic gastritis is curable or is it a lifetime condition?I am loosing hope because this dull ache is not going away.Please please reply&quot;&quot;&quot;]
 ]).toDF(&quot;text&quot;)

model = pipeline.fit(data)
result = model.transform(data)
```

{:.jsl-block}
```python
document_assembler = nlp.DocumentAssembler() \
    .setInputCol(&quot;text&quot;) \
    .setOutputCol(&quot;document&quot;)

tokenizer = nlp.Tokenizer() \
    .setInputCols([&quot;document&quot;]) \
    .setOutputCol(&quot;token&quot;)

sequenceClassifier = medical.BertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_age_group_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols([&quot;document&quot;,&quot;token&quot;])\
    .setOutputCol(&quot;classes&quot;)

pipeline = nlp.Pipeline(stages=[
    document_assembler,
    tokenizer,
    sequenceClassifier
])

data = spark.createDataFrame([[&quot;&quot;&quot;A patient presented with complaints of chest pain and shortness of breath. The medical history revealed the patient had a smoking habit for over 30 years, and was diagnosed with hypertension two years ago. After a detailed physical examination, the doctor found a noticeable wheeze on lung auscultation and prescribed a spirometry test, which showed irreversible airway obstruction. The patient was diagnosed with Chronic obstructive pulmonary disease (COPD) caused by smoking.&quot;&quot;&quot;],
 [&quot;&quot;&quot;My 4.5 year old has been poorly this week with a cold and thismorning he saw the doctors because he was up in the night last night saying his ear hurt and she said he has an ear infection.She said it's most likely viral but could be bacterial.Mostly they clear on their own.Watch and see about antibiotics.So we held off yestetday and today to see how be went and he perkes up today but then has gone downhill this evening saying his ear hurts still and he just feels poorly.&quot;&quot;&quot;],
 [&quot;&quot;&quot;Hi have chronic gastritis from 4 month(confirmed by endoscopy).I do not have acid reflux.Only dull ache above abdomen and left side of chest.I am on reberprozole and librax.My question is whether chronic gastritis is curable or is it a lifetime condition?I am loosing hope because this dull ache is not going away.Please please reply&quot;&quot;&quot;]
 ]).toDF(&quot;text&quot;)

model = pipeline.fit(data)
result = model.transform(data)

```
```scala
val document_assembler = new DocumentAssembler() 
    .setInputCol(&quot;text&quot;) 
    .setOutputCol(&quot;document&quot;)

val tokenizer = new Tokenizer() 
    .setInputCols(Array(&quot;document&quot;)) 
    .setOutputCol(&quot;token&quot;)

val sequenceClassifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_age_group_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
  .setInputCols(Array(&quot;document&quot;,&quot;token&quot;))
  .setOutputCol(&quot;class&quot;)

val pipeline = new Pipeline().setStages(Array(document_assembler, tokenizer, sequenceClassifier))

val data = Seq(Array(&quot;A patient presented with complaints of chest pain and shortness of breath. The medical history revealed the patient had a smoking habit for over 30 years, and was diagnosed with hypertension two years ago. After a detailed physical examination, the doctor found a noticeable wheeze on lung auscultation and prescribed a spirometry test, which showed irreversible airway obstruction. The patient was diagnosed with Chronic obstructive pulmonary disease (COPD) caused by smoking.&quot;, &quot;My 4.5 year old has been poorly this week with a cold and thismorning he saw the doctors because he was up in the night last night saying his ear hurt and she said he has an ear infection.She said it's most likely viral but could be bacterial.Mostly they clear on their own.Watch and see about antibiotics.So we held off yestetday and today to see how be went and he perkes up today but then has gone downhill this evening saying his ear hurts still and he just feels poorly.&quot;, &quot;Hi have chronic gastritis from 4 month(confirmed by endoscopy).I do not have acid reflux.Only dull ache above abdomen and left side of chest.I am on reberprozole and librax.My question is whether chronic gastritis is curable or is it a lifetime condition?I am loosing hope because this dull ache is not going away.Please please reply&quot;)).toDF(&quot;text&quot;)

val model = pipeline.fit(data)
val result = model.transform(data)
```
&lt;/div&gt;

## Results

```bash

+------------------------------------------------------------------------------------------------------------------------------------------------------+---------+
|                                                                                                                                                  text|   result|
+------------------------------------------------------------------------------------------------------------------------------------------------------+---------+
|A patient presented with complaints of chest pain and shortness of breath. The medical history revealed the patient had a smoking habit for over 30...|  [Adult]|
|My 4.5 year old has been poorly this week with a cold and thismorning he saw the doctors because he was up in the night last night saying his ear h...|  [Child]|
|Hi have chronic gastritis from 4 month(confirmed by endoscopy).I do not have acid reflux.Only dull ache above abdomen and left side of chest.I am o...|[Unknown]|
+------------------------------------------------------------------------------------------------------------------------------------------------------+---------+
```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|bert_sequence_classifier_age_group_onnx|
|Compatibility:|Healthcare NLP 6.1.1+|
|License:|Licensed|
|Edition:|Official|
|Input Labels:|[document, token]|
|Output Labels:|[label]|
|Language:|en|
|Size:|437.7 MB|
|Case sensitive:|true|</content><author><name>John Snow Labs</name></author><category term="clinical" /><category term="licensed" /><category term="en" /><category term="text_classification" /><category term="age" /><category term="age_group" /><category term="onnx" /><summary type="html">Description This model is a BioBERT-based Age Group Text Classifier and it is trained for analyzing the age group of a person mentioned in health documents. Age of the person may or may not be mentioned explicitly in the training dataset. The Text Classifier model has been trained using in-house annotated health-related text that have been labeled with three different classes: Adult: A person who is fully grown or developed. Typically refers to someone who is 18 years or older, Child: Requires intervention, urgent, not life-threatening cases. Unknown: Not possible to comprehend/figure out the age group from the given text. Predicted Entities Adult, Child, Unknown Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU document_assembler = DocumentAssembler() \ .setInputCol(&quot;text&quot;) \ .setOutputCol(&quot;document&quot;) tokenizer = Tokenizer() \ .setInputCols([&quot;document&quot;]) \ .setOutputCol(&quot;token&quot;) sequence_classifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_age_group_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;document&quot;, &quot;token&quot;])\ .setOutputCol(&quot;class&quot;) pipeline = Pipeline(stages=[ document_assembler, tokenizer, sequence_classifier ]) data = spark.createDataFrame([[&quot;&quot;&quot;A patient presented with complaints of chest pain and shortness of breath. The medical history revealed the patient had a smoking habit for over 30 years, and was diagnosed with hypertension two years ago. After a detailed physical examination, the doctor found a noticeable wheeze on lung auscultation and prescribed a spirometry test, which showed irreversible airway obstruction. The patient was diagnosed with Chronic obstructive pulmonary disease (COPD) caused by smoking.&quot;&quot;&quot;], [&quot;&quot;&quot;My 4.5 year old has been poorly this week with a cold and thismorning he saw the doctors because he was up in the night last night saying his ear hurt and she said he has an ear infection.She said it's most likely viral but could be bacterial.Mostly they clear on their own.Watch and see about antibiotics.So we held off yestetday and today to see how be went and he perkes up today but then has gone downhill this evening saying his ear hurts still and he just feels poorly.&quot;&quot;&quot;], [&quot;&quot;&quot;Hi have chronic gastritis from 4 month(confirmed by endoscopy).I do not have acid reflux.Only dull ache above abdomen and left side of chest.I am on reberprozole and librax.My question is whether chronic gastritis is curable or is it a lifetime condition?I am loosing hope because this dull ache is not going away.Please please reply&quot;&quot;&quot;] ]).toDF(&quot;text&quot;) model = pipeline.fit(data) result = model.transform(data) document_assembler = nlp.DocumentAssembler() \ .setInputCol(&quot;text&quot;) \ .setOutputCol(&quot;document&quot;) tokenizer = nlp.Tokenizer() \ .setInputCols([&quot;document&quot;]) \ .setOutputCol(&quot;token&quot;) sequenceClassifier = medical.BertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_age_group_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;document&quot;,&quot;token&quot;])\ .setOutputCol(&quot;classes&quot;) pipeline = nlp.Pipeline(stages=[ document_assembler, tokenizer, sequenceClassifier ]) data = spark.createDataFrame([[&quot;&quot;&quot;A patient presented with complaints of chest pain and shortness of breath. The medical history revealed the patient had a smoking habit for over 30 years, and was diagnosed with hypertension two years ago. After a detailed physical examination, the doctor found a noticeable wheeze on lung auscultation and prescribed a spirometry test, which showed irreversible airway obstruction. The patient was diagnosed with Chronic obstructive pulmonary disease (COPD) caused by smoking.&quot;&quot;&quot;], [&quot;&quot;&quot;My 4.5 year old has been poorly this week with a cold and thismorning he saw the doctors because he was up in the night last night saying his ear hurt and she said he has an ear infection.She said it's most likely viral but could be bacterial.Mostly they clear on their own.Watch and see about antibiotics.So we held off yestetday and today to see how be went and he perkes up today but then has gone downhill this evening saying his ear hurts still and he just feels poorly.&quot;&quot;&quot;], [&quot;&quot;&quot;Hi have chronic gastritis from 4 month(confirmed by endoscopy).I do not have acid reflux.Only dull ache above abdomen and left side of chest.I am on reberprozole and librax.My question is whether chronic gastritis is curable or is it a lifetime condition?I am loosing hope because this dull ache is not going away.Please please reply&quot;&quot;&quot;] ]).toDF(&quot;text&quot;) model = pipeline.fit(data) result = model.transform(data) val document_assembler = new DocumentAssembler() .setInputCol(&quot;text&quot;) .setOutputCol(&quot;document&quot;) val tokenizer = new Tokenizer() .setInputCols(Array(&quot;document&quot;)) .setOutputCol(&quot;token&quot;) val sequenceClassifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_age_group_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;document&quot;,&quot;token&quot;)) .setOutputCol(&quot;class&quot;) val pipeline = new Pipeline().setStages(Array(document_assembler, tokenizer, sequenceClassifier)) val data = Seq(Array(&quot;A patient presented with complaints of chest pain and shortness of breath. The medical history revealed the patient had a smoking habit for over 30 years, and was diagnosed with hypertension two years ago. After a detailed physical examination, the doctor found a noticeable wheeze on lung auscultation and prescribed a spirometry test, which showed irreversible airway obstruction. The patient was diagnosed with Chronic obstructive pulmonary disease (COPD) caused by smoking.&quot;, &quot;My 4.5 year old has been poorly this week with a cold and thismorning he saw the doctors because he was up in the night last night saying his ear hurt and she said he has an ear infection.She said it's most likely viral but could be bacterial.Mostly they clear on their own.Watch and see about antibiotics.So we held off yestetday and today to see how be went and he perkes up today but then has gone downhill this evening saying his ear hurts still and he just feels poorly.&quot;, &quot;Hi have chronic gastritis from 4 month(confirmed by endoscopy).I do not have acid reflux.Only dull ache above abdomen and left side of chest.I am on reberprozole and librax.My question is whether chronic gastritis is curable or is it a lifetime condition?I am loosing hope because this dull ache is not going away.Please please reply&quot;)).toDF(&quot;text&quot;) val model = pipeline.fit(data) val result = model.transform(data) Results +------------------------------------------------------------------------------------------------------------------------------------------------------+---------+ | text| result| +------------------------------------------------------------------------------------------------------------------------------------------------------+---------+ |A patient presented with complaints of chest pain and shortness of breath. The medical history revealed the patient had a smoking habit for over 30...| [Adult]| |My 4.5 year old has been poorly this week with a cold and thismorning he saw the doctors because he was up in the night last night saying his ear h...| [Child]| |Hi have chronic gastritis from 4 month(confirmed by endoscopy).I do not have acid reflux.Only dull ache above abdomen and left side of chest.I am o...|[Unknown]| +------------------------------------------------------------------------------------------------------------------------------------------------------+---------+ Model Information Model Name: bert_sequence_classifier_age_group_onnx Compatibility: Healthcare NLP 6.1.1+ License: Licensed Edition: Official Input Labels: [document, token] Output Labels: [label] Language: en Size: 437.7 MB Case sensitive: true</summary></entry><entry><title type="html">RCT Binary Classifier (BioBERT) ONNX</title><link href="/2025/09/12/bert_sequence_classifier_binary_rct_biobert_onnx_en.html" rel="alternate" type="text/html" title="RCT Binary Classifier (BioBERT) ONNX" /><published>2025-09-12T00:00:00+00:00</published><updated>2025-09-12T00:00:00+00:00</updated><id>/2025/09/12/bert_sequence_classifier_binary_rct_biobert_onnx_en</id><content type="html" xml:base="/2025/09/12/bert_sequence_classifier_binary_rct_biobert_onnx_en.html">## Description

This model is a [BioBERT based](https://github.com/dmis-lab/biobert) classifier that can classify if an article is a randomized clinical trial (RCT) or not.

## Predicted Entities

`True`, `False`

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/bert_sequence_classifier_binary_rct_biobert_onnx_en_6.1.1_3.0_1757682430992.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/bert_sequence_classifier_binary_rct_biobert_onnx_en_6.1.1_3.0_1757682430992.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python
document_assembler = DocumentAssembler() \
    .setInputCol(&quot;text&quot;) \
    .setOutputCol(&quot;document&quot;)

tokenizer = Tokenizer() \
    .setInputCols([&quot;document&quot;]) \
    .setOutputCol(&quot;token&quot;)

sequence_classifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_binary_rct_biobert_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
  .setInputCols([&quot;document&quot;, &quot;token&quot;])\
  .setOutputCol(&quot;class&quot;)

pipeline = Pipeline(stages=[
    document_assembler, 
    tokenizer,
    sequence_classifier    
])

data = spark.createDataFrame([[&quot;&quot;&quot;Abstract:Based on the American Society of Anesthesiologists' Practice Guidelines for Sedation and Analgesia by Non-Anesthesiologists (ASA-SED), a sedation training course aimed at improving medical safety was developed by the Japanese Association for Medical Simulation in 2011. This study evaluated the effect of debriefing on participants' perceptions of the essential points of the ASA-SED. A total of 38 novice doctors participated in the sedation training course during the research period. Of these doctors, 18 participated in the debriefing group, and 20 participated in non-debriefing group. Scoring of participants' guideline perceptions was conducted using an evaluation sheet (nine items, 16 points) created based on the ASA-SED. The debriefing group showed a greater perception of the ASA-SED, as reflected in the significantly higher scores on the evaluation sheet (median, 16 points) than the control group (median, 13 points; p &lt; 0.05). No significant differences were identified before or during sedation, but the difference after sedation was significant (p &lt; 0.05). Debriefing after sedation training courses may contribute to better perception of the ASA-SED, and may lead to enhanced attitudes toward medical safety during sedation and analgesia. &quot;&quot;&quot;]]).toDF(&quot;text&quot;)

model = pipeline.fit(data)
result = model.transform(data)
```

{:.jsl-block}
```python
document_assembler = nlp.DocumentAssembler() \
    .setInputCol(&quot;text&quot;) \
    .setOutputCol(&quot;document&quot;)

tokenizer = nlp.Tokenizer() \
    .setInputCols([&quot;document&quot;]) \
    .setOutputCol(&quot;token&quot;)

sequenceClassifier = medical.BertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_binary_rct_biobert_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols([&quot;document&quot;,&quot;token&quot;])\
    .setOutputCol(&quot;classes&quot;)

pipeline = nlp.Pipeline(stages=[
    document_assembler,
    tokenizer,
    sequenceClassifier
])

data = spark.createDataFrame([[&quot;&quot;&quot;Abstract:Based on the American Society of Anesthesiologists' Practice Guidelines for Sedation and Analgesia by Non-Anesthesiologists (ASA-SED), a sedation training course aimed at improving medical safety was developed by the Japanese Association for Medical Simulation in 2011. This study evaluated the effect of debriefing on participants' perceptions of the essential points of the ASA-SED. A total of 38 novice doctors participated in the sedation training course during the research period. Of these doctors, 18 participated in the debriefing group, and 20 participated in non-debriefing group. Scoring of participants' guideline perceptions was conducted using an evaluation sheet (nine items, 16 points) created based on the ASA-SED. The debriefing group showed a greater perception of the ASA-SED, as reflected in the significantly higher scores on the evaluation sheet (median, 16 points) than the control group (median, 13 points; p &lt; 0.05). No significant differences were identified before or during sedation, but the difference after sedation was significant (p &lt; 0.05). Debriefing after sedation training courses may contribute to better perception of the ASA-SED, and may lead to enhanced attitudes toward medical safety during sedation and analgesia. &quot;&quot;&quot;]]).toDF(&quot;text&quot;)

model = pipeline.fit(data)
result = model.transform(data)

```
```scala
val document_assembler = new DocumentAssembler() 
    .setInputCol(&quot;text&quot;) 
    .setOutputCol(&quot;document&quot;)

val tokenizer = new Tokenizer() 
    .setInputCols(Array(&quot;document&quot;)) 
    .setOutputCol(&quot;token&quot;)

val sequenceClassifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_binary_rct_biobert_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
  .setInputCols(Array(&quot;document&quot;,&quot;token&quot;))
  .setOutputCol(&quot;class&quot;)

val pipeline = new Pipeline().setStages(Array(document_assembler, tokenizer, sequenceClassifier))

val data = Seq(&quot;&quot;&quot;Abstract:Based on the American Society of Anesthesiologists' Practice Guidelines for Sedation and Analgesia by Non-Anesthesiologists (ASA-SED), a sedation training course aimed at improving medical safety was developed by the Japanese Association for Medical Simulation in 2011. This study evaluated the effect of debriefing on participants' perceptions of the essential points of the ASA-SED. A total of 38 novice doctors participated in the sedation training course during the research period. Of these doctors, 18 participated in the debriefing group, and 20 participated in non-debriefing group. Scoring of participants' guideline perceptions was conducted using an evaluation sheet (nine items, 16 points) created based on the ASA-SED. The debriefing group showed a greater perception of the ASA-SED, as reflected in the significantly higher scores on the evaluation sheet (median, 16 points) than the control group (median, 13 points; p &lt; 0.05). No significant differences were identified before or during sedation, but the difference after sedation was significant (p &lt; 0.05). Debriefing after sedation training courses may contribute to better perception of the ASA-SED, and may lead to enhanced attitudes toward medical safety during sedation and analgesia. &quot;&quot;&quot;).toDF(&quot;text&quot;)

val model = pipeline.fit(data)
val result = model.transform(data)
```
&lt;/div&gt;

## Results

```bash

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
| text                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | rct  |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------|
|    Abstract:Based on the American Society of Anesthesiologists' Practice Guidelines for Sedation and Analgesia by Non-Anesthesiologists (ASA-SED), a sedation training course aimed at improving medical safety was developed by the Japanese Association for Medical Simulation in 2011. This study evaluated the effect of debriefing on participants' perceptions of the essential points of the ASA-SED. A total of 38 novice doctors participated in the sedation training course during the research period. Of these doctors, 18 participated in the debriefing group, and 20 participated in non-debriefing group. Scoring of participants' guideline perceptions was conducted using an evaluation sheet (nine items, 16 points) created based on the ASA-SED. The debriefing group showed a greater perception of the ASA-SED, as reflected in the significantly higher scores on the evaluation sheet (median, 16 points) than the control group (median, 13 points; p &lt; 0.05). No significant differences were identified before or during sedation, but the difference after sedation was significant (p &lt; 0.05). Debriefing after sedation training courses may contribute to better perception of the ASA-SED, and may lead to enhanced attitudes toward medical safety during sedation and analgesia.     | True |
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|bert_sequence_classifier_binary_rct_biobert_onnx|
|Compatibility:|Healthcare NLP 6.1.1+|
|License:|Licensed|
|Edition:|Official|
|Input Labels:|[document, token]|
|Output Labels:|[label]|
|Language:|en|
|Size:|437.7 MB|
|Case sensitive:|true|</content><author><name>John Snow Labs</name></author><category term="licensed" /><category term="rct" /><category term="classifier" /><category term="en" /><category term="clinical" /><category term="onnx" /><summary type="html">Description This model is a BioBERT based classifier that can classify if an article is a randomized clinical trial (RCT) or not. Predicted Entities True, False Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU document_assembler = DocumentAssembler() \ .setInputCol(&quot;text&quot;) \ .setOutputCol(&quot;document&quot;) tokenizer = Tokenizer() \ .setInputCols([&quot;document&quot;]) \ .setOutputCol(&quot;token&quot;) sequence_classifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_binary_rct_biobert_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;document&quot;, &quot;token&quot;])\ .setOutputCol(&quot;class&quot;) pipeline = Pipeline(stages=[ document_assembler, tokenizer, sequence_classifier ]) data = spark.createDataFrame([[&quot;&quot;&quot;Abstract:Based on the American Society of Anesthesiologists' Practice Guidelines for Sedation and Analgesia by Non-Anesthesiologists (ASA-SED), a sedation training course aimed at improving medical safety was developed by the Japanese Association for Medical Simulation in 2011. This study evaluated the effect of debriefing on participants' perceptions of the essential points of the ASA-SED. A total of 38 novice doctors participated in the sedation training course during the research period. Of these doctors, 18 participated in the debriefing group, and 20 participated in non-debriefing group. Scoring of participants' guideline perceptions was conducted using an evaluation sheet (nine items, 16 points) created based on the ASA-SED. The debriefing group showed a greater perception of the ASA-SED, as reflected in the significantly higher scores on the evaluation sheet (median, 16 points) than the control group (median, 13 points; p &amp;lt; 0.05). No significant differences were identified before or during sedation, but the difference after sedation was significant (p &amp;lt; 0.05). Debriefing after sedation training courses may contribute to better perception of the ASA-SED, and may lead to enhanced attitudes toward medical safety during sedation and analgesia. &quot;&quot;&quot;]]).toDF(&quot;text&quot;) model = pipeline.fit(data) result = model.transform(data) document_assembler = nlp.DocumentAssembler() \ .setInputCol(&quot;text&quot;) \ .setOutputCol(&quot;document&quot;) tokenizer = nlp.Tokenizer() \ .setInputCols([&quot;document&quot;]) \ .setOutputCol(&quot;token&quot;) sequenceClassifier = medical.BertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_binary_rct_biobert_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;document&quot;,&quot;token&quot;])\ .setOutputCol(&quot;classes&quot;) pipeline = nlp.Pipeline(stages=[ document_assembler, tokenizer, sequenceClassifier ]) data = spark.createDataFrame([[&quot;&quot;&quot;Abstract:Based on the American Society of Anesthesiologists' Practice Guidelines for Sedation and Analgesia by Non-Anesthesiologists (ASA-SED), a sedation training course aimed at improving medical safety was developed by the Japanese Association for Medical Simulation in 2011. This study evaluated the effect of debriefing on participants' perceptions of the essential points of the ASA-SED. A total of 38 novice doctors participated in the sedation training course during the research period. Of these doctors, 18 participated in the debriefing group, and 20 participated in non-debriefing group. Scoring of participants' guideline perceptions was conducted using an evaluation sheet (nine items, 16 points) created based on the ASA-SED. The debriefing group showed a greater perception of the ASA-SED, as reflected in the significantly higher scores on the evaluation sheet (median, 16 points) than the control group (median, 13 points; p &amp;lt; 0.05). No significant differences were identified before or during sedation, but the difference after sedation was significant (p &amp;lt; 0.05). Debriefing after sedation training courses may contribute to better perception of the ASA-SED, and may lead to enhanced attitudes toward medical safety during sedation and analgesia. &quot;&quot;&quot;]]).toDF(&quot;text&quot;) model = pipeline.fit(data) result = model.transform(data) val document_assembler = new DocumentAssembler() .setInputCol(&quot;text&quot;) .setOutputCol(&quot;document&quot;) val tokenizer = new Tokenizer() .setInputCols(Array(&quot;document&quot;)) .setOutputCol(&quot;token&quot;) val sequenceClassifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_binary_rct_biobert_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;document&quot;,&quot;token&quot;)) .setOutputCol(&quot;class&quot;) val pipeline = new Pipeline().setStages(Array(document_assembler, tokenizer, sequenceClassifier)) val data = Seq(&quot;&quot;&quot;Abstract:Based on the American Society of Anesthesiologists' Practice Guidelines for Sedation and Analgesia by Non-Anesthesiologists (ASA-SED), a sedation training course aimed at improving medical safety was developed by the Japanese Association for Medical Simulation in 2011. This study evaluated the effect of debriefing on participants' perceptions of the essential points of the ASA-SED. A total of 38 novice doctors participated in the sedation training course during the research period. Of these doctors, 18 participated in the debriefing group, and 20 participated in non-debriefing group. Scoring of participants' guideline perceptions was conducted using an evaluation sheet (nine items, 16 points) created based on the ASA-SED. The debriefing group showed a greater perception of the ASA-SED, as reflected in the significantly higher scores on the evaluation sheet (median, 16 points) than the control group (median, 13 points; p &amp;lt; 0.05). No significant differences were identified before or during sedation, but the difference after sedation was significant (p &amp;lt; 0.05). Debriefing after sedation training courses may contribute to better perception of the ASA-SED, and may lead to enhanced attitudes toward medical safety during sedation and analgesia. &quot;&quot;&quot;).toDF(&quot;text&quot;) val model = pipeline.fit(data) val result = model.transform(data) Results ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | text | rct | |---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------| | Abstract:Based on the American Society of Anesthesiologists' Practice Guidelines for Sedation and Analgesia by Non-Anesthesiologists (ASA-SED), a sedation training course aimed at improving medical safety was developed by the Japanese Association for Medical Simulation in 2011. This study evaluated the effect of debriefing on participants' perceptions of the essential points of the ASA-SED. A total of 38 novice doctors participated in the sedation training course during the research period. Of these doctors, 18 participated in the debriefing group, and 20 participated in non-debriefing group. Scoring of participants' guideline perceptions was conducted using an evaluation sheet (nine items, 16 points) created based on the ASA-SED. The debriefing group showed a greater perception of the ASA-SED, as reflected in the significantly higher scores on the evaluation sheet (median, 16 points) than the control group (median, 13 points; p &amp;lt; 0.05). No significant differences were identified before or during sedation, but the difference after sedation was significant (p &amp;lt; 0.05). Debriefing after sedation training courses may contribute to better perception of the ASA-SED, and may lead to enhanced attitudes toward medical safety during sedation and analgesia. | True | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ Model Information Model Name: bert_sequence_classifier_binary_rct_biobert_onnx Compatibility: Healthcare NLP 6.1.1+ License: Licensed Edition: Official Input Labels: [document, token] Output Labels: [label] Language: en Size: 437.7 MB Case sensitive: true</summary></entry><entry><title type="html">Bert For Sequence Classification (Biomarker) ONNX</title><link href="/2025/09/12/bert_sequence_classifier_biomarker_onnx_en.html" rel="alternate" type="text/html" title="Bert For Sequence Classification (Biomarker) ONNX" /><published>2025-09-12T00:00:00+00:00</published><updated>2025-09-12T00:00:00+00:00</updated><id>/2025/09/12/bert_sequence_classifier_biomarker_onnx_en</id><content type="html" xml:base="/2025/09/12/bert_sequence_classifier_biomarker_onnx_en.html">## Description

This model is a [BioBERT](https://sparknlp.org/2023/09/13/biobert_base_cased_v1.2_en.html) based sentence classification model that can determine whether the clinical sentences include terms related to biomarkers or not.

## Predicted Entities

`1: Contains biomarker related terms`, `0: Doesn't contain biomarker related terms`

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/bert_sequence_classifier_biomarker_onnx_en_6.1.1_3.0_1757682824025.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/bert_sequence_classifier_biomarker_onnx_en_6.1.1_3.0_1757682824025.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python
document_assembler = DocumentAssembler() \
    .setInputCol(&quot;text&quot;) \
    .setOutputCol(&quot;document&quot;)

tokenizer = Tokenizer() \
    .setInputCols([&quot;document&quot;]) \
    .setOutputCol(&quot;token&quot;)

sequence_classifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_biomarker_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
  .setInputCols([&quot;document&quot;, &quot;token&quot;])\
  .setOutputCol(&quot;class&quot;)

pipeline = Pipeline(stages=[
    document_assembler, 
    tokenizer,
    sequence_classifier    
])

data = spark.createDataFrame([[&quot;&quot;&quot;In the realm of cancer research, several biomarkers have emerged as crucial indicators of disease progression and treatment response. For instance, the expression levels of HER2/neu, a protein receptor, have been linked to aggressive forms of breast cancer. Additionally, the presence of prostate-specific antigen (PSA) is often monitored to track the progression of prostate cancer. Moreover, in cardiovascular health, high-sensitivity C-reactive protein (hs-CRP) serves as a biomarker for inflammation and potential risk of heart disease. Meanwhile, elevated levels of troponin T are indicative of myocardial damage, commonly observed in acute coronary syndrome. In the field of diabetes management, glycated hemoglobin is a widely used to assess long-term blood sugar control. Its levels reflect the average blood glucose concentration over the past two to three months, offering valuable insights into disease management strategies.&quot;&quot;&quot;]]).toDF(&quot;text&quot;)

model = pipeline.fit(data)
result = model.transform(data)
```

{:.jsl-block}
```python
document_assembler = nlp.DocumentAssembler() \
    .setInputCol(&quot;text&quot;) \
    .setOutputCol(&quot;document&quot;)

tokenizer = nlp.Tokenizer() \
    .setInputCols([&quot;document&quot;]) \
    .setOutputCol(&quot;token&quot;)

sequenceClassifier = medical.BertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_biomarker_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols([&quot;document&quot;,&quot;token&quot;])\
    .setOutputCol(&quot;classes&quot;)

pipeline = nlp.Pipeline(stages=[
    document_assembler,
    tokenizer,
    sequenceClassifier
])

data = spark.createDataFrame([[&quot;&quot;&quot;In the realm of cancer research, several biomarkers have emerged as crucial indicators of disease progression and treatment response. For instance, the expression levels of HER2/neu, a protein receptor, have been linked to aggressive forms of breast cancer. Additionally, the presence of prostate-specific antigen (PSA) is often monitored to track the progression of prostate cancer. Moreover, in cardiovascular health, high-sensitivity C-reactive protein (hs-CRP) serves as a biomarker for inflammation and potential risk of heart disease. Meanwhile, elevated levels of troponin T are indicative of myocardial damage, commonly observed in acute coronary syndrome. In the field of diabetes management, glycated hemoglobin is a widely used to assess long-term blood sugar control. Its levels reflect the average blood glucose concentration over the past two to three months, offering valuable insights into disease management strategies.&quot;&quot;&quot;]]).toDF(&quot;text&quot;)

model = pipeline.fit(data)
result = model.transform(data)

```
```scala
val document_assembler = new DocumentAssembler() 
    .setInputCol(&quot;text&quot;) 
    .setOutputCol(&quot;document&quot;)

val tokenizer = new Tokenizer() 
    .setInputCols(Array(&quot;document&quot;)) 
    .setOutputCol(&quot;token&quot;)

val sequenceClassifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_biomarker_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
  .setInputCols(Array(&quot;document&quot;,&quot;token&quot;))
  .setOutputCol(&quot;class&quot;)

val pipeline = new Pipeline().setStages(Array(document_assembler, tokenizer, sequenceClassifier))

val data = Seq(&quot;&quot;&quot;In the realm of cancer research, several biomarkers have emerged as crucial indicators of disease progression and treatment response. For instance, the expression levels of HER2/neu, a protein receptor, have been linked to aggressive forms of breast cancer. Additionally, the presence of prostate-specific antigen (PSA) is often monitored to track the progression of prostate cancer. Moreover, in cardiovascular health, high-sensitivity C-reactive protein (hs-CRP) serves as a biomarker for inflammation and potential risk of heart disease. Meanwhile, elevated levels of troponin T are indicative of myocardial damage, commonly observed in acute coronary syndrome. In the field of diabetes management, glycated hemoglobin is a widely used to assess long-term blood sugar control. Its levels reflect the average blood glucose concentration over the past two to three months, offering valuable insights into disease management strategies.&quot;&quot;&quot;).toDF(&quot;text&quot;)

val model = pipeline.fit(data)
val result = model.transform(data)
```
&lt;/div&gt;

## Results

```bash

+------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|sentence                                                                                                                                                    |prediction|
+------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|In the realm of cancer research, several biomarkers have emerged as crucial indicators of disease progression and treatment response.                       |0         |
|For instance, the expression levels of HER2/neu, a protein receptor, have been linked to aggressive forms of breast cancer.                                 |1         |
|Additionally, the presence of prostate-specific antigen (PSA) is often monitored to track the progression of prostate cancer.                               |1         |
|Moreover, in cardiovascular health, high-sensitivity C-reactive protein (hs-CRP) serves as a biomarker for inflammation and potential risk of heart disease.|1         |
|Meanwhile, elevated levels of troponin T are indicative of myocardial damage, commonly observed in acute coronary syndrome.                                 |0         |
|In the field of diabetes management, glycated hemoglobin is a widely used to assess long-term blood sugar control.                                          |0         |
|Its levels reflect the average blood glucose concentration over the past two to three months, offering valuable insights into disease management strategies.|0         |
+------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|bert_sequence_classifier_biomarker_onnx|
|Compatibility:|Healthcare NLP 6.1.1+|
|License:|Licensed|
|Edition:|Official|
|Input Labels:|[sentence, token]|
|Output Labels:|[label]|
|Language:|en|
|Size:|437.7 MB|
|Case sensitive:|true|</content><author><name>John Snow Labs</name></author><category term="en" /><category term="licensed" /><category term="bfsc" /><category term="biomarker" /><category term="classification" /><category term="onnx" /><summary type="html">Description This model is a BioBERT based sentence classification model that can determine whether the clinical sentences include terms related to biomarkers or not. Predicted Entities 1: Contains biomarker related terms, 0: Doesn't contain biomarker related terms Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU document_assembler = DocumentAssembler() \ .setInputCol(&quot;text&quot;) \ .setOutputCol(&quot;document&quot;) tokenizer = Tokenizer() \ .setInputCols([&quot;document&quot;]) \ .setOutputCol(&quot;token&quot;) sequence_classifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_biomarker_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;document&quot;, &quot;token&quot;])\ .setOutputCol(&quot;class&quot;) pipeline = Pipeline(stages=[ document_assembler, tokenizer, sequence_classifier ]) data = spark.createDataFrame([[&quot;&quot;&quot;In the realm of cancer research, several biomarkers have emerged as crucial indicators of disease progression and treatment response. For instance, the expression levels of HER2/neu, a protein receptor, have been linked to aggressive forms of breast cancer. Additionally, the presence of prostate-specific antigen (PSA) is often monitored to track the progression of prostate cancer. Moreover, in cardiovascular health, high-sensitivity C-reactive protein (hs-CRP) serves as a biomarker for inflammation and potential risk of heart disease. Meanwhile, elevated levels of troponin T are indicative of myocardial damage, commonly observed in acute coronary syndrome. In the field of diabetes management, glycated hemoglobin is a widely used to assess long-term blood sugar control. Its levels reflect the average blood glucose concentration over the past two to three months, offering valuable insights into disease management strategies.&quot;&quot;&quot;]]).toDF(&quot;text&quot;) model = pipeline.fit(data) result = model.transform(data) document_assembler = nlp.DocumentAssembler() \ .setInputCol(&quot;text&quot;) \ .setOutputCol(&quot;document&quot;) tokenizer = nlp.Tokenizer() \ .setInputCols([&quot;document&quot;]) \ .setOutputCol(&quot;token&quot;) sequenceClassifier = medical.BertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_biomarker_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;document&quot;,&quot;token&quot;])\ .setOutputCol(&quot;classes&quot;) pipeline = nlp.Pipeline(stages=[ document_assembler, tokenizer, sequenceClassifier ]) data = spark.createDataFrame([[&quot;&quot;&quot;In the realm of cancer research, several biomarkers have emerged as crucial indicators of disease progression and treatment response. For instance, the expression levels of HER2/neu, a protein receptor, have been linked to aggressive forms of breast cancer. Additionally, the presence of prostate-specific antigen (PSA) is often monitored to track the progression of prostate cancer. Moreover, in cardiovascular health, high-sensitivity C-reactive protein (hs-CRP) serves as a biomarker for inflammation and potential risk of heart disease. Meanwhile, elevated levels of troponin T are indicative of myocardial damage, commonly observed in acute coronary syndrome. In the field of diabetes management, glycated hemoglobin is a widely used to assess long-term blood sugar control. Its levels reflect the average blood glucose concentration over the past two to three months, offering valuable insights into disease management strategies.&quot;&quot;&quot;]]).toDF(&quot;text&quot;) model = pipeline.fit(data) result = model.transform(data) val document_assembler = new DocumentAssembler() .setInputCol(&quot;text&quot;) .setOutputCol(&quot;document&quot;) val tokenizer = new Tokenizer() .setInputCols(Array(&quot;document&quot;)) .setOutputCol(&quot;token&quot;) val sequenceClassifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_biomarker_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;document&quot;,&quot;token&quot;)) .setOutputCol(&quot;class&quot;) val pipeline = new Pipeline().setStages(Array(document_assembler, tokenizer, sequenceClassifier)) val data = Seq(&quot;&quot;&quot;In the realm of cancer research, several biomarkers have emerged as crucial indicators of disease progression and treatment response. For instance, the expression levels of HER2/neu, a protein receptor, have been linked to aggressive forms of breast cancer. Additionally, the presence of prostate-specific antigen (PSA) is often monitored to track the progression of prostate cancer. Moreover, in cardiovascular health, high-sensitivity C-reactive protein (hs-CRP) serves as a biomarker for inflammation and potential risk of heart disease. Meanwhile, elevated levels of troponin T are indicative of myocardial damage, commonly observed in acute coronary syndrome. In the field of diabetes management, glycated hemoglobin is a widely used to assess long-term blood sugar control. Its levels reflect the average blood glucose concentration over the past two to three months, offering valuable insights into disease management strategies.&quot;&quot;&quot;).toDF(&quot;text&quot;) val model = pipeline.fit(data) val result = model.transform(data) Results +------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+ |sentence |prediction| +------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+ |In the realm of cancer research, several biomarkers have emerged as crucial indicators of disease progression and treatment response. |0 | |For instance, the expression levels of HER2/neu, a protein receptor, have been linked to aggressive forms of breast cancer. |1 | |Additionally, the presence of prostate-specific antigen (PSA) is often monitored to track the progression of prostate cancer. |1 | |Moreover, in cardiovascular health, high-sensitivity C-reactive protein (hs-CRP) serves as a biomarker for inflammation and potential risk of heart disease.|1 | |Meanwhile, elevated levels of troponin T are indicative of myocardial damage, commonly observed in acute coronary syndrome. |0 | |In the field of diabetes management, glycated hemoglobin is a widely used to assess long-term blood sugar control. |0 | |Its levels reflect the average blood glucose concentration over the past two to three months, offering valuable insights into disease management strategies.|0 | +------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+ Model Information Model Name: bert_sequence_classifier_biomarker_onnx Compatibility: Healthcare NLP 6.1.1+ License: Licensed Edition: Official Input Labels: [sentence, token] Output Labels: [label] Language: en Size: 437.7 MB Case sensitive: true</summary></entry><entry><title type="html">Bert for Sequence Classification (Clinical Documents Sections, Headless) ONNX</title><link href="/2025/09/12/bert_sequence_classifier_clinical_sections_headless_onnx_en.html" rel="alternate" type="text/html" title="Bert for Sequence Classification (Clinical Documents Sections, Headless) ONNX" /><published>2025-09-12T00:00:00+00:00</published><updated>2025-09-12T00:00:00+00:00</updated><id>/2025/09/12/bert_sequence_classifier_clinical_sections_headless_onnx_en</id><content type="html" xml:base="/2025/09/12/bert_sequence_classifier_clinical_sections_headless_onnx_en.html">## Description

This is a BERT-based model for classification of clinical documents sections. This model is trained on clinical document sections without the section header in the text, e.g., when splitting the document with `ChunkSentenceSplitter` annotator with parameter `setInsertChunk=False`.

## Predicted Entities

`Consultation and Referral`, `Habits`, `Complications and Risk Factors`, `Diagnostic and Laboratory Data`, `Discharge Information`, `History`, `Impression`, `Patient Information`, `Procedures`, `Other`

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/bert_sequence_classifier_clinical_sections_headless_onnx_en_6.1.1_3.0_1757683263339.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/bert_sequence_classifier_clinical_sections_headless_onnx_en_6.1.1_3.0_1757683263339.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python
document_assembler = DocumentAssembler() \
    .setInputCol(&quot;text&quot;) \
    .setOutputCol(&quot;document&quot;)

tokenizer = Tokenizer() \
    .setInputCols([&quot;document&quot;]) \
    .setOutputCol(&quot;token&quot;)

sequence_classifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_clinical_sections_headless_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
  .setInputCols([&quot;document&quot;, &quot;token&quot;])\
  .setOutputCol(&quot;class&quot;)

pipeline = Pipeline(stages=[
    document_assembler, 
    tokenizer,
    sequence_classifier    
])
example_df = spark.createDataFrame(
        [[&quot;&quot;&quot;It was a pleasure taking care of you! You came to us with 
stomach pain and worsening distension. While you were here we 
did a paracentesis to remove 1.5L of fluid from your belly. We 
also placed you on you 40 mg of Lasix and 50 mg of Aldactone to 
help you urinate the excess fluid still in your belly. As we 
discussed, everyone has a different dose of lasix required to 
make them urinate and it's likely that you weren't taking a high 
enough dose. Please take these medications daily to keep excess 
fluid off and eat a low salt diet. You will follow up with Dr. 
___ in liver clinic and from there have your colonoscopy 
and EGD scheduled. &quot;&quot;&quot;]]).toDF(&quot;text&quot;)

model = pipeline.fit(example_df)
result = model.transform(example_df)
```

{:.jsl-block}
```python
document_assembler = nlp.DocumentAssembler() \
    .setInputCol(&quot;text&quot;) \
    .setOutputCol(&quot;document&quot;)

tokenizer = nlp.Tokenizer() \
    .setInputCols([&quot;document&quot;]) \
    .setOutputCol(&quot;token&quot;)

sequenceClassifier = medical.BertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_clinical_sections_headless_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols([&quot;document&quot;,&quot;token&quot;])\
    .setOutputCol(&quot;classes&quot;)

pipeline = nlp.Pipeline(stages=[
    document_assembler,
    tokenizer,
    sequenceClassifier
])

example_df = spark.createDataFrame(
        [[&quot;&quot;&quot;It was a pleasure taking care of you! You came to us with 
stomach pain and worsening distension. While you were here we 
did a paracentesis to remove 1.5L of fluid from your belly. We 
also placed you on you 40 mg of Lasix and 50 mg of Aldactone to 
help you urinate the excess fluid still in your belly. As we 
discussed, everyone has a different dose of lasix required to 
make them urinate and it's likely that you weren't taking a high 
enough dose. Please take these medications daily to keep excess 
fluid off and eat a low salt diet. You will follow up with Dr. 
___ in liver clinic and from there have your colonoscopy 
and EGD scheduled. &quot;&quot;&quot;]]).toDF(&quot;text&quot;)

model = pipeline.fit(example_df)
result = model.transform(example_df)

```
```scala
val document_assembler = new DocumentAssembler() 
    .setInputCol(&quot;text&quot;) 
    .setOutputCol(&quot;document&quot;)

val tokenizer = new Tokenizer() 
    .setInputCols(Array(&quot;document&quot;)) 
    .setOutputCol(&quot;token&quot;)

val sequenceClassifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_clinical_sections_headless_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
  .setInputCols(Array(&quot;document&quot;,&quot;token&quot;))
  .setOutputCol(&quot;class&quot;)

val pipeline = new Pipeline().setStages(Array(document_assembler, tokenizer, sequenceClassifier))
val data = Seq(&quot;&quot;&quot;It was a pleasure taking care of you! You came to us with 
stomach pain and worsening distension. While you were here we 
did a paracentesis to remove 1.5L of fluid from your belly. We 
also placed you on you 40 mg of Lasix and 50 mg of Aldactone to 
help you urinate the excess fluid still in your belly. As we 
discussed, everyone has a different dose of lasix required to 
make them urinate and it's likely that you weren't taking a high 
enough dose. Please take these medications daily to keep excess 
fluid off and eat a low salt diet. You will follow up with Dr. 
___ in liver clinic and from there have your colonoscopy 
and EGD scheduled. &quot;&quot;&quot;).toDF(&quot;text&quot;)

val model = pipeline.fit(data)
val result = model.transform(data)
```
&lt;/div&gt;

## Results

```bash

+-----------------------+
|result                 |
+-----------------------+
|[Discharge Information]|
+-----------------------+
```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|bert_sequence_classifier_clinical_sections_headless_onnx|
|Compatibility:|Healthcare NLP 6.1.1+|
|License:|Licensed|
|Edition:|Official|
|Input Labels:|[document, token]|
|Output Labels:|[label]|
|Language:|en|
|Size:|437.7 MB|
|Case sensitive:|true|</content><author><name>John Snow Labs</name></author><category term="clinical" /><category term="sections" /><category term="en" /><category term="licensed" /><category term="onnx" /><summary type="html">Description This is a BERT-based model for classification of clinical documents sections. This model is trained on clinical document sections without the section header in the text, e.g., when splitting the document with ChunkSentenceSplitter annotator with parameter setInsertChunk=False. Predicted Entities Consultation and Referral, Habits, Complications and Risk Factors, Diagnostic and Laboratory Data, Discharge Information, History, Impression, Patient Information, Procedures, Other Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU document_assembler = DocumentAssembler() \ .setInputCol(&quot;text&quot;) \ .setOutputCol(&quot;document&quot;) tokenizer = Tokenizer() \ .setInputCols([&quot;document&quot;]) \ .setOutputCol(&quot;token&quot;) sequence_classifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_clinical_sections_headless_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;document&quot;, &quot;token&quot;])\ .setOutputCol(&quot;class&quot;) pipeline = Pipeline(stages=[ document_assembler, tokenizer, sequence_classifier ]) example_df = spark.createDataFrame( [[&quot;&quot;&quot;It was a pleasure taking care of you! You came to us with stomach pain and worsening distension. While you were here we did a paracentesis to remove 1.5L of fluid from your belly. We also placed you on you 40 mg of Lasix and 50 mg of Aldactone to help you urinate the excess fluid still in your belly. As we discussed, everyone has a different dose of lasix required to make them urinate and it's likely that you weren't taking a high enough dose. Please take these medications daily to keep excess fluid off and eat a low salt diet. You will follow up with Dr. ___ in liver clinic and from there have your colonoscopy and EGD scheduled. &quot;&quot;&quot;]]).toDF(&quot;text&quot;) model = pipeline.fit(example_df) result = model.transform(example_df) document_assembler = nlp.DocumentAssembler() \ .setInputCol(&quot;text&quot;) \ .setOutputCol(&quot;document&quot;) tokenizer = nlp.Tokenizer() \ .setInputCols([&quot;document&quot;]) \ .setOutputCol(&quot;token&quot;) sequenceClassifier = medical.BertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_clinical_sections_headless_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;document&quot;,&quot;token&quot;])\ .setOutputCol(&quot;classes&quot;) pipeline = nlp.Pipeline(stages=[ document_assembler, tokenizer, sequenceClassifier ]) example_df = spark.createDataFrame( [[&quot;&quot;&quot;It was a pleasure taking care of you! You came to us with stomach pain and worsening distension. While you were here we did a paracentesis to remove 1.5L of fluid from your belly. We also placed you on you 40 mg of Lasix and 50 mg of Aldactone to help you urinate the excess fluid still in your belly. As we discussed, everyone has a different dose of lasix required to make them urinate and it's likely that you weren't taking a high enough dose. Please take these medications daily to keep excess fluid off and eat a low salt diet. You will follow up with Dr. ___ in liver clinic and from there have your colonoscopy and EGD scheduled. &quot;&quot;&quot;]]).toDF(&quot;text&quot;) model = pipeline.fit(example_df) result = model.transform(example_df) val document_assembler = new DocumentAssembler() .setInputCol(&quot;text&quot;) .setOutputCol(&quot;document&quot;) val tokenizer = new Tokenizer() .setInputCols(Array(&quot;document&quot;)) .setOutputCol(&quot;token&quot;) val sequenceClassifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_clinical_sections_headless_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;document&quot;,&quot;token&quot;)) .setOutputCol(&quot;class&quot;) val pipeline = new Pipeline().setStages(Array(document_assembler, tokenizer, sequenceClassifier)) val data = Seq(&quot;&quot;&quot;It was a pleasure taking care of you! You came to us with stomach pain and worsening distension. While you were here we did a paracentesis to remove 1.5L of fluid from your belly. We also placed you on you 40 mg of Lasix and 50 mg of Aldactone to help you urinate the excess fluid still in your belly. As we discussed, everyone has a different dose of lasix required to make them urinate and it's likely that you weren't taking a high enough dose. Please take these medications daily to keep excess fluid off and eat a low salt diet. You will follow up with Dr. ___ in liver clinic and from there have your colonoscopy and EGD scheduled. &quot;&quot;&quot;).toDF(&quot;text&quot;) val model = pipeline.fit(data) val result = model.transform(data) Results +-----------------------+ |result | +-----------------------+ |[Discharge Information]| +-----------------------+ Model Information Model Name: bert_sequence_classifier_clinical_sections_headless_onnx Compatibility: Healthcare NLP 6.1.1+ License: Licensed Edition: Official Input Labels: [document, token] Output Labels: [label] Language: en Size: 437.7 MB Case sensitive: true</summary></entry><entry><title type="html">COVID-19 Sentiment Classifier (BioBERT) ONNX</title><link href="/2025/09/12/bert_sequence_classifier_covid_sentiment_onnx_en.html" rel="alternate" type="text/html" title="COVID-19 Sentiment Classifier (BioBERT) ONNX" /><published>2025-09-12T00:00:00+00:00</published><updated>2025-09-12T00:00:00+00:00</updated><id>/2025/09/12/bert_sequence_classifier_covid_sentiment_onnx_en</id><content type="html" xml:base="/2025/09/12/bert_sequence_classifier_covid_sentiment_onnx_en.html">## Description

This model is a [BioBERT](https://nlp.johnsnowlabs.com/2022/07/18/biobert_pubmed_base_cased_v1.2_en_3_0.html) based sentiment analysis model that can extract information from COVID-19 pandemic-related tweets. The model predicts whether a tweet contains positive, negative, or neutral sentiments about COVID-19 pandemic.

## Predicted Entities

`neutral`, `positive`, `negative`

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/bert_sequence_classifier_covid_sentiment_onnx_en_6.1.1_3.0_1757683384209.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/bert_sequence_classifier_covid_sentiment_onnx_en_6.1.1_3.0_1757683384209.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python
document_assembler = DocumentAssembler() \
    .setInputCol(&quot;text&quot;) \
    .setOutputCol(&quot;document&quot;)

tokenizer = Tokenizer() \
    .setInputCols([&quot;document&quot;]) \
    .setOutputCol(&quot;token&quot;)

sequence_classifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_covid_sentiment_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
  .setInputCols([&quot;document&quot;, &quot;token&quot;])\
  .setOutputCol(&quot;class&quot;)

pipeline = Pipeline(stages=[
    document_assembler, 
    tokenizer,
    sequence_classifier    
])

data = spark.createDataFrame([
    [&quot;British Department of Health confirms first two cases of in UK&quot;],
    [&quot;so my trip to visit my australian exchange student just got canceled bc of coronavirus. im heartbroken :(&quot;], 
    [ &quot;I wish everyone to be safe at home and stop pandemic&quot;]]
).toDF(&quot;text&quot;)

model = pipeline.fit(data)
result = model.transform(data)
```

{:.jsl-block}
```python
document_assembler = nlp.DocumentAssembler() \
    .setInputCol(&quot;text&quot;) \
    .setOutputCol(&quot;document&quot;)

tokenizer = nlp.Tokenizer() \
    .setInputCols([&quot;document&quot;]) \
    .setOutputCol(&quot;token&quot;)

sequenceClassifier = medical.BertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_covid_sentiment_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols([&quot;document&quot;,&quot;token&quot;])\
    .setOutputCol(&quot;classes&quot;)

pipeline = nlp.Pipeline(stages=[
    document_assembler,
    tokenizer,
    sequenceClassifier
])

data = spark.createDataFrame([
    [&quot;British Department of Health confirms first two cases of in UK&quot;],
    [&quot;so my trip to visit my australian exchange student just got canceled bc of coronavirus. im heartbroken :(&quot;], 
    [ &quot;I wish everyone to be safe at home and stop pandemic&quot;]]
).toDF(&quot;text&quot;)

model = pipeline.fit(data)
result = model.transform(data)

```
```scala
val document_assembler = new DocumentAssembler() 
    .setInputCol(&quot;text&quot;) 
    .setOutputCol(&quot;document&quot;)

val tokenizer = new Tokenizer() 
    .setInputCols(Array(&quot;document&quot;)) 
    .setOutputCol(&quot;token&quot;)

val sequenceClassifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_covid_sentiment_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
  .setInputCols(Array(&quot;document&quot;,&quot;token&quot;))
  .setOutputCol(&quot;class&quot;)

val pipeline = new Pipeline().setStages(Array(document_assembler, tokenizer, sequenceClassifier))

val data = Seq( &quot;British Department of Health confirms first two cases of in UK&quot;,
  &quot;so my trip to visit my australian exchange student just got canceled bc of coronavirus. im heartbroken &quot;,
  &quot;I wish everyone to be safe at home and stop pandemic&quot;
).toDF(&quot;text&quot;)

val model = pipeline.fit(data)
val result = model.transform(data)
```
&lt;/div&gt;

## Results

```bash

+---------------------------------------------------------------------------------------------------------+----------+
|text                                                                                                     |result    |
+---------------------------------------------------------------------------------------------------------+----------+
|British Department of Health confirms first two cases of in UK                                           |[neutral] |
|so my trip to visit my australian exchange student just got canceled bc of coronavirus. im heartbroken :(|[negative]|
|I wish everyone to be safe at home and stop pandemic                                                     |[positive]|
+---------------------------------------------------------------------------------------------------------+----------+
```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|bert_sequence_classifier_covid_sentiment_onnx|
|Compatibility:|Healthcare NLP 6.1.1+|
|License:|Licensed|
|Edition:|Official|
|Input Labels:|[document, token]|
|Output Labels:|[label]|
|Language:|en|
|Size:|437.7 MB|
|Case sensitive:|true|</content><author><name>John Snow Labs</name></author><category term="public_health" /><category term="covid19_sentiment" /><category term="en" /><category term="licenced" /><category term="licensed" /><category term="onnx" /><summary type="html">Description This model is a BioBERT based sentiment analysis model that can extract information from COVID-19 pandemic-related tweets. The model predicts whether a tweet contains positive, negative, or neutral sentiments about COVID-19 pandemic. Predicted Entities neutral, positive, negative Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU document_assembler = DocumentAssembler() \ .setInputCol(&quot;text&quot;) \ .setOutputCol(&quot;document&quot;) tokenizer = Tokenizer() \ .setInputCols([&quot;document&quot;]) \ .setOutputCol(&quot;token&quot;) sequence_classifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_covid_sentiment_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;document&quot;, &quot;token&quot;])\ .setOutputCol(&quot;class&quot;) pipeline = Pipeline(stages=[ document_assembler, tokenizer, sequence_classifier ]) data = spark.createDataFrame([ [&quot;British Department of Health confirms first two cases of in UK&quot;], [&quot;so my trip to visit my australian exchange student just got canceled bc of coronavirus. im heartbroken :(&quot;], [ &quot;I wish everyone to be safe at home and stop pandemic&quot;]] ).toDF(&quot;text&quot;) model = pipeline.fit(data) result = model.transform(data) document_assembler = nlp.DocumentAssembler() \ .setInputCol(&quot;text&quot;) \ .setOutputCol(&quot;document&quot;) tokenizer = nlp.Tokenizer() \ .setInputCols([&quot;document&quot;]) \ .setOutputCol(&quot;token&quot;) sequenceClassifier = medical.BertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_covid_sentiment_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;document&quot;,&quot;token&quot;])\ .setOutputCol(&quot;classes&quot;) pipeline = nlp.Pipeline(stages=[ document_assembler, tokenizer, sequenceClassifier ]) data = spark.createDataFrame([ [&quot;British Department of Health confirms first two cases of in UK&quot;], [&quot;so my trip to visit my australian exchange student just got canceled bc of coronavirus. im heartbroken :(&quot;], [ &quot;I wish everyone to be safe at home and stop pandemic&quot;]] ).toDF(&quot;text&quot;) model = pipeline.fit(data) result = model.transform(data) val document_assembler = new DocumentAssembler() .setInputCol(&quot;text&quot;) .setOutputCol(&quot;document&quot;) val tokenizer = new Tokenizer() .setInputCols(Array(&quot;document&quot;)) .setOutputCol(&quot;token&quot;) val sequenceClassifier = MedicalBertForSequenceClassification.pretrained(&quot;bert_sequence_classifier_covid_sentiment_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;document&quot;,&quot;token&quot;)) .setOutputCol(&quot;class&quot;) val pipeline = new Pipeline().setStages(Array(document_assembler, tokenizer, sequenceClassifier)) val data = Seq( &quot;British Department of Health confirms first two cases of in UK&quot;, &quot;so my trip to visit my australian exchange student just got canceled bc of coronavirus. im heartbroken &quot;, &quot;I wish everyone to be safe at home and stop pandemic&quot; ).toDF(&quot;text&quot;) val model = pipeline.fit(data) val result = model.transform(data) Results +---------------------------------------------------------------------------------------------------------+----------+ |text |result | +---------------------------------------------------------------------------------------------------------+----------+ |British Department of Health confirms first two cases of in UK |[neutral] | |so my trip to visit my australian exchange student just got canceled bc of coronavirus. im heartbroken :(|[negative]| |I wish everyone to be safe at home and stop pandemic |[positive]| +---------------------------------------------------------------------------------------------------------+----------+ Model Information Model Name: bert_sequence_classifier_covid_sentiment_onnx Compatibility: Healthcare NLP 6.1.1+ License: Licensed Edition: Official Input Labels: [document, token] Output Labels: [label] Language: en Size: 437.7 MB Case sensitive: true</summary></entry></feed>