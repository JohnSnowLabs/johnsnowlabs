<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.2">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2025-07-11T18:05:24+00:00</updated><id>/feed.xml</id><title type="html">Spark NLP</title><subtitle>High Performance NLP with Apache Spark
</subtitle><author><name>{&quot;type&quot;=&gt;nil, &quot;name&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;avatar&quot;=&gt;nil, &quot;bio&quot;=&gt;nil, &quot;email&quot;=&gt;nil, &quot;facebook&quot;=&gt;nil, &quot;twitter&quot;=&gt;nil, &quot;weibo&quot;=&gt;nil, &quot;googleplus&quot;=&gt;nil, &quot;telegram&quot;=&gt;nil, &quot;medium&quot;=&gt;nil, &quot;zhihu&quot;=&gt;nil, &quot;douban&quot;=&gt;nil, &quot;linkedin&quot;=&gt;nil, &quot;github&quot;=&gt;nil, &quot;npm&quot;=&gt;nil}</name></author><entry><title type="html">Vaccinations and Infectious Diseases</title><link href="/2025/07/09/ner_vaccine_types_en.html" rel="alternate" type="text/html" title="Vaccinations and Infectious Diseases" /><published>2025-07-09T00:00:00+00:00</published><updated>2025-07-09T00:00:00+00:00</updated><id>/2025/07/09/ner_vaccine_types_en</id><content type="html" xml:base="/2025/07/09/ner_vaccine_types_en.html">## Description

This model is trained to extract vaccine and related disease/symptom entities from clinical/medical texts.

This project has been funded in whole or in part with Federal funds from the National Institute of 
Allergy and Infectious Diseases, National Institutes of Health, Department of Health and Human 
Services, under Contract No. 75N93024C00010&quot;

## Predicted Entities

`Bacterial_Vax`, `Viral_Vax`, `Cancer_Vax`, `Bac_Vir_Comb`, `Other_Vax`, `Vax_Dose`, `Infectious_Disease`, `Other_Disease_Disorder`, `Sign_Symptom`, `Toxoid`, `Adaptive_Immunity`, `Inactivated`, `Date`, `Age`

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/ner_vaccine_types_en_6.0.3_3.4_1752075858996.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/ner_vaccine_types_en_6.0.3_3.4_1752075858996.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python
document_assembler = DocumentAssembler()\
    .setInputCol(&quot;text&quot;)\
    .setOutputCol(&quot;document&quot;)

sentence_detector = SentenceDetectorDLModel.pretrained(&quot;sentence_detector_dl&quot;, &quot;en&quot;)\
    .setInputCols([&quot;document&quot;])\
    .setOutputCol(&quot;sentence&quot;)

tokenizer = Tokenizer()\
    .setInputCols([&quot;sentence&quot;])\
    .setOutputCol(&quot;token&quot;)

clinical_embeddings = WordEmbeddingsModel.pretrained('embeddings_clinical', &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols([&quot;sentence&quot;, &quot;token&quot;])\
    .setOutputCol(&quot;embeddings&quot;)

ner_model = MedicalNerModel.pretrained('ner_cancer_names', &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols([&quot;sentence&quot;, &quot;token&quot;,&quot;embeddings&quot;])\
    .setOutputCol(&quot;ner&quot;)

ner_converter = NerConverterInternal()\
    .setInputCols(['sentence', 'token', 'ner'])\
    .setOutputCol('ner_chunk')

pipeline = Pipeline(stages=[
    document_assembler, 
    sentence_detector,
    tokenizer,
    clinical_embeddings,
    ner_model,
    ner_converter   
    ])

sample_texts = [&quot;&quot;&quot;
On May 14, 2023, a 57-year-old female presented with fever, joint pain, and fatigue three days after receiving her third dose of the Shingrix vaccine.
Her history includes rheumatoid arthritis, managed with immunosuppressants, and prior breast cancer in remission. 
She previously received Gardasil 9, an HPV vaccine, and the hepatitis B recombinant vaccine series in 2020. 
Notably, she developed mild aches following her annual influenza shot, which is an inactivated vaccine. 
The patient reported receiving the DTaP vaccine (a toxoid vaccine) as a child. 
She also had tuberculosis as a teenager and had COVID-19 twice during the pandemic. 
In 2022, she was enrolled in a clinical trial for Stimuvax, a cancer vaccine targeting MUC1-expressing tumors. 
The team is assessing whether the patient's symptoms are due to a flare in her autoimmune disease or a delayed viral vaccine reaction. 
&quot;&quot;&quot;]

data = spark.createDataFrame(sample_texts, StringType()).toDF(&quot;text&quot;)

result = pipeline.fit(data).transform(data)
```

{:.jsl-block}
```python
document_assembler = nlp.DocumentAssembler()\
    .setInputCol(&quot;text&quot;)\
    .setOutputCol(&quot;document&quot;)

sentence_detector = nlp.SentenceDetectorDLModel.pretrained(&quot;sentence_detector_dl&quot;, &quot;en&quot;)\
    .setInputCols([&quot;document&quot;])\
    .setOutputCol(&quot;sentence&quot;)

tokenizer = nlp.Tokenizer()\
    .setInputCols([&quot;sentence&quot;])\
    .setOutputCol(&quot;token&quot;)

clinical_embeddings = nlp.WordEmbeddingsModel.pretrained('embeddings_clinical', &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols([&quot;sentence&quot;, &quot;token&quot;])\
    .setOutputCol(&quot;embeddings&quot;)

ner_model = medical.NerModel.pretrained('ner_cancer_names', &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols([&quot;sentence&quot;, &quot;token&quot;,&quot;embeddings&quot;])\
    .setOutputCol(&quot;ner&quot;)

ner_converter = medical.NerConverterInternal()\
    .setInputCols(['sentence', 'token', 'ner'])\
    .setOutputCol('ner_chunk')

pipeline = nlp.Pipeline(stages=[
    document_assembler, 
    sentence_detector,
    tokenizer,
    clinical_embeddings,
    ner_model,
    ner_converter   
    ])

sample_texts = [&quot;&quot;&quot;
On May 14, 2023, a 57-year-old female presented with fever, joint pain, and fatigue three days after receiving her third dose of the Shingrix vaccine.
Her history includes rheumatoid arthritis, managed with immunosuppressants, and prior breast cancer in remission. 
She previously received Gardasil 9, an HPV vaccine, and the hepatitis B recombinant vaccine series in 2020. 
Notably, she developed mild aches following her annual influenza shot, which is an inactivated vaccine. 
The patient reported receiving the DTaP vaccine (a toxoid vaccine) as a child. 
She also had tuberculosis as a teenager and had COVID-19 twice during the pandemic. 
In 2022, she was enrolled in a clinical trial for Stimuvax, a cancer vaccine targeting MUC1-expressing tumors. 
The team is assessing whether the patient's symptoms are due to a flare in her autoimmune disease or a delayed viral vaccine reaction. 
&quot;&quot;&quot;]

data = spark.createDataFrame(sample_texts, StringType()).toDF(&quot;text&quot;)

result = pipeline.fit(data).transform(data)
```
```scala
val document_assembler = new DocumentAssembler()
    .setInputCol(&quot;text&quot;)
    .setOutputCol(&quot;document&quot;)

val sentenceDetector = SentenceDetectorDLModel.pretrained(&quot;sentence_detector_dl&quot;,&quot;en&quot;,&quot;clinical/models&quot;)
    .setInputCols(&quot;document&quot;)
    .setOutputCol(&quot;sentence&quot;)

val tokenizer = new Tokenizer()
    .setInputCols(&quot;sentence&quot;)
    .setOutputCol(&quot;token&quot;)

val clinical_embeddings = WordEmbeddingsModel.pretrained(&quot;embeddings_clinical&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
    .setInputCols(Array(&quot;sentence&quot;, &quot;token&quot;))
    .setOutputCol(&quot;embeddings&quot;)

val ner_model = MedicalNerModel.pretrained(&quot;ner_vaccine_names&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
    .setInputCols(Array(&quot;sentence&quot;, &quot;token&quot;,&quot;embeddings&quot;))
    .setOutputCol(&quot;ner&quot;)

val ner_converter = new NerConverterInternal()
    .setInputCols(Array(&quot;sentence&quot;, &quot;token&quot;, &quot;ner&quot;))
    .setOutputCol(&quot;ner_chunk&quot;)

val pipeline = new Pipeline().setStages(Array(
    document_assembler, 
    sentenceDetector,
    tokenizer,
    clinical_embeddings,
    ner_model,
    ner_converter   
))

val sample_texts = Seq(&quot;&quot;&quot;On May 14, 2023, a 57-year-old female presented with fever, joint pain, and fatigue three days after receiving her third dose of the Shingrix vaccine.
Her history includes rheumatoid arthritis, managed with immunosuppressants, and prior breast cancer in remission. 
She previously received Gardasil 9, an HPV vaccine, and the hepatitis B recombinant vaccine series in 2020. 
Notably, she developed mild aches following her annual influenza shot, which is an inactivated vaccine. 
The patient reported receiving the DTaP vaccine (a toxoid vaccine) as a child. 
She also had tuberculosis as a teenager and had COVID-19 twice during the pandemic. 
In 2022, she was enrolled in a clinical trial for Stimuvax, a cancer vaccine targeting MUC1-expressing tumors. 
The team is assessing whether the patient's symptoms are due to a flare in her autoimmune disease or a delayed viral vaccine reaction. .
&quot;&quot;&quot;).toDF(&quot;text&quot;)

val result = pipeline.fit(sample_texts).transform(sample_texts)
```
&lt;/div&gt;

## Results

```bash
+-----------+--------------------+-----+---+----------------------+
|sentence_id|chunk               |begin|end|entities              |
+-----------+--------------------+-----+---+----------------------+
|0          |May 14, 2023        |4    |15 |Date                  |
|0          |57-year-old         |20   |30 |Age                   |
|0          |fever               |54   |58 |Sign_Symptom          |
|0          |joint pain          |61   |70 |Sign_Symptom          |
|0          |fatigue             |77   |83 |Sign_Symptom          |
|0          |third dose          |116  |125|Vax_Dose              |
|0          |Shingrix            |134  |141|Viral_Vax             |
|0          |vaccine             |143  |149|Adaptive_Immunity     |
|1          |rheumatoid arthritis|174  |193|Other_Disease_Disorder|
|1          |breast cancer       |239  |251|Other_Disease_Disorder|
|2          |Gardasil            |292  |301|Viral_Vax             |
|2          |HPV                 |307  |309|Infectious_Disease    |
|2          |vaccine             |311  |317|Adaptive_Immunity     |
|2          |hepatitis B         |328  |338|Infectious_Disease    |
|2          |recombinant         |340  |350|Other_Vax             |
|2          |vaccine             |352  |358|Adaptive_Immunity     |
|2          |2020                |370  |373|Date                  |
|3          |aches               |405  |409|Sign_Symptom          |
|3          |influenza           |432  |440|Infectious_Disease    |
|3          |inactivated         |460  |470|Inactivated           |
|3          |vaccine             |472  |478|Adaptive_Immunity     |
|4          |DTaP                |517  |520|Bacterial_Vax         |
|4          |vaccine             |522  |528|Adaptive_Immunity     |
|4          |toxoid              |533  |538|Toxoid                |
|4          |vaccine             |540  |546|Adaptive_Immunity     |
|4          |child               |554  |558|Age                   |
|5          |tuberculosis        |575  |586|Infectious_Disease    |
|5          |COVID-19            |610  |617|Infectious_Disease    |
|6          |2022                |650  |653|Date                  |
|6          |Stimuvax            |697  |704|Cancer_Vax            |
|6          |cancer              |709  |714|Other_Disease_Disorder|
|6          |vaccine             |716  |722|Adaptive_Immunity     |
|6          |tumors              |750  |755|Other_Disease_Disorder|
|7          |vaccine             |876  |882|Adaptive_Immunity     |
```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|ner_vaccine_types|
|Compatibility:|Healthcare NLP 6.0.3+|
|License:|Licensed|
|Edition:|Official|
|Input Labels:|[sentence, token, embeddings]|
|Output Labels:|[ner]|
|Language:|en|
|Size:|4.9 MB|

## References

In-house annotated case reports.

## Benchmarking

```bash
                  label  precision    recall  f1-score   support

      Adaptive_Immunity       0.96      0.98      0.97       659
                    Age       0.87      0.91      0.89       379
           Bac_Vir_Comb       0.94      0.97      0.96        66
          Bacterial_Vax       0.94      0.73      0.82       129
             Cancer_Vax       0.92      0.96      0.94       112
                   Date       0.93      0.92      0.92        99
            Inactivated       0.93      0.78      0.85        32
     Infectious_Disease       0.96      0.98      0.97       772
 Other_Disease_Disorder       0.87      0.90      0.89       441
              Other_Vax       0.77      1.00      0.87        17
           Sign_Symptom       0.87      0.86      0.87       197
                 Toxoid       0.94      1.00      0.97        15
               Vax_Dose       0.78      0.95      0.86       169
              Viral_Vax       0.94      0.94      0.94       186


              micro_avg       0.92      0.93      0.92      3273
              macro avg       0.90      0.92      0.91      3273
           weighted avg       0.92      0.93      0.92      3273
```</content><author><name>John Snow Labs</name></author><category term="licensed" /><category term="en" /><category term="clinical" /><category term="ner" /><category term="vaccines" /><category term="infectious_diseases" /><summary type="html">Description This model is trained to extract vaccine and related disease/symptom entities from clinical/medical texts. This project has been funded in whole or in part with Federal funds from the National Institute of Allergy and Infectious Diseases, National Institutes of Health, Department of Health and Human Services, under Contract No. 75N93024C00010” Predicted Entities Bacterial_Vax, Viral_Vax, Cancer_Vax, Bac_Vir_Comb, Other_Vax, Vax_Dose, Infectious_Disease, Other_Disease_Disorder, Sign_Symptom, Toxoid, Adaptive_Immunity, Inactivated, Date, Age Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU document_assembler = DocumentAssembler()\ .setInputCol(&quot;text&quot;)\ .setOutputCol(&quot;document&quot;) sentence_detector = SentenceDetectorDLModel.pretrained(&quot;sentence_detector_dl&quot;, &quot;en&quot;)\ .setInputCols([&quot;document&quot;])\ .setOutputCol(&quot;sentence&quot;) tokenizer = Tokenizer()\ .setInputCols([&quot;sentence&quot;])\ .setOutputCol(&quot;token&quot;) clinical_embeddings = WordEmbeddingsModel.pretrained('embeddings_clinical', &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;sentence&quot;, &quot;token&quot;])\ .setOutputCol(&quot;embeddings&quot;) ner_model = MedicalNerModel.pretrained('ner_cancer_names', &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;sentence&quot;, &quot;token&quot;,&quot;embeddings&quot;])\ .setOutputCol(&quot;ner&quot;) ner_converter = NerConverterInternal()\ .setInputCols(['sentence', 'token', 'ner'])\ .setOutputCol('ner_chunk') pipeline = Pipeline(stages=[ document_assembler, sentence_detector, tokenizer, clinical_embeddings, ner_model, ner_converter ]) sample_texts = [&quot;&quot;&quot; On May 14, 2023, a 57-year-old female presented with fever, joint pain, and fatigue three days after receiving her third dose of the Shingrix vaccine. Her history includes rheumatoid arthritis, managed with immunosuppressants, and prior breast cancer in remission. She previously received Gardasil 9, an HPV vaccine, and the hepatitis B recombinant vaccine series in 2020. Notably, she developed mild aches following her annual influenza shot, which is an inactivated vaccine. The patient reported receiving the DTaP vaccine (a toxoid vaccine) as a child. She also had tuberculosis as a teenager and had COVID-19 twice during the pandemic. In 2022, she was enrolled in a clinical trial for Stimuvax, a cancer vaccine targeting MUC1-expressing tumors. The team is assessing whether the patient's symptoms are due to a flare in her autoimmune disease or a delayed viral vaccine reaction. &quot;&quot;&quot;] data = spark.createDataFrame(sample_texts, StringType()).toDF(&quot;text&quot;) result = pipeline.fit(data).transform(data) document_assembler = nlp.DocumentAssembler()\ .setInputCol(&quot;text&quot;)\ .setOutputCol(&quot;document&quot;) sentence_detector = nlp.SentenceDetectorDLModel.pretrained(&quot;sentence_detector_dl&quot;, &quot;en&quot;)\ .setInputCols([&quot;document&quot;])\ .setOutputCol(&quot;sentence&quot;) tokenizer = nlp.Tokenizer()\ .setInputCols([&quot;sentence&quot;])\ .setOutputCol(&quot;token&quot;) clinical_embeddings = nlp.WordEmbeddingsModel.pretrained('embeddings_clinical', &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;sentence&quot;, &quot;token&quot;])\ .setOutputCol(&quot;embeddings&quot;) ner_model = medical.NerModel.pretrained('ner_cancer_names', &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;sentence&quot;, &quot;token&quot;,&quot;embeddings&quot;])\ .setOutputCol(&quot;ner&quot;) ner_converter = medical.NerConverterInternal()\ .setInputCols(['sentence', 'token', 'ner'])\ .setOutputCol('ner_chunk') pipeline = nlp.Pipeline(stages=[ document_assembler, sentence_detector, tokenizer, clinical_embeddings, ner_model, ner_converter ]) sample_texts = [&quot;&quot;&quot; On May 14, 2023, a 57-year-old female presented with fever, joint pain, and fatigue three days after receiving her third dose of the Shingrix vaccine. Her history includes rheumatoid arthritis, managed with immunosuppressants, and prior breast cancer in remission. She previously received Gardasil 9, an HPV vaccine, and the hepatitis B recombinant vaccine series in 2020. Notably, she developed mild aches following her annual influenza shot, which is an inactivated vaccine. The patient reported receiving the DTaP vaccine (a toxoid vaccine) as a child. She also had tuberculosis as a teenager and had COVID-19 twice during the pandemic. In 2022, she was enrolled in a clinical trial for Stimuvax, a cancer vaccine targeting MUC1-expressing tumors. The team is assessing whether the patient's symptoms are due to a flare in her autoimmune disease or a delayed viral vaccine reaction. &quot;&quot;&quot;] data = spark.createDataFrame(sample_texts, StringType()).toDF(&quot;text&quot;) result = pipeline.fit(data).transform(data) val document_assembler = new DocumentAssembler() .setInputCol(&quot;text&quot;) .setOutputCol(&quot;document&quot;) val sentenceDetector = SentenceDetectorDLModel.pretrained(&quot;sentence_detector_dl&quot;,&quot;en&quot;,&quot;clinical/models&quot;) .setInputCols(&quot;document&quot;) .setOutputCol(&quot;sentence&quot;) val tokenizer = new Tokenizer() .setInputCols(&quot;sentence&quot;) .setOutputCol(&quot;token&quot;) val clinical_embeddings = WordEmbeddingsModel.pretrained(&quot;embeddings_clinical&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;sentence&quot;, &quot;token&quot;)) .setOutputCol(&quot;embeddings&quot;) val ner_model = MedicalNerModel.pretrained(&quot;ner_vaccine_names&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;sentence&quot;, &quot;token&quot;,&quot;embeddings&quot;)) .setOutputCol(&quot;ner&quot;) val ner_converter = new NerConverterInternal() .setInputCols(Array(&quot;sentence&quot;, &quot;token&quot;, &quot;ner&quot;)) .setOutputCol(&quot;ner_chunk&quot;) val pipeline = new Pipeline().setStages(Array( document_assembler, sentenceDetector, tokenizer, clinical_embeddings, ner_model, ner_converter )) val sample_texts = Seq(&quot;&quot;&quot;On May 14, 2023, a 57-year-old female presented with fever, joint pain, and fatigue three days after receiving her third dose of the Shingrix vaccine. Her history includes rheumatoid arthritis, managed with immunosuppressants, and prior breast cancer in remission. She previously received Gardasil 9, an HPV vaccine, and the hepatitis B recombinant vaccine series in 2020. Notably, she developed mild aches following her annual influenza shot, which is an inactivated vaccine. The patient reported receiving the DTaP vaccine (a toxoid vaccine) as a child. She also had tuberculosis as a teenager and had COVID-19 twice during the pandemic. In 2022, she was enrolled in a clinical trial for Stimuvax, a cancer vaccine targeting MUC1-expressing tumors. The team is assessing whether the patient's symptoms are due to a flare in her autoimmune disease or a delayed viral vaccine reaction. . &quot;&quot;&quot;).toDF(&quot;text&quot;) val result = pipeline.fit(sample_texts).transform(sample_texts) Results +-----------+--------------------+-----+---+----------------------+ |sentence_id|chunk |begin|end|entities | +-----------+--------------------+-----+---+----------------------+ |0 |May 14, 2023 |4 |15 |Date | |0 |57-year-old |20 |30 |Age | |0 |fever |54 |58 |Sign_Symptom | |0 |joint pain |61 |70 |Sign_Symptom | |0 |fatigue |77 |83 |Sign_Symptom | |0 |third dose |116 |125|Vax_Dose | |0 |Shingrix |134 |141|Viral_Vax | |0 |vaccine |143 |149|Adaptive_Immunity | |1 |rheumatoid arthritis|174 |193|Other_Disease_Disorder| |1 |breast cancer |239 |251|Other_Disease_Disorder| |2 |Gardasil |292 |301|Viral_Vax | |2 |HPV |307 |309|Infectious_Disease | |2 |vaccine |311 |317|Adaptive_Immunity | |2 |hepatitis B |328 |338|Infectious_Disease | |2 |recombinant |340 |350|Other_Vax | |2 |vaccine |352 |358|Adaptive_Immunity | |2 |2020 |370 |373|Date | |3 |aches |405 |409|Sign_Symptom | |3 |influenza |432 |440|Infectious_Disease | |3 |inactivated |460 |470|Inactivated | |3 |vaccine |472 |478|Adaptive_Immunity | |4 |DTaP |517 |520|Bacterial_Vax | |4 |vaccine |522 |528|Adaptive_Immunity | |4 |toxoid |533 |538|Toxoid | |4 |vaccine |540 |546|Adaptive_Immunity | |4 |child |554 |558|Age | |5 |tuberculosis |575 |586|Infectious_Disease | |5 |COVID-19 |610 |617|Infectious_Disease | |6 |2022 |650 |653|Date | |6 |Stimuvax |697 |704|Cancer_Vax | |6 |cancer |709 |714|Other_Disease_Disorder| |6 |vaccine |716 |722|Adaptive_Immunity | |6 |tumors |750 |755|Other_Disease_Disorder| |7 |vaccine |876 |882|Adaptive_Immunity | Model Information Model Name: ner_vaccine_types Compatibility: Healthcare NLP 6.0.3+ License: Licensed Edition: Official Input Labels: [sentence, token, embeddings] Output Labels: [ner] Language: en Size: 4.9 MB References In-house annotated case reports. Benchmarking label precision recall f1-score support Adaptive_Immunity 0.96 0.98 0.97 659 Age 0.87 0.91 0.89 379 Bac_Vir_Comb 0.94 0.97 0.96 66 Bacterial_Vax 0.94 0.73 0.82 129 Cancer_Vax 0.92 0.96 0.94 112 Date 0.93 0.92 0.92 99 Inactivated 0.93 0.78 0.85 32 Infectious_Disease 0.96 0.98 0.97 772 Other_Disease_Disorder 0.87 0.90 0.89 441 Other_Vax 0.77 1.00 0.87 17 Sign_Symptom 0.87 0.86 0.87 197 Toxoid 0.94 1.00 0.97 15 Vax_Dose 0.78 0.95 0.86 169 Viral_Vax 0.94 0.94 0.94 186 micro_avg 0.92 0.93 0.92 3273 macro avg 0.90 0.92 0.91 3273 weighted avg 0.92 0.93 0.92 3273</summary></entry><entry><title type="html">Vaccinations and Infectious Diseases</title><link href="/2025/07/09/vaccine_names_en.html" rel="alternate" type="text/html" title="Vaccinations and Infectious Diseases" /><published>2025-07-09T00:00:00+00:00</published><updated>2025-07-09T00:00:00+00:00</updated><id>/2025/07/09/vaccine_names_en</id><content type="html" xml:base="/2025/07/09/vaccine_names_en.html">## Description

This pipeline is designed to extract vaccine and related disease/symptom entities from clinical/medical texts. 

Predicted entities are:


`Bacterial_Vax`, `Viral_Vax`, `Cancer_Vax`, `Bac_Vir_Comb`, `Other_Vax`, `Vax_Dose`, `Infectious_Disease`, `Other_Disease_Disorder`, `Sign_Symptom`, `Toxoid`, `Adaptive_Immunity`, `Inactivated`, `Date`, `Age`

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/vaccine_names_en_6.0.3_3.4_1752074827939.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/vaccine_names_en_6.0.3_3.4_1752074827939.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python

from sparknlp.pretrained import PretrainedPipeline

ner_pipeline = PretrainedPipeline(&quot;vaccine_names&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

result = ner_pipeline.annotate(&quot;&quot;&quot;
On May 14, 2023, a 57-year-old female presented with fever, joint pain, and fatigue three days after receiving her third dose of the Shingrix vaccine. 
Her history includes rheumatoid arthritis, managed with immunosuppressants, and prior breast cancer in remission. 
She previously received Gardasil 9, an HPV vaccine, and the hepatitis B recombinant vaccine series in 2020. 
Notably, she developed mild aches following her annual influenza shot, which is an inactivated vaccine. 
The patient reported receiving the DTaP vaccine (a toxoid vaccine) as a child. She also had tuberculosis as a teenager and had COVID-19 twice during the pandemic. 
In 2022, she was enrolled in a clinical trial for Stimuvax, a cancer vaccine targeting MUC1-expressing tumors. 
The team is assessing whether the patient's symptoms are due to a flare in her autoimmune disease or a delayed viral vaccine reaction. 
&quot;&quot;&quot;)

```
```scala

import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline

val ner_pipeline = PretrainedPipeline(&quot;vaccine_names&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

val result = ner_pipeline.annotate(&quot;&quot;&quot;
On May 14, 2023, a 57-year-old female presented with fever, joint pain, and fatigue three days after receiving her third dose of the Shingrix vaccine. 
Her history includes rheumatoid arthritis, managed with immunosuppressants, and prior breast cancer in remission. 
She previously received Gardasil 9, an HPV vaccine, and the hepatitis B recombinant vaccine series in 2020. 
Notably, she developed mild aches following her annual influenza shot, which is an inactivated vaccine. 
The patient reported receiving the DTaP vaccine (a toxoid vaccine) as a child. She also had tuberculosis as a teenager and had COVID-19 twice during the pandemic. 
In 2022, she was enrolled in a clinical trial for Stimuvax, a cancer vaccine targeting MUC1-expressing tumors. 
The team is assessing whether the patient's symptoms are due to a flare in her autoimmune disease or a delayed viral vaccine reaction. 
&quot;&quot;&quot;)

```
&lt;/div&gt;

## Results

```bash
|    | chunks               |   begin |   end | entities               |
|---:|:---------------------|--------:|------:|:-----------------------|
|  0 | May 14, 2023         |       4 |    15 | Date                   |
|  1 | 57-year-old          |      20 |    30 | Age                    |
|  2 | fever                |      54 |    58 | Sign_Symptom           |
|  3 | joint pain           |      61 |    70 | Sign_Symptom           |
|  4 | fatigue              |      77 |    83 | Sign_Symptom           |
|  5 | third dose           |     116 |   125 | Vax_Dose               |
|  6 | Shingrix             |     134 |   141 | Viral_Vax              |
|  7 | vaccine              |     143 |   149 | Adaptive_Immunity      |
|  8 | rheumatoid arthritis |     174 |   193 | Other_Disease_Disorder |
|  9 | breast cancer        |     239 |   251 | Other_Disease_Disorder |
| 10 | Gardasil 9           |     292 |   301 | Viral_Vax              |
| 11 | HPV                  |     307 |   309 | Infectious_Disease     |
| 12 | vaccine              |     311 |   317 | Adaptive_Immunity      |
| 13 | hepatitis B          |     328 |   338 | Infectious_Disease     |
| 14 | recombinant          |     340 |   350 | Other_Vax              |
| 15 | vaccine              |     352 |   358 | Adaptive_Immunity      |
| 16 | 2020                 |     370 |   373 | Date                   |
| 17 | aches                |     405 |   409 | Sign_Symptom           |
| 18 | influenza            |     432 |   440 | Infectious_Disease     |
| 19 | inactivated          |     460 |   470 | Inactivated            |
| 20 | vaccine              |     472 |   478 | Adaptive_Immunity      |
| 21 | DTaP                 |     517 |   520 | Bacterial_Vax          |
| 22 | vaccine              |     522 |   528 | Adaptive_Immunity      |
| 23 | toxoid               |     533 |   538 | Toxoid                 |
| 24 | vaccine              |     540 |   546 | Adaptive_Immunity      |
| 25 | child                |     554 |   558 | Age                    |
| 26 | tuberculosis         |     574 |   585 | Infectious_Disease     |
| 27 | COVID-19             |     609 |   616 | Infectious_Disease     |
| 28 | 2022                 |     649 |   652 | Date                   |
| 29 | Stimuvax             |     696 |   703 | Cancer_Vax             |
| 30 | cancer               |     708 |   713 | Other_Disease_Disorder |
| 31 | vaccine              |     715 |   721 | Adaptive_Immunity      |
| 32 | tumors               |     749 |   754 | Other_Disease_Disorder |
| 33 | vaccine              |     875 |   881 | Adaptive_Immunity      |
```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|vaccine_names|
|Type:|pipeline|
|Compatibility:|Healthcare NLP 6.0.3+|
|License:|Licensed|
|Edition:|Official|
|Language:|en|
|Size:|1.7 GB|


## Benchmarking

```bash

                  label  precision    recall  f1-score   support

      Adaptive_Immunity       0.96      0.98      0.97       659
                    Age       0.87      0.91      0.89       379
           Bac_Vir_Comb       0.94      0.97      0.96        66
          Bacterial_Vax       0.94      0.73      0.82       129
             Cancer_Vax       0.92      0.96      0.94       112
                   Date       0.93      0.92      0.92        99
            Inactivated       0.93      0.78      0.85        32
     Infectious_Disease       0.96      0.98      0.97       772
 Other_Disease_Disorder       0.87      0.90      0.89       441
              Other_Vax       0.77      1.00      0.87        17
           Sign_Symptom       0.87      0.86      0.87       197
                 Toxoid       0.94      1.00      0.97        15
               Vax_Dose       0.78      0.95      0.86       169
              Viral_Vax       0.94      0.94      0.94       186
            

              micro_avg       0.92      0.93      0.92      3273
              macro avg       0.90      0.92      0.91      3273
           weighted avg       0.92      0.93      0.92      3273

```


## Included Models

- DocumentAssembler
- SentenceDetectorDLModel
- TokenizerModel
- WordEmbeddingsModel
- TextMatcherInternalModel
- MedicalNerModel
- NerConverterInternalModel
- ChunkMergeModel</content><author><name>John Snow Labs</name></author><category term="licensed" /><category term="en" /><category term="clinical" /><category term="pipeline" /><category term="ner" /><category term="vaccines" /><category term="infectious_diseases" /><summary type="html">Description This pipeline is designed to extract vaccine and related disease/symptom entities from clinical/medical texts. Predicted entities are: Bacterial_Vax, Viral_Vax, Cancer_Vax, Bac_Vir_Comb, Other_Vax, Vax_Dose, Infectious_Disease, Other_Disease_Disorder, Sign_Symptom, Toxoid, Adaptive_Immunity, Inactivated, Date, Age Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU from sparknlp.pretrained import PretrainedPipeline ner_pipeline = PretrainedPipeline(&quot;vaccine_names&quot;, &quot;en&quot;, &quot;clinical/models&quot;) result = ner_pipeline.annotate(&quot;&quot;&quot; On May 14, 2023, a 57-year-old female presented with fever, joint pain, and fatigue three days after receiving her third dose of the Shingrix vaccine. Her history includes rheumatoid arthritis, managed with immunosuppressants, and prior breast cancer in remission. She previously received Gardasil 9, an HPV vaccine, and the hepatitis B recombinant vaccine series in 2020. Notably, she developed mild aches following her annual influenza shot, which is an inactivated vaccine. The patient reported receiving the DTaP vaccine (a toxoid vaccine) as a child. She also had tuberculosis as a teenager and had COVID-19 twice during the pandemic. In 2022, she was enrolled in a clinical trial for Stimuvax, a cancer vaccine targeting MUC1-expressing tumors. The team is assessing whether the patient's symptoms are due to a flare in her autoimmune disease or a delayed viral vaccine reaction. &quot;&quot;&quot;) import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline val ner_pipeline = PretrainedPipeline(&quot;vaccine_names&quot;, &quot;en&quot;, &quot;clinical/models&quot;) val result = ner_pipeline.annotate(&quot;&quot;&quot; On May 14, 2023, a 57-year-old female presented with fever, joint pain, and fatigue three days after receiving her third dose of the Shingrix vaccine. Her history includes rheumatoid arthritis, managed with immunosuppressants, and prior breast cancer in remission. She previously received Gardasil 9, an HPV vaccine, and the hepatitis B recombinant vaccine series in 2020. Notably, she developed mild aches following her annual influenza shot, which is an inactivated vaccine. The patient reported receiving the DTaP vaccine (a toxoid vaccine) as a child. She also had tuberculosis as a teenager and had COVID-19 twice during the pandemic. In 2022, she was enrolled in a clinical trial for Stimuvax, a cancer vaccine targeting MUC1-expressing tumors. The team is assessing whether the patient's symptoms are due to a flare in her autoimmune disease or a delayed viral vaccine reaction. &quot;&quot;&quot;) Results | | chunks | begin | end | entities | |---:|:---------------------|--------:|------:|:-----------------------| | 0 | May 14, 2023 | 4 | 15 | Date | | 1 | 57-year-old | 20 | 30 | Age | | 2 | fever | 54 | 58 | Sign_Symptom | | 3 | joint pain | 61 | 70 | Sign_Symptom | | 4 | fatigue | 77 | 83 | Sign_Symptom | | 5 | third dose | 116 | 125 | Vax_Dose | | 6 | Shingrix | 134 | 141 | Viral_Vax | | 7 | vaccine | 143 | 149 | Adaptive_Immunity | | 8 | rheumatoid arthritis | 174 | 193 | Other_Disease_Disorder | | 9 | breast cancer | 239 | 251 | Other_Disease_Disorder | | 10 | Gardasil 9 | 292 | 301 | Viral_Vax | | 11 | HPV | 307 | 309 | Infectious_Disease | | 12 | vaccine | 311 | 317 | Adaptive_Immunity | | 13 | hepatitis B | 328 | 338 | Infectious_Disease | | 14 | recombinant | 340 | 350 | Other_Vax | | 15 | vaccine | 352 | 358 | Adaptive_Immunity | | 16 | 2020 | 370 | 373 | Date | | 17 | aches | 405 | 409 | Sign_Symptom | | 18 | influenza | 432 | 440 | Infectious_Disease | | 19 | inactivated | 460 | 470 | Inactivated | | 20 | vaccine | 472 | 478 | Adaptive_Immunity | | 21 | DTaP | 517 | 520 | Bacterial_Vax | | 22 | vaccine | 522 | 528 | Adaptive_Immunity | | 23 | toxoid | 533 | 538 | Toxoid | | 24 | vaccine | 540 | 546 | Adaptive_Immunity | | 25 | child | 554 | 558 | Age | | 26 | tuberculosis | 574 | 585 | Infectious_Disease | | 27 | COVID-19 | 609 | 616 | Infectious_Disease | | 28 | 2022 | 649 | 652 | Date | | 29 | Stimuvax | 696 | 703 | Cancer_Vax | | 30 | cancer | 708 | 713 | Other_Disease_Disorder | | 31 | vaccine | 715 | 721 | Adaptive_Immunity | | 32 | tumors | 749 | 754 | Other_Disease_Disorder | | 33 | vaccine | 875 | 881 | Adaptive_Immunity | Model Information Model Name: vaccine_names Type: pipeline Compatibility: Healthcare NLP 6.0.3+ License: Licensed Edition: Official Language: en Size: 1.7 GB Benchmarking label precision recall f1-score support Adaptive_Immunity 0.96 0.98 0.97 659 Age 0.87 0.91 0.89 379 Bac_Vir_Comb 0.94 0.97 0.96 66 Bacterial_Vax 0.94 0.73 0.82 129 Cancer_Vax 0.92 0.96 0.94 112 Date 0.93 0.92 0.92 99 Inactivated 0.93 0.78 0.85 32 Infectious_Disease 0.96 0.98 0.97 772 Other_Disease_Disorder 0.87 0.90 0.89 441 Other_Vax 0.77 1.00 0.87 17 Sign_Symptom 0.87 0.86 0.87 197 Toxoid 0.94 1.00 0.97 15 Vax_Dose 0.78 0.95 0.86 169 Viral_Vax 0.94 0.94 0.94 186 micro_avg 0.92 0.93 0.92 3273 macro avg 0.90 0.92 0.91 3273 weighted avg 0.92 0.93 0.92 3273 Included Models DocumentAssembler SentenceDetectorDLModel TokenizerModel WordEmbeddingsModel TextMatcherInternalModel MedicalNerModel NerConverterInternalModel ChunkMergeModel</summary></entry><entry><title type="html">Clinical Deidentification Pipeline (Document Wise)</title><link href="/2025/07/03/clinical_deidentification_docwise_benchmark_optimized_en.html" rel="alternate" type="text/html" title="Clinical Deidentification Pipeline (Document Wise)" /><published>2025-07-03T00:00:00+00:00</published><updated>2025-07-03T00:00:00+00:00</updated><id>/2025/07/03/clinical_deidentification_docwise_benchmark_optimized_en</id><content type="html" xml:base="/2025/07/03/clinical_deidentification_docwise_benchmark_optimized_en.html">## Description

This pipeline can be used to deidentify PHI information from medical texts. The PHI information will be masked and obfuscated in the resulting text.
The pipeline can mask and obfuscate `LOCATION`, `CONTACT`, `PROFESSION`, `NAME`, `DATE`, `AGE`, `MEDICALRECORD`, `ORGANIZATION`, `HEALTHPLAN`, `DOCTOR`, `USERNAME`,
`LOCATION-OTHER`, `URL`, `DEVICE`, `CITY`, `ZIP`, `STATE`, `PATIENT`, `STREET`, `PHONE`, `HOSPITAL`, `EMAIL`, `IDNUM`, `BIOID`, `FAX`, `LOCATION_OTHER`, `DLN`,
`SSN`, `ACCOUNT`, `PLATE`, `VIN`, `LICENSE`, `IP` entities.

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/clinical_deidentification_docwise_benchmark_optimized_en_5.5.3_3.4_1751551119965.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/clinical_deidentification_docwise_benchmark_optimized_en_5.5.3_3.4_1751551119965.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python

from sparknlp.pretrained import PretrainedPipeline

deid_pipeline = PretrainedPipeline(&quot;clinical_deidentification_docwise_benchmark_optimized&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

text = &quot;&quot;&quot;Dr. John Lee, from Royal Medical Clinic in Chicago, attended to the patient on 11/05/2024.
The patient’s medical record number is 56467890.
The patient, Emma Wilson, is 50 years old, her Contact number: 444-456-7890 .&quot;&quot;&quot;

deid_result = deid_pipeline.fullAnnotate(text)


```

{:.jsl-block}
```python

from sparknlp.pretrained import PretrainedPipeline

deid_pipeline = nlp.PretrainedPipeline(&quot;clinical_deidentification_docwise_benchmark_optimized&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

text = &quot;&quot;&quot;Dr. John Lee, from Royal Medical Clinic in Chicago, attended to the patient on 11/05/2024.
The patient’s medical record number is 56467890.
The patient, Emma Wilson, is 50 years old, her Contact number: 444-456-7890 .&quot;&quot;&quot;

deid_result = deid_pipeline.fullAnnotate(text)

```
```scala

import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline

val deid_pipeline = PretrainedPipeline(&quot;clinical_deidentification_docwise_benchmark_optimized&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

val text = &quot;&quot;&quot;Dr. John Lee, from Royal Medical Clinic in Chicago, attended to the patient on 11/05/2024.
The patient’s medical record number is 56467890.
The patient, Emma Wilson, is 50 years old, her Contact number: 444-456-7890 .&quot;&quot;&quot;

val deid_result = deid_pipeline.fullAnnotate(text)

```
&lt;/div&gt;

## Results

```bash
|    | text                                                                                       | result                                                                                                                                                                                         | result                                                                                                                                                                                                                                   |
|---:|:-------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  0 | Dr. John Lee, from Royal Medical Clinic in Chicago, attended to the patient on 11/05/2024. | ['Dr. &lt;DOCTOR&gt;, from &lt;HOSPITAL&gt; in &lt;CITY&gt;, attended to the patient on &lt;DATE&gt;.\nThe patient’s medical record number is &lt;ID&gt;.\nThe patient, &lt;PATIENT&gt;, is &lt;AGE&gt;, her Contact number: &lt;PHONE&gt; .'] | ['Dr. Candice Chalet, from MERCY HOSPITAL AURORA in Berea, attended to the patient on 05/06/2024.\nThe patient’s medical record number is 58687092.\nThe patient, Shari Daughters, is 55 years old, her Contact number: 333-325-4769 .'] |
|    | The patient’s medical record number is 56467890.                                           |                                                                                                                                                                                                |                                                                                                                                                                                                                                          |
|    | The patient, Emma Wilson, is 50 years old, her Contact number: 444-456-7890 .              |                                                                                                                                                                                                |                                                                                                                                                                                                                                          |
```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|clinical_deidentification_docwise_benchmark_optimized|
|Type:|pipeline|
|Compatibility:|Healthcare NLP 5.5.3+|
|License:|Licensed|
|Edition:|Official|
|Language:|en|
|Size:|1.8 GB|

## Included Models

- DocumentAssembler
- InternalDocumentSplitter
- TokenizerModel
- TokenizerModel
- WordEmbeddingsModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- ChunkMergeModel
- ContextualParserModel
- ContextualParserModel
- ContextualParserModel
- ContextualParserModel
- ContextualParserModel
- ContextualParserModel
- ContextualParserModel
- ContextualParserModel
- RegexMatcherInternalModel
- ContextualParserModel
- ContextualParserModel
- RegexMatcherInternalModel
- RegexMatcherInternalModel
- RegexMatcherInternalModel
- ContextualParserModel
- TextMatcherInternalModel
- TextMatcherInternalModel
- ContextualParserModel
- ContextualParserModel
- ChunkMergeModel
- ChunkMergeModel
- LightDeIdentification
- LightDeIdentification</content><author><name>John Snow Labs</name></author><category term="deidentification" /><category term="deid" /><category term="en" /><category term="licensed" /><category term="clinical" /><category term="pipeline" /><category term="docwise" /><summary type="html">Description This pipeline can be used to deidentify PHI information from medical texts. The PHI information will be masked and obfuscated in the resulting text. The pipeline can mask and obfuscate LOCATION, CONTACT, PROFESSION, NAME, DATE, AGE, MEDICALRECORD, ORGANIZATION, HEALTHPLAN, DOCTOR, USERNAME, LOCATION-OTHER, URL, DEVICE, CITY, ZIP, STATE, PATIENT, STREET, PHONE, HOSPITAL, EMAIL, IDNUM, BIOID, FAX, LOCATION_OTHER, DLN, SSN, ACCOUNT, PLATE, VIN, LICENSE, IP entities. Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU from sparknlp.pretrained import PretrainedPipeline deid_pipeline = PretrainedPipeline(&quot;clinical_deidentification_docwise_benchmark_optimized&quot;, &quot;en&quot;, &quot;clinical/models&quot;) text = &quot;&quot;&quot;Dr. John Lee, from Royal Medical Clinic in Chicago, attended to the patient on 11/05/2024. The patient’s medical record number is 56467890. The patient, Emma Wilson, is 50 years old, her Contact number: 444-456-7890 .&quot;&quot;&quot; deid_result = deid_pipeline.fullAnnotate(text) from sparknlp.pretrained import PretrainedPipeline deid_pipeline = nlp.PretrainedPipeline(&quot;clinical_deidentification_docwise_benchmark_optimized&quot;, &quot;en&quot;, &quot;clinical/models&quot;) text = &quot;&quot;&quot;Dr. John Lee, from Royal Medical Clinic in Chicago, attended to the patient on 11/05/2024. The patient’s medical record number is 56467890. The patient, Emma Wilson, is 50 years old, her Contact number: 444-456-7890 .&quot;&quot;&quot; deid_result = deid_pipeline.fullAnnotate(text) import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline val deid_pipeline = PretrainedPipeline(&quot;clinical_deidentification_docwise_benchmark_optimized&quot;, &quot;en&quot;, &quot;clinical/models&quot;) val text = &quot;&quot;&quot;Dr. John Lee, from Royal Medical Clinic in Chicago, attended to the patient on 11/05/2024. The patient’s medical record number is 56467890. The patient, Emma Wilson, is 50 years old, her Contact number: 444-456-7890 .&quot;&quot;&quot; val deid_result = deid_pipeline.fullAnnotate(text) Results | | text | result | result | |---:|:-------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| | 0 | Dr. John Lee, from Royal Medical Clinic in Chicago, attended to the patient on 11/05/2024. | ['Dr. &amp;lt;DOCTOR&amp;gt;, from &amp;lt;HOSPITAL&amp;gt; in &amp;lt;CITY&amp;gt;, attended to the patient on &amp;lt;DATE&amp;gt;.\nThe patient’s medical record number is &amp;lt;ID&amp;gt;.\nThe patient, &amp;lt;PATIENT&amp;gt;, is &amp;lt;AGE&amp;gt;, her Contact number: &amp;lt;PHONE&amp;gt; .'] | ['Dr. Candice Chalet, from MERCY HOSPITAL AURORA in Berea, attended to the patient on 05/06/2024.\nThe patient’s medical record number is 58687092.\nThe patient, Shari Daughters, is 55 years old, her Contact number: 333-325-4769 .'] | | | The patient’s medical record number is 56467890. | | | | | The patient, Emma Wilson, is 50 years old, her Contact number: 444-456-7890 . | | | Model Information Model Name: clinical_deidentification_docwise_benchmark_optimized Type: pipeline Compatibility: Healthcare NLP 5.5.3+ License: Licensed Edition: Official Language: en Size: 1.8 GB Included Models DocumentAssembler InternalDocumentSplitter TokenizerModel TokenizerModel WordEmbeddingsModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel ChunkMergeModel ContextualParserModel ContextualParserModel ContextualParserModel ContextualParserModel ContextualParserModel ContextualParserModel ContextualParserModel ContextualParserModel RegexMatcherInternalModel ContextualParserModel ContextualParserModel RegexMatcherInternalModel RegexMatcherInternalModel RegexMatcherInternalModel ContextualParserModel TextMatcherInternalModel TextMatcherInternalModel ContextualParserModel ContextualParserModel ChunkMergeModel ChunkMergeModel LightDeIdentification LightDeIdentification</summary></entry><entry><title type="html">JSL_MedS_NER (LLM - q16 - v4)</title><link href="/2025/07/01/jsl_meds_ner_openvino_q16_v4_en.html" rel="alternate" type="text/html" title="JSL_MedS_NER (LLM - q16 - v4)" /><published>2025-07-01T00:00:00+00:00</published><updated>2025-07-01T00:00:00+00:00</updated><id>/2025/07/01/jsl_meds_ner_openvino_q16_v4_en</id><content type="html" xml:base="/2025/07/01/jsl_meds_ner_openvino_q16_v4_en.html">## Description

This LLM model is trained to extract and link entities in a document. Users needs to define an input schema as explained in the example section. Drug is defined as a list which tells the model that there could be multiple drugs in the document and it has to extract all of them. Each drug has properties like name and reaction. Since “name” is only one, it is a string, but there could be multiple reactions, hence it is a list. Similarly, users can define any schema for any type of entity.

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/jsl_meds_ner_openvino_q16_v4_en_6.0.3_3.0_1751361186266.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/jsl_meds_ner_openvino_q16_v4_en_6.0.3_3.0_1751361186266.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python
document_assembler = DocumentAssembler()\
    .setInputCol(&quot;text&quot;)\
    .setOutputCol(&quot;documents&quot;)

phi3 = Phi3Transformer.pretrained(f&quot;jsl_meds_ner_openvino_q16_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols([&quot;documents&quot;])\
    .setOutputCol(&quot;generation&quot;)\
    .setMaxOutputLength(500)

pipeline = Pipeline().setStages([
    document_assembler,
    phi3
])

text = &quot;&quot;&quot;
### Template:
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;&quot;,
            &quot;reactions&quot;: []
        }
    ]
}
### Text:
I feel a bit drowsy &amp; have a little blurred vision , and some gastric problems .
I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it .
Due to my arthritis getting progressively worse , to the point where I am in tears with the agony.
Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes .
So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50.
&quot;&quot;&quot;

data = spark.createDataFrame([[text]]).toDF(&quot;text&quot;)

result = pipeline.fit(data).transform(data)
```

{:.jsl-block}
```python
from johnsnowlabs import nlp, medical

document_assembler = nlp.DocumentAssembler()\
    .setInputCol(&quot;text&quot;)\
    .setOutputCol(&quot;documents&quot;)

phi3 = nlp.Phi3Transformer.pretrained(f&quot;jsl_meds_ner_openvino_q16_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols([&quot;documents&quot;])\
    .setOutputCol(&quot;generation&quot;)\
    .setMaxOutputLength(500)

pipeline = nlp.Pipeline().setStages([
    document_assembler,
    phi3
])

text = &quot;&quot;&quot;
### Template:
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;&quot;,
            &quot;reactions&quot;: []
        }
    ]
}
### Text:
I feel a bit drowsy &amp; have a little blurred vision , and some gastric problems .
I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it .
Due to my arthritis getting progressively worse , to the point where I am in tears with the agony.
Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes .
So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50.
&quot;&quot;&quot;

data = spark.createDataFrame([[text]]).toDF(&quot;text&quot;)

result = pipeline.fit(data).transform(data)
```
```scala
val document_assembler = new DocumentAssembler()
    .setInputCol(&quot;text&quot;)
    .setOutputCol(&quot;documents&quot;)

val phi3 = Phi3Transformer.pretrained(f&quot;jsl_meds_ner_openvino_q16_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
    .setInputCols(Array(&quot;documents&quot;))
    .setOutputCol(&quot;generation&quot;)
    .setMaxOutputLength(500)

val pipeline = new Pipeline().setStages(Array(
    document_assembler,
    phi3
))

val text = &quot;&quot;&quot;
### Template:
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;&quot;,
            &quot;reactions&quot;: []
        }
    ]
}
### Text:
I feel a bit drowsy &amp; have a little blurred vision , and some gastric problems .
I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it .
Due to my arthritis getting progressively worse , to the point where I am in tears with the agony.
Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes .
So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50.
&quot;&quot;&quot;

val data = Seq(text).toDF(&quot;text&quot;)

val result = pipeline.fit(data).transform(data)
```
&lt;/div&gt;

## Results

```bash

{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;Arthrotec 50&quot;,
            &quot;reactions&quot;: [
                &quot;drowsy&quot;,
                &quot;blurred vision&quot;,
                &quot;gastric problems&quot;
            ]
        },
        {
            &quot;name&quot;: &quot;75&quot;,
            &quot;reactions&quot;: [
                &quot;weird&quot;
            ]
        }
    ]
}

```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|jsl_meds_ner_openvino_q16_v4|
|Compatibility:|Healthcare NLP 6.0.3+|
|License:|Licensed|
|Edition:|Official|
|Input Labels:|[documents]|
|Output Labels:|[generation]|
|Language:|en|
|Size:|6.1 GB|</content><author><name>John Snow Labs</name></author><category term="licensed" /><category term="clinical" /><category term="en" /><category term="llm" /><category term="ner" /><category term="meds" /><category term="openvino" /><summary type="html">Description This LLM model is trained to extract and link entities in a document. Users needs to define an input schema as explained in the example section. Drug is defined as a list which tells the model that there could be multiple drugs in the document and it has to extract all of them. Each drug has properties like name and reaction. Since “name” is only one, it is a string, but there could be multiple reactions, hence it is a list. Similarly, users can define any schema for any type of entity. Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU document_assembler = DocumentAssembler()\ .setInputCol(&quot;text&quot;)\ .setOutputCol(&quot;documents&quot;) phi3 = Phi3Transformer.pretrained(f&quot;jsl_meds_ner_openvino_q16_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;documents&quot;])\ .setOutputCol(&quot;generation&quot;)\ .setMaxOutputLength(500) pipeline = Pipeline().setStages([ document_assembler, phi3 ]) text = &quot;&quot;&quot; ### Template: { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;&quot;, &quot;reactions&quot;: [] } ] } ### Text: I feel a bit drowsy &amp;amp; have a little blurred vision , and some gastric problems . I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it . Due to my arthritis getting progressively worse , to the point where I am in tears with the agony. Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes . So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50. &quot;&quot;&quot; data = spark.createDataFrame([[text]]).toDF(&quot;text&quot;) result = pipeline.fit(data).transform(data) from johnsnowlabs import nlp, medical document_assembler = nlp.DocumentAssembler()\ .setInputCol(&quot;text&quot;)\ .setOutputCol(&quot;documents&quot;) phi3 = nlp.Phi3Transformer.pretrained(f&quot;jsl_meds_ner_openvino_q16_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;documents&quot;])\ .setOutputCol(&quot;generation&quot;)\ .setMaxOutputLength(500) pipeline = nlp.Pipeline().setStages([ document_assembler, phi3 ]) text = &quot;&quot;&quot; ### Template: { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;&quot;, &quot;reactions&quot;: [] } ] } ### Text: I feel a bit drowsy &amp;amp; have a little blurred vision , and some gastric problems . I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it . Due to my arthritis getting progressively worse , to the point where I am in tears with the agony. Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes . So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50. &quot;&quot;&quot; data = spark.createDataFrame([[text]]).toDF(&quot;text&quot;) result = pipeline.fit(data).transform(data) val document_assembler = new DocumentAssembler() .setInputCol(&quot;text&quot;) .setOutputCol(&quot;documents&quot;) val phi3 = Phi3Transformer.pretrained(f&quot;jsl_meds_ner_openvino_q16_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;documents&quot;)) .setOutputCol(&quot;generation&quot;) .setMaxOutputLength(500) val pipeline = new Pipeline().setStages(Array( document_assembler, phi3 )) val text = &quot;&quot;&quot; ### Template: { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;&quot;, &quot;reactions&quot;: [] } ] } ### Text: I feel a bit drowsy &amp;amp; have a little blurred vision , and some gastric problems . I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it . Due to my arthritis getting progressively worse , to the point where I am in tears with the agony. Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes . So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50. &quot;&quot;&quot; val data = Seq(text).toDF(&quot;text&quot;) val result = pipeline.fit(data).transform(data) Results { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;Arthrotec 50&quot;, &quot;reactions&quot;: [ &quot;drowsy&quot;, &quot;blurred vision&quot;, &quot;gastric problems&quot; ] }, { &quot;name&quot;: &quot;75&quot;, &quot;reactions&quot;: [ &quot;weird&quot; ] } ] } Model Information Model Name: jsl_meds_ner_openvino_q16_v4 Compatibility: Healthcare NLP 6.0.3+ License: Licensed Edition: Official Input Labels: [documents] Output Labels: [generation] Language: en Size: 6.1 GB</summary></entry><entry><title type="html">JSL_MedS_NER (LLM - q8 - v4)</title><link href="/2025/07/01/jsl_meds_ner_openvino_q8_v4_en.html" rel="alternate" type="text/html" title="JSL_MedS_NER (LLM - q8 - v4)" /><published>2025-07-01T00:00:00+00:00</published><updated>2025-07-01T00:00:00+00:00</updated><id>/2025/07/01/jsl_meds_ner_openvino_q8_v4_en</id><content type="html" xml:base="/2025/07/01/jsl_meds_ner_openvino_q8_v4_en.html">## Description

This LLM model is trained to extract and link entities in a document. Users needs to define an input schema as explained in the example section. Drug is defined as a list which tells the model that there could be multiple drugs in the document and it has to extract all of them. Each drug has properties like name and reaction. Since “name” is only one, it is a string, but there could be multiple reactions, hence it is a list. Similarly, users can define any schema for any type of entity.

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/jsl_meds_ner_openvino_q8_v4_en_6.0.3_3.0_1751358785691.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/jsl_meds_ner_openvino_q8_v4_en_6.0.3_3.0_1751358785691.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python
document_assembler = DocumentAssembler()\
    .setInputCol(&quot;text&quot;)\
    .setOutputCol(&quot;documents&quot;)

phi3 = Phi3Transformer.pretrained(f&quot;jsl_meds_ner_openvino_q8_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols([&quot;documents&quot;])\
    .setOutputCol(&quot;generation&quot;)\
    .setMaxOutputLength(500)

pipeline = Pipeline().setStages([
    document_assembler,
    phi3
])

text = &quot;&quot;&quot;
### Template:
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;&quot;,
            &quot;reactions&quot;: []
        }
    ]
}
### Text:
I feel a bit drowsy &amp; have a little blurred vision , and some gastric problems .
I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it .
Due to my arthritis getting progressively worse , to the point where I am in tears with the agony.
Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes .
So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50.
&quot;&quot;&quot;

data = spark.createDataFrame([[text]]).toDF(&quot;text&quot;)

result = pipeline.fit(data).transform(data)
```

{:.jsl-block}
```python
from johnsnowlabs import nlp, medical

document_assembler = nlp.DocumentAssembler()\
    .setInputCol(&quot;text&quot;)\
    .setOutputCol(&quot;documents&quot;)

phi3 = nlp.Phi3Transformer.pretrained(f&quot;jsl_meds_ner_openvino_q8_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols([&quot;documents&quot;])\
    .setOutputCol(&quot;generation&quot;)\
    .setMaxOutputLength(500)

pipeline = nlp.Pipeline().setStages([
    document_assembler,
    phi3
])

text = &quot;&quot;&quot;
### Template:
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;&quot;,
            &quot;reactions&quot;: []
        }
    ]
}
### Text:
I feel a bit drowsy &amp; have a little blurred vision , and some gastric problems .
I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it .
Due to my arthritis getting progressively worse , to the point where I am in tears with the agony.
Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes .
So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50.
&quot;&quot;&quot;

data = spark.createDataFrame([[text]]).toDF(&quot;text&quot;)

result = pipeline.fit(data).transform(data)
```
```scala
val document_assembler = new DocumentAssembler()
    .setInputCol(&quot;text&quot;)
    .setOutputCol(&quot;documents&quot;)

val phi3 = Phi3Transformer.pretrained(f&quot;jsl_meds_ner_openvino_q8_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
    .setInputCols(Array(&quot;documents&quot;))
    .setOutputCol(&quot;generation&quot;)
    .setMaxOutputLength(500)

val pipeline = new Pipeline().setStages([
    document_assembler,
    phi3
])

val text = &quot;&quot;&quot;
### Template:
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;&quot;,
            &quot;reactions&quot;: []
        }
    ]
}
### Text:
I feel a bit drowsy &amp; have a little blurred vision , and some gastric problems .
I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it .
Due to my arthritis getting progressively worse , to the point where I am in tears with the agony.
Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes .
So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50.
&quot;&quot;&quot;

val data = Seq(text).toDF(&quot;text&quot;)

val result = pipeline.fit(data).transform(data)
```
&lt;/div&gt;

## Results

```bash

{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;Arthrotec 50&quot;,
            &quot;reactions&quot;: [
                &quot;drowsy&quot;,
                &quot;blurred vision&quot;,
                &quot;gastric problems&quot;
            ]
        },
        {
            &quot;name&quot;: &quot;75&quot;,
            &quot;reactions&quot;: [
                &quot;weird&quot;
            ]
        }
    ]
}

```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|jsl_meds_ner_openvino_q8_v4|
|Compatibility:|Healthcare NLP 6.0.3+|
|License:|Licensed|
|Edition:|Official|
|Input Labels:|[documents]|
|Output Labels:|[generation]|
|Language:|en|
|Size:|3.5 GB|</content><author><name>John Snow Labs</name></author><category term="licensed" /><category term="clinical" /><category term="en" /><category term="llm" /><category term="ner" /><category term="meds" /><category term="openvino" /><summary type="html">Description This LLM model is trained to extract and link entities in a document. Users needs to define an input schema as explained in the example section. Drug is defined as a list which tells the model that there could be multiple drugs in the document and it has to extract all of them. Each drug has properties like name and reaction. Since “name” is only one, it is a string, but there could be multiple reactions, hence it is a list. Similarly, users can define any schema for any type of entity. Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU document_assembler = DocumentAssembler()\ .setInputCol(&quot;text&quot;)\ .setOutputCol(&quot;documents&quot;) phi3 = Phi3Transformer.pretrained(f&quot;jsl_meds_ner_openvino_q8_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;documents&quot;])\ .setOutputCol(&quot;generation&quot;)\ .setMaxOutputLength(500) pipeline = Pipeline().setStages([ document_assembler, phi3 ]) text = &quot;&quot;&quot; ### Template: { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;&quot;, &quot;reactions&quot;: [] } ] } ### Text: I feel a bit drowsy &amp;amp; have a little blurred vision , and some gastric problems . I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it . Due to my arthritis getting progressively worse , to the point where I am in tears with the agony. Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes . So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50. &quot;&quot;&quot; data = spark.createDataFrame([[text]]).toDF(&quot;text&quot;) result = pipeline.fit(data).transform(data) from johnsnowlabs import nlp, medical document_assembler = nlp.DocumentAssembler()\ .setInputCol(&quot;text&quot;)\ .setOutputCol(&quot;documents&quot;) phi3 = nlp.Phi3Transformer.pretrained(f&quot;jsl_meds_ner_openvino_q8_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;documents&quot;])\ .setOutputCol(&quot;generation&quot;)\ .setMaxOutputLength(500) pipeline = nlp.Pipeline().setStages([ document_assembler, phi3 ]) text = &quot;&quot;&quot; ### Template: { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;&quot;, &quot;reactions&quot;: [] } ] } ### Text: I feel a bit drowsy &amp;amp; have a little blurred vision , and some gastric problems . I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it . Due to my arthritis getting progressively worse , to the point where I am in tears with the agony. Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes . So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50. &quot;&quot;&quot; data = spark.createDataFrame([[text]]).toDF(&quot;text&quot;) result = pipeline.fit(data).transform(data) val document_assembler = new DocumentAssembler() .setInputCol(&quot;text&quot;) .setOutputCol(&quot;documents&quot;) val phi3 = Phi3Transformer.pretrained(f&quot;jsl_meds_ner_openvino_q8_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;documents&quot;)) .setOutputCol(&quot;generation&quot;) .setMaxOutputLength(500) val pipeline = new Pipeline().setStages([ document_assembler, phi3 ]) val text = &quot;&quot;&quot; ### Template: { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;&quot;, &quot;reactions&quot;: [] } ] } ### Text: I feel a bit drowsy &amp;amp; have a little blurred vision , and some gastric problems . I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it . Due to my arthritis getting progressively worse , to the point where I am in tears with the agony. Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes . So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50. &quot;&quot;&quot; val data = Seq(text).toDF(&quot;text&quot;) val result = pipeline.fit(data).transform(data) Results { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;Arthrotec 50&quot;, &quot;reactions&quot;: [ &quot;drowsy&quot;, &quot;blurred vision&quot;, &quot;gastric problems&quot; ] }, { &quot;name&quot;: &quot;75&quot;, &quot;reactions&quot;: [ &quot;weird&quot; ] } ] } Model Information Model Name: jsl_meds_ner_openvino_q8_v4 Compatibility: Healthcare NLP 6.0.3+ License: Licensed Edition: Official Input Labels: [documents] Output Labels: [generation] Language: en Size: 3.5 GB</summary></entry><entry><title type="html">JSL_MedS_NER (LLM - q4 - v3)</title><link href="/2025/07/01/jsl_meds_ner_q16_v4_en.html" rel="alternate" type="text/html" title="JSL_MedS_NER (LLM - q4 - v3)" /><published>2025-07-01T00:00:00+00:00</published><updated>2025-07-01T00:00:00+00:00</updated><id>/2025/07/01/jsl_meds_ner_q16_v4_en</id><content type="html" xml:base="/2025/07/01/jsl_meds_ner_q16_v4_en.html">## Description

This LLM model is trained to extract and link entities in a document. Users needs to define an input schema as explained in the example section. Drug is defined as a list which tells the model that there could be multiple drugs in the document and it has to extract all of them. Each drug has properties like name and reaction. Since “name” is only one, it is a string, but there could be multiple reactions, hence it is a list. Similarly, users can define any schema for any type of entity.

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/jsl_meds_ner_q16_v4_en_6.0.2_3.0_1751368735498.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/jsl_meds_ner_q16_v4_en_6.0.2_3.0_1751368735498.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python

document_assembler = DocumentAssembler()\
    .setInputCol(&quot;text&quot;)\
    .setOutputCol(&quot;document&quot;)

medical_llm = MedicalLLM.pretrained(&quot;jsl_meds_ner_q16_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols(&quot;document&quot;)\
    .setOutputCol(&quot;completions&quot;)\
    .setBatchSize(1)\
    .setNPredict(100)\
    .setUseChatTemplate(True)\
    .setTemperature(0)


pipeline = Pipeline(
    stages = [
        document_assembler,
        medical_llm
])

med_ner_prompt = &quot;&quot;&quot;

### Template:
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;&quot;,
            &quot;reactions&quot;: []
        }
    ]
}
### Text:
I feel a bit drowsy &amp; have a little blurred vision , and some gastric problems .
I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it .
Due to my arthritis getting progressively worse , to the point where I am in tears with the agony.
Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes .
So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50.

&quot;&quot;&quot;

data = spark.createDataFrame([[med_ner_prompt]]).toDF(&quot;text&quot;)

results = pipeline.fit(data).transform(data)

results.select(&quot;completions&quot;).show(truncate=False)

```

{:.jsl-block}
```python
from johnsnowlabs import nlp, medical
document_assembler = nlp.DocumentAssembler()\
    .setInputCol(&quot;text&quot;)\
    .setOutputCol(&quot;document&quot;)

medical_llm = medical.AutoGGUFModel.pretrained(&quot;jsl_meds_ner_q16_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols(&quot;document&quot;)\
    .setOutputCol(&quot;completions&quot;)\
    .setBatchSize(1)\
    .setNPredict(100)\
    .setUseChatTemplate(True)\
    .setTemperature(0)


pipeline = nlp.Pipeline(
    stages = [
        document_assembler,
        medical_llm
])

med_ner_prompt = &quot;&quot;&quot;
### Template:
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;&quot;,
            &quot;reactions&quot;: []
        }
    ]
}
### Text:
I feel a bit drowsy &amp; have a little blurred vision , and some gastric problems .
I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it .
Due to my arthritis getting progressively worse , to the point where I am in tears with the agony.
Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes .
So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50.
&quot;&quot;&quot;

data = spark.createDataFrame([[med_ner_prompt]]).toDF(&quot;text&quot;)

results = pipeline.fit(data).transform(data)

results.select(&quot;completions&quot;).show(truncate=False)
```
```scala

val document_assembler = new DocumentAssembler()
    .setInputCol(&quot;text&quot;)
    .setOutputCol(&quot;document&quot;)

val medical_llm = MedicalLLM.pretrained(&quot;jsl_meds_ner_q16_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
    .setInputCols(&quot;document&quot;)
    .setOutputCol(&quot;completions&quot;)
    .setBatchSize(1)
    .setNPredict(100)
    .setUseChatTemplate(True)
    .setTemperature(0)

val pipeline = new Pipeline().setStages(Array(
    document_assembler,
    medical_llm
))

val  med_ner_prompt = &quot;&quot;&quot;
### Template:
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;&quot;,
            &quot;reactions&quot;: []
        }
    ]
}
### Text:
I feel a bit drowsy &amp; have a little blurred vision , and some gastric problems .
I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it .
Due to my arthritis getting progressively worse , to the point where I am in tears with the agony.
Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes .
So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50.
&quot;&quot;&quot;

val data = Seq(med_ner_prompt).toDF(&quot;text&quot;)

val results = pipeline.fit(data).transform(data)
```
&lt;/div&gt;

## Results

```bash
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;Arthrotec 50&quot;,
            &quot;reactions&quot;: [
                &quot;drowsy&quot;,
                &quot;blurred vision&quot;,
                &quot;gastric problems&quot;
            ]
        },
        {
            &quot;name&quot;: &quot;75&quot;,
            &quot;reactions&quot;: [
                &quot;weird&quot;
            ]
        }
    ]
}

```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|jsl_meds_ner_q16_v4|
|Compatibility:|Healthcare NLP 6.0.2+|
|License:|Licensed|
|Edition:|Official|
|Language:|en|
|Size:|6.0 GB|</content><author><name>John Snow Labs</name></author><category term="en" /><category term="licensed" /><category term="clinical" /><category term="medical" /><category term="llm" /><category term="ner" /><category term="llamacpp" /><summary type="html">Description This LLM model is trained to extract and link entities in a document. Users needs to define an input schema as explained in the example section. Drug is defined as a list which tells the model that there could be multiple drugs in the document and it has to extract all of them. Each drug has properties like name and reaction. Since “name” is only one, it is a string, but there could be multiple reactions, hence it is a list. Similarly, users can define any schema for any type of entity. Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU document_assembler = DocumentAssembler()\ .setInputCol(&quot;text&quot;)\ .setOutputCol(&quot;document&quot;) medical_llm = MedicalLLM.pretrained(&quot;jsl_meds_ner_q16_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols(&quot;document&quot;)\ .setOutputCol(&quot;completions&quot;)\ .setBatchSize(1)\ .setNPredict(100)\ .setUseChatTemplate(True)\ .setTemperature(0) pipeline = Pipeline( stages = [ document_assembler, medical_llm ]) med_ner_prompt = &quot;&quot;&quot; ### Template: { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;&quot;, &quot;reactions&quot;: [] } ] } ### Text: I feel a bit drowsy &amp;amp; have a little blurred vision , and some gastric problems . I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it . Due to my arthritis getting progressively worse , to the point where I am in tears with the agony. Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes . So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50. &quot;&quot;&quot; data = spark.createDataFrame([[med_ner_prompt]]).toDF(&quot;text&quot;) results = pipeline.fit(data).transform(data) results.select(&quot;completions&quot;).show(truncate=False) from johnsnowlabs import nlp, medical document_assembler = nlp.DocumentAssembler()\ .setInputCol(&quot;text&quot;)\ .setOutputCol(&quot;document&quot;) medical_llm = medical.AutoGGUFModel.pretrained(&quot;jsl_meds_ner_q16_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols(&quot;document&quot;)\ .setOutputCol(&quot;completions&quot;)\ .setBatchSize(1)\ .setNPredict(100)\ .setUseChatTemplate(True)\ .setTemperature(0) pipeline = nlp.Pipeline( stages = [ document_assembler, medical_llm ]) med_ner_prompt = &quot;&quot;&quot; ### Template: { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;&quot;, &quot;reactions&quot;: [] } ] } ### Text: I feel a bit drowsy &amp;amp; have a little blurred vision , and some gastric problems . I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it . Due to my arthritis getting progressively worse , to the point where I am in tears with the agony. Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes . So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50. &quot;&quot;&quot; data = spark.createDataFrame([[med_ner_prompt]]).toDF(&quot;text&quot;) results = pipeline.fit(data).transform(data) results.select(&quot;completions&quot;).show(truncate=False) val document_assembler = new DocumentAssembler() .setInputCol(&quot;text&quot;) .setOutputCol(&quot;document&quot;) val medical_llm = MedicalLLM.pretrained(&quot;jsl_meds_ner_q16_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(&quot;document&quot;) .setOutputCol(&quot;completions&quot;) .setBatchSize(1) .setNPredict(100) .setUseChatTemplate(True) .setTemperature(0) val pipeline = new Pipeline().setStages(Array( document_assembler, medical_llm )) val med_ner_prompt = &quot;&quot;&quot; ### Template: { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;&quot;, &quot;reactions&quot;: [] } ] } ### Text: I feel a bit drowsy &amp;amp; have a little blurred vision , and some gastric problems . I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it . Due to my arthritis getting progressively worse , to the point where I am in tears with the agony. Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes . So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50. &quot;&quot;&quot; val data = Seq(med_ner_prompt).toDF(&quot;text&quot;) val results = pipeline.fit(data).transform(data) Results { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;Arthrotec 50&quot;, &quot;reactions&quot;: [ &quot;drowsy&quot;, &quot;blurred vision&quot;, &quot;gastric problems&quot; ] }, { &quot;name&quot;: &quot;75&quot;, &quot;reactions&quot;: [ &quot;weird&quot; ] } ] } Model Information Model Name: jsl_meds_ner_q16_v4 Compatibility: Healthcare NLP 6.0.2+ License: Licensed Edition: Official Language: en Size: 6.0 GB</summary></entry><entry><title type="html">JSL_MedS_NER (LLM - q4 - v4)</title><link href="/2025/07/01/jsl_meds_ner_q4_v4_en.html" rel="alternate" type="text/html" title="JSL_MedS_NER (LLM - q4 - v4)" /><published>2025-07-01T00:00:00+00:00</published><updated>2025-07-01T00:00:00+00:00</updated><id>/2025/07/01/jsl_meds_ner_q4_v4_en</id><content type="html" xml:base="/2025/07/01/jsl_meds_ner_q4_v4_en.html">## Description

This LLM model is trained to extract and link entities in a document. Users needs to define an input schema as explained in the example section. Drug is defined as a list which tells the model that there could be multiple drugs in the document and it has to extract all of them. Each drug has properties like name and reaction. Since “name” is only one, it is a string, but there could be multiple reactions, hence it is a list. Similarly, users can define any schema for any type of entity.

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/jsl_meds_ner_q4_v4_en_6.0.3_3.0_1751386363770.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/jsl_meds_ner_q4_v4_en_6.0.3_3.0_1751386363770.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python
document_assembler = DocumentAssembler()\
    .setInputCol(&quot;text&quot;)\
    .setOutputCol(&quot;document&quot;)

medical_llm = MedicalLLM.pretrained(&quot;jsl_meds_ner_q4_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols(&quot;document&quot;)\
    .setOutputCol(&quot;completions&quot;)\
    .setBatchSize(1)\
    .setNPredict(100)\
    .setUseChatTemplate(True)\
    .setTemperature(0)


pipeline = Pipeline(
    stages = [
        document_assembler,
        medical_llm
])

med_ner_prompt = &quot;&quot;&quot;
### Template:
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;&quot;,
            &quot;reactions&quot;: []
        }
    ]
}
### Text:
I feel a bit drowsy &amp; have a little blurred vision , and some gastric problems .
I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it .
Due to my arthritis getting progressively worse , to the point where I am in tears with the agony.
Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes .
So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50.
&quot;&quot;&quot;

data = spark.createDataFrame([[med_ner_prompt]]).toDF(&quot;text&quot;)

results = pipeline.fit(data).transform(data)

results.select(&quot;completions&quot;).show(truncate=False)
```

{:.jsl-block}
```python
from johnsnowlabs import nlp, medical
document_assembler = nlp.DocumentAssembler()\
    .setInputCol(&quot;text&quot;)\
    .setOutputCol(&quot;document&quot;)

medical_llm = medical.AutoGGUFModel.pretrained(&quot;jsl_meds_ner_q4_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols(&quot;document&quot;)\
    .setOutputCol(&quot;completions&quot;)\
    .setBatchSize(1)\
    .setNPredict(100)\
    .setUseChatTemplate(True)\
    .setTemperature(0)


pipeline = nlp.Pipeline(
    stages = [
        document_assembler,
        medical_llm
])

med_ner_prompt = &quot;&quot;&quot;
### Template:
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;&quot;,
            &quot;reactions&quot;: []
        }
    ]
}
### Text:
I feel a bit drowsy &amp; have a little blurred vision , and some gastric problems .
I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it .
Due to my arthritis getting progressively worse , to the point where I am in tears with the agony.
Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes .
So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50.
&quot;&quot;&quot;

data = spark.createDataFrame([[med_ner_prompt]]).toDF(&quot;text&quot;)

results = pipeline.fit(data).transform(data)

results.select(&quot;completions&quot;).show(truncate=False)
```
```scala

val document_assembler = new DocumentAssembler()
    .setInputCol(&quot;text&quot;)
    .setOutputCol(&quot;document&quot;)

val medical_llm = MedicalLLM.pretrained(&quot;jsl_meds_ner_q4_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
    .setInputCols(&quot;document&quot;)
    .setOutputCol(&quot;completions&quot;)
    .setBatchSize(1)
    .setNPredict(100)
    .setUseChatTemplate(True)
    .setTemperature(0)

val pipeline = new Pipeline().setStages(Array(
    document_assembler,
    medical_llm
))

val  med_ner_prompt = &quot;&quot;&quot;
### Template:
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;&quot;,
            &quot;reactions&quot;: []
        }
    ]
}
### Text:
I feel a bit drowsy &amp; have a little blurred vision , and some gastric problems .
I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it .
Due to my arthritis getting progressively worse , to the point where I am in tears with the agony.
Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes .
So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50.
&quot;&quot;&quot;

val data = Seq(med_ner_prompt).toDF(&quot;text&quot;)

val results = pipeline.fit(data).transform(data)
```
&lt;/div&gt;

## Results

```bash
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;Arthrotec&quot;,
            &quot;reactions&quot;: [
                &quot;drowsy&quot;,
                &quot;blurred vision&quot;,
                &quot;gastric problems&quot;,
                &quot;weird&quot;
            ]
        },
        {
            &quot;name&quot;: &quot;75&quot;,
            &quot;reactions&quot;: []
        }
    ]
}

```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|jsl_meds_ner_q4_v4|
|Compatibility:|Healthcare NLP 6.0.3+|
|License:|Licensed|
|Edition:|Official|
|Language:|en|
|Size:|2.4 GB|</content><author><name>John Snow Labs</name></author><category term="en" /><category term="licensed" /><category term="clinical" /><category term="medical" /><category term="llm" /><category term="ner" /><category term="q4" /><category term="llamacpp" /><summary type="html">Description This LLM model is trained to extract and link entities in a document. Users needs to define an input schema as explained in the example section. Drug is defined as a list which tells the model that there could be multiple drugs in the document and it has to extract all of them. Each drug has properties like name and reaction. Since “name” is only one, it is a string, but there could be multiple reactions, hence it is a list. Similarly, users can define any schema for any type of entity. Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU document_assembler = DocumentAssembler()\ .setInputCol(&quot;text&quot;)\ .setOutputCol(&quot;document&quot;) medical_llm = MedicalLLM.pretrained(&quot;jsl_meds_ner_q4_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols(&quot;document&quot;)\ .setOutputCol(&quot;completions&quot;)\ .setBatchSize(1)\ .setNPredict(100)\ .setUseChatTemplate(True)\ .setTemperature(0) pipeline = Pipeline( stages = [ document_assembler, medical_llm ]) med_ner_prompt = &quot;&quot;&quot; ### Template: { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;&quot;, &quot;reactions&quot;: [] } ] } ### Text: I feel a bit drowsy &amp;amp; have a little blurred vision , and some gastric problems . I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it . Due to my arthritis getting progressively worse , to the point where I am in tears with the agony. Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes . So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50. &quot;&quot;&quot; data = spark.createDataFrame([[med_ner_prompt]]).toDF(&quot;text&quot;) results = pipeline.fit(data).transform(data) results.select(&quot;completions&quot;).show(truncate=False) from johnsnowlabs import nlp, medical document_assembler = nlp.DocumentAssembler()\ .setInputCol(&quot;text&quot;)\ .setOutputCol(&quot;document&quot;) medical_llm = medical.AutoGGUFModel.pretrained(&quot;jsl_meds_ner_q4_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols(&quot;document&quot;)\ .setOutputCol(&quot;completions&quot;)\ .setBatchSize(1)\ .setNPredict(100)\ .setUseChatTemplate(True)\ .setTemperature(0) pipeline = nlp.Pipeline( stages = [ document_assembler, medical_llm ]) med_ner_prompt = &quot;&quot;&quot; ### Template: { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;&quot;, &quot;reactions&quot;: [] } ] } ### Text: I feel a bit drowsy &amp;amp; have a little blurred vision , and some gastric problems . I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it . Due to my arthritis getting progressively worse , to the point where I am in tears with the agony. Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes . So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50. &quot;&quot;&quot; data = spark.createDataFrame([[med_ner_prompt]]).toDF(&quot;text&quot;) results = pipeline.fit(data).transform(data) results.select(&quot;completions&quot;).show(truncate=False) val document_assembler = new DocumentAssembler() .setInputCol(&quot;text&quot;) .setOutputCol(&quot;document&quot;) val medical_llm = MedicalLLM.pretrained(&quot;jsl_meds_ner_q4_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(&quot;document&quot;) .setOutputCol(&quot;completions&quot;) .setBatchSize(1) .setNPredict(100) .setUseChatTemplate(True) .setTemperature(0) val pipeline = new Pipeline().setStages(Array( document_assembler, medical_llm )) val med_ner_prompt = &quot;&quot;&quot; ### Template: { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;&quot;, &quot;reactions&quot;: [] } ] } ### Text: I feel a bit drowsy &amp;amp; have a little blurred vision , and some gastric problems . I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it . Due to my arthritis getting progressively worse , to the point where I am in tears with the agony. Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes . So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50. &quot;&quot;&quot; val data = Seq(med_ner_prompt).toDF(&quot;text&quot;) val results = pipeline.fit(data).transform(data) Results { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;Arthrotec&quot;, &quot;reactions&quot;: [ &quot;drowsy&quot;, &quot;blurred vision&quot;, &quot;gastric problems&quot;, &quot;weird&quot; ] }, { &quot;name&quot;: &quot;75&quot;, &quot;reactions&quot;: [] } ] } Model Information Model Name: jsl_meds_ner_q4_v4 Compatibility: Healthcare NLP 6.0.3+ License: Licensed Edition: Official Language: en Size: 2.4 GB</summary></entry><entry><title type="html">JSL_MedS_NER (LLM - q8 - v4)</title><link href="/2025/07/01/jsl_meds_ner_q8_v4_en.html" rel="alternate" type="text/html" title="JSL_MedS_NER (LLM - q8 - v4)" /><published>2025-07-01T00:00:00+00:00</published><updated>2025-07-01T00:00:00+00:00</updated><id>/2025/07/01/jsl_meds_ner_q8_v4_en</id><content type="html" xml:base="/2025/07/01/jsl_meds_ner_q8_v4_en.html">## Description

This LLM model is trained to extract and link entities in a document. Users needs to define an input schema as explained in the example section. Drug is defined as a list which tells the model that there could be multiple drugs in the document and it has to extract all of them. Each drug has properties like name and reaction. Since “name” is only one, it is a string, but there could be multiple reactions, hence it is a list. Similarly, users can define any schema for any type of entity.

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/jsl_meds_ner_q8_v4_en_6.0.3_3.0_1751383234848.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/jsl_meds_ner_q8_v4_en_6.0.3_3.0_1751383234848.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python
document_assembler = DocumentAssembler()\
    .setInputCol(&quot;text&quot;)\
    .setOutputCol(&quot;document&quot;)

medical_llm = MedicalLLM.pretrained(&quot;jsl_meds_ner_q8_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols(&quot;document&quot;)\
    .setOutputCol(&quot;completions&quot;)\
    .setBatchSize(1)\
    .setNPredict(100)\
    .setUseChatTemplate(True)\
    .setTemperature(0)


pipeline = Pipeline(
    stages = [
        document_assembler,
        medical_llm
])

med_ner_prompt = &quot;&quot;&quot;
### Template:
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;&quot;,
            &quot;reactions&quot;: []
        }
    ]
}
### Text:
I feel a bit drowsy &amp; have a little blurred vision , and some gastric problems .
I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it .
Due to my arthritis getting progressively worse , to the point where I am in tears with the agony.
Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes .
So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50.
&quot;&quot;&quot;

data = spark.createDataFrame([[med_ner_prompt]]).toDF(&quot;text&quot;)

results = pipeline.fit(data).transform(data)

results.select(&quot;completions&quot;).show(truncate=False)
```

{:.jsl-block}
```python
from johnsnowlabs import nlp, medical
document_assembler = nlp.DocumentAssembler()\
    .setInputCol(&quot;text&quot;)\
    .setOutputCol(&quot;document&quot;)

medical_llm = medical.AutoGGUFModel.pretrained(&quot;jsl_meds_ner_q8_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols(&quot;document&quot;)\
    .setOutputCol(&quot;completions&quot;)\
    .setBatchSize(1)\
    .setNPredict(100)\
    .setUseChatTemplate(True)\
    .setTemperature(0)


pipeline = nlp.Pipeline(
    stages = [
        document_assembler,
        medical_llm
])

med_ner_prompt = &quot;&quot;&quot;
### Template:
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;&quot;,
            &quot;reactions&quot;: []
        }
    ]
}
### Text:
I feel a bit drowsy &amp; have a little blurred vision , and some gastric problems .
I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it .
Due to my arthritis getting progressively worse , to the point where I am in tears with the agony.
Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes .
So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50.
&quot;&quot;&quot;

data = spark.createDataFrame([[med_ner_prompt]]).toDF(&quot;text&quot;)

results = pipeline.fit(data).transform(data)

results.select(&quot;completions&quot;).show(truncate=False)
```
```scala

val document_assembler = new DocumentAssembler()
    .setInputCol(&quot;text&quot;)
    .setOutputCol(&quot;document&quot;)

val medical_llm = MedicalLLM.pretrained(&quot;jsl_meds_ner_q8_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
    .setInputCols(&quot;document&quot;)
    .setOutputCol(&quot;completions&quot;)
    .setBatchSize(1)
    .setNPredict(100)
    .setUseChatTemplate(True)
    .setTemperature(0)

val pipeline = new Pipeline().setStages(Array(
    document_assembler,
    medical_llm
))

val  med_ner_prompt = &quot;&quot;&quot;
### Template:
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;&quot;,
            &quot;reactions&quot;: []
        }
    ]
}
### Text:
I feel a bit drowsy &amp; have a little blurred vision , and some gastric problems .
I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it .
Due to my arthritis getting progressively worse , to the point where I am in tears with the agony.
Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes .
So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50.
&quot;&quot;&quot;

val data = Seq(med_ner_prompt).toDF(&quot;text&quot;)

val results = pipeline.fit(data).transform(data)
```
&lt;/div&gt;

## Results

```bash
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;Arthrotec 50&quot;,
            &quot;reactions&quot;: [
                &quot;drowsy&quot;,
                &quot;blurred vision&quot;,
                &quot;gastric problems&quot;
            ]
        },
        {
            &quot;name&quot;: &quot;75&quot;,
            &quot;reactions&quot;: [
                &quot;weird&quot;
            ]
        }
    ]
}

```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|jsl_meds_ner_q8_v4|
|Compatibility:|Healthcare NLP 6.0.3+|
|License:|Licensed|
|Edition:|Official|
|Language:|en|
|Size:|3.9 GB|</content><author><name>John Snow Labs</name></author><category term="en" /><category term="licensed" /><category term="clinical" /><category term="medical" /><category term="llm" /><category term="ner" /><category term="q8" /><category term="llamacpp" /><summary type="html">Description This LLM model is trained to extract and link entities in a document. Users needs to define an input schema as explained in the example section. Drug is defined as a list which tells the model that there could be multiple drugs in the document and it has to extract all of them. Each drug has properties like name and reaction. Since “name” is only one, it is a string, but there could be multiple reactions, hence it is a list. Similarly, users can define any schema for any type of entity. Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU document_assembler = DocumentAssembler()\ .setInputCol(&quot;text&quot;)\ .setOutputCol(&quot;document&quot;) medical_llm = MedicalLLM.pretrained(&quot;jsl_meds_ner_q8_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols(&quot;document&quot;)\ .setOutputCol(&quot;completions&quot;)\ .setBatchSize(1)\ .setNPredict(100)\ .setUseChatTemplate(True)\ .setTemperature(0) pipeline = Pipeline( stages = [ document_assembler, medical_llm ]) med_ner_prompt = &quot;&quot;&quot; ### Template: { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;&quot;, &quot;reactions&quot;: [] } ] } ### Text: I feel a bit drowsy &amp;amp; have a little blurred vision , and some gastric problems . I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it . Due to my arthritis getting progressively worse , to the point where I am in tears with the agony. Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes . So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50. &quot;&quot;&quot; data = spark.createDataFrame([[med_ner_prompt]]).toDF(&quot;text&quot;) results = pipeline.fit(data).transform(data) results.select(&quot;completions&quot;).show(truncate=False) from johnsnowlabs import nlp, medical document_assembler = nlp.DocumentAssembler()\ .setInputCol(&quot;text&quot;)\ .setOutputCol(&quot;document&quot;) medical_llm = medical.AutoGGUFModel.pretrained(&quot;jsl_meds_ner_q8_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols(&quot;document&quot;)\ .setOutputCol(&quot;completions&quot;)\ .setBatchSize(1)\ .setNPredict(100)\ .setUseChatTemplate(True)\ .setTemperature(0) pipeline = nlp.Pipeline( stages = [ document_assembler, medical_llm ]) med_ner_prompt = &quot;&quot;&quot; ### Template: { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;&quot;, &quot;reactions&quot;: [] } ] } ### Text: I feel a bit drowsy &amp;amp; have a little blurred vision , and some gastric problems . I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it . Due to my arthritis getting progressively worse , to the point where I am in tears with the agony. Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes . So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50. &quot;&quot;&quot; data = spark.createDataFrame([[med_ner_prompt]]).toDF(&quot;text&quot;) results = pipeline.fit(data).transform(data) results.select(&quot;completions&quot;).show(truncate=False) val document_assembler = new DocumentAssembler() .setInputCol(&quot;text&quot;) .setOutputCol(&quot;document&quot;) val medical_llm = MedicalLLM.pretrained(&quot;jsl_meds_ner_q8_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(&quot;document&quot;) .setOutputCol(&quot;completions&quot;) .setBatchSize(1) .setNPredict(100) .setUseChatTemplate(True) .setTemperature(0) val pipeline = new Pipeline().setStages(Array( document_assembler, medical_llm )) val med_ner_prompt = &quot;&quot;&quot; ### Template: { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;&quot;, &quot;reactions&quot;: [] } ] } ### Text: I feel a bit drowsy &amp;amp; have a little blurred vision , and some gastric problems . I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it . Due to my arthritis getting progressively worse , to the point where I am in tears with the agony. Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes . So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50. &quot;&quot;&quot; val data = Seq(med_ner_prompt).toDF(&quot;text&quot;) val results = pipeline.fit(data).transform(data) Results { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;Arthrotec 50&quot;, &quot;reactions&quot;: [ &quot;drowsy&quot;, &quot;blurred vision&quot;, &quot;gastric problems&quot; ] }, { &quot;name&quot;: &quot;75&quot;, &quot;reactions&quot;: [ &quot;weird&quot; ] } ] } Model Information Model Name: jsl_meds_ner_q8_v4 Compatibility: Healthcare NLP 6.0.3+ License: Licensed Edition: Official Language: en Size: 3.9 GB</summary></entry><entry><title type="html">JSL_MedS_NER (LLM - q4 - v4)</title><link href="/2025/06/30/jsl_meds_ner_openvino_q4_v4_en.html" rel="alternate" type="text/html" title="JSL_MedS_NER (LLM - q4 - v4)" /><published>2025-06-30T00:00:00+00:00</published><updated>2025-06-30T00:00:00+00:00</updated><id>/2025/06/30/jsl_meds_ner_openvino_q4_v4_en</id><content type="html" xml:base="/2025/06/30/jsl_meds_ner_openvino_q4_v4_en.html">## Description

This LLM model is trained to extract and link entities in a document. Users needs to define an input schema as explained in the example section. Drug is defined as a list which tells the model that there could be multiple drugs in the document and it has to extract all of them. Each drug has properties like name and reaction. Since “name” is only one, it is a string, but there could be multiple reactions, hence it is a list. Similarly, users can define any schema for any type of entity.

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/jsl_meds_ner_openvino_q4_v4_en_6.0.3_3.0_1751322187915.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/jsl_meds_ner_openvino_q4_v4_en_6.0.3_3.0_1751322187915.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python
document_assembler = DocumentAssembler()\
    .setInputCol(&quot;text&quot;)\
    .setOutputCol(&quot;documents&quot;)

phi3 = Phi3Transformer.pretrained(f&quot;jsl_meds_ner_openvino_q4_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols([&quot;documents&quot;])\
    .setOutputCol(&quot;generation&quot;)\
    .setMaxOutputLength(500)

pipeline = Pipeline().setStages([
    document_assembler,
    phi3
])

text = &quot;&quot;&quot;
### Template:
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;&quot;,
            &quot;reactions&quot;: []
        }
    ]
}
### Text:
I feel a bit drowsy &amp; have a little blurred vision , and some gastric problems .
I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it .
Due to my arthritis getting progressively worse , to the point where I am in tears with the agony.
Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes .
So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50.
&quot;&quot;&quot;

data = spark.createDataFrame([[text]]).toDF(&quot;text&quot;)

result = pipeline.fit(data).transform(data)
```

{:.jsl-block}
```python
from johnsnowlabs import nlp, medical

document_assembler = nlp.DocumentAssembler()\
    .setInputCol(&quot;text&quot;)\
    .setOutputCol(&quot;documents&quot;)

phi3 = nlp.Phi3Transformer.pretrained(f&quot;jsl_meds_ner_openvino_q4_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
    .setInputCols([&quot;documents&quot;])\
    .setOutputCol(&quot;generation&quot;)\
    .setMaxOutputLength(500)

pipeline = nlp.Pipeline().setStages([
    document_assembler,
    phi3
])

text = &quot;&quot;&quot;
### Template:
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;&quot;,
            &quot;reactions&quot;: []
        }
    ]
}
### Text:
I feel a bit drowsy &amp; have a little blurred vision , and some gastric problems .
I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it .
Due to my arthritis getting progressively worse , to the point where I am in tears with the agony.
Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes .
So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50.
&quot;&quot;&quot;

data = spark.createDataFrame([[text]]).toDF(&quot;text&quot;)

result = pipeline.fit(data).transform(data)
```
```scala
val document_assembler = new DocumentAssembler()
    .setInputCol(&quot;text&quot;)
    .setOutputCol(&quot;documents&quot;)

val phi3 = Phi3Transformer.pretrained(f&quot;jsl_meds_ner_openvino_q4_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
    .setInputCols(Array(&quot;documents&quot;))
    .setOutputCol(&quot;generation&quot;)
    .setMaxOutputLength(500)

val pipeline = new Pipeline().setStages([
    document_assembler,
    phi3
])

val text = &quot;&quot;&quot;
### Template:
{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;&quot;,
            &quot;reactions&quot;: []
        }
    ]
}
### Text:
I feel a bit drowsy &amp; have a little blurred vision , and some gastric problems .
I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it .
Due to my arthritis getting progressively worse , to the point where I am in tears with the agony.
Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes .
So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50.
&quot;&quot;&quot;

val data = Seq(text).toDF(&quot;text&quot;)

val result = pipeline.fit(data).transform(data)
```
&lt;/div&gt;

## Results

```bash

{
    &quot;drugs&quot;: [
        {
            &quot;name&quot;: &quot;Arthrotec 50&quot;,
            &quot;reactions&quot;: [
                &quot;drowsy&quot;,
                &quot;blurred vision&quot;,
                &quot;gastric problems&quot;
            ]
        },
        {
            &quot;name&quot;: &quot;75&quot;,
            &quot;reactions&quot;: [
                &quot;weird&quot;
            ]
        }
    ]
}

```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|jsl_meds_ner_openvino_q4_v4|
|Compatibility:|Healthcare NLP 6.0.3+|
|License:|Licensed|
|Edition:|Official|
|Input Labels:|[documents]|
|Output Labels:|[generation]|
|Language:|en|
|Size:|3.5 GB|</content><author><name>John Snow Labs</name></author><category term="licensed" /><category term="clinical" /><category term="en" /><category term="llm" /><category term="ner" /><category term="meds" /><category term="openvino" /><summary type="html">Description This LLM model is trained to extract and link entities in a document. Users needs to define an input schema as explained in the example section. Drug is defined as a list which tells the model that there could be multiple drugs in the document and it has to extract all of them. Each drug has properties like name and reaction. Since “name” is only one, it is a string, but there could be multiple reactions, hence it is a list. Similarly, users can define any schema for any type of entity. Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU document_assembler = DocumentAssembler()\ .setInputCol(&quot;text&quot;)\ .setOutputCol(&quot;documents&quot;) phi3 = Phi3Transformer.pretrained(f&quot;jsl_meds_ner_openvino_q4_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;documents&quot;])\ .setOutputCol(&quot;generation&quot;)\ .setMaxOutputLength(500) pipeline = Pipeline().setStages([ document_assembler, phi3 ]) text = &quot;&quot;&quot; ### Template: { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;&quot;, &quot;reactions&quot;: [] } ] } ### Text: I feel a bit drowsy &amp;amp; have a little blurred vision , and some gastric problems . I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it . Due to my arthritis getting progressively worse , to the point where I am in tears with the agony. Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes . So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50. &quot;&quot;&quot; data = spark.createDataFrame([[text]]).toDF(&quot;text&quot;) result = pipeline.fit(data).transform(data) from johnsnowlabs import nlp, medical document_assembler = nlp.DocumentAssembler()\ .setInputCol(&quot;text&quot;)\ .setOutputCol(&quot;documents&quot;) phi3 = nlp.Phi3Transformer.pretrained(f&quot;jsl_meds_ner_openvino_q4_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;documents&quot;])\ .setOutputCol(&quot;generation&quot;)\ .setMaxOutputLength(500) pipeline = nlp.Pipeline().setStages([ document_assembler, phi3 ]) text = &quot;&quot;&quot; ### Template: { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;&quot;, &quot;reactions&quot;: [] } ] } ### Text: I feel a bit drowsy &amp;amp; have a little blurred vision , and some gastric problems . I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it . Due to my arthritis getting progressively worse , to the point where I am in tears with the agony. Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes . So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50. &quot;&quot;&quot; data = spark.createDataFrame([[text]]).toDF(&quot;text&quot;) result = pipeline.fit(data).transform(data) val document_assembler = new DocumentAssembler() .setInputCol(&quot;text&quot;) .setOutputCol(&quot;documents&quot;) val phi3 = Phi3Transformer.pretrained(f&quot;jsl_meds_ner_openvino_q4_v4&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;documents&quot;)) .setOutputCol(&quot;generation&quot;) .setMaxOutputLength(500) val pipeline = new Pipeline().setStages([ document_assembler, phi3 ]) val text = &quot;&quot;&quot; ### Template: { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;&quot;, &quot;reactions&quot;: [] } ] } ### Text: I feel a bit drowsy &amp;amp; have a little blurred vision , and some gastric problems . I 've been on Arthrotec 50 for over 10 years on and off , only taking it when I needed it . Due to my arthritis getting progressively worse , to the point where I am in tears with the agony. Gp 's started me on 75 twice a day and I have to take it every day for the next month to see how I get on , here goes . So far its been very good , pains almost gone , but I feel a bit weird , did n't have that when on 50. &quot;&quot;&quot; val data = Seq(text).toDF(&quot;text&quot;) val result = pipeline.fit(data).transform(data) Results { &quot;drugs&quot;: [ { &quot;name&quot;: &quot;Arthrotec 50&quot;, &quot;reactions&quot;: [ &quot;drowsy&quot;, &quot;blurred vision&quot;, &quot;gastric problems&quot; ] }, { &quot;name&quot;: &quot;75&quot;, &quot;reactions&quot;: [ &quot;weird&quot; ] } ] } Model Information Model Name: jsl_meds_ner_openvino_q4_v4 Compatibility: Healthcare NLP 6.0.3+ License: Licensed Edition: Official Input Labels: [documents] Output Labels: [generation] Language: en Size: 3.5 GB</summary></entry><entry><title type="html">Explain Clinical Document Medications &amp;amp; ADE - Light</title><link href="/2025/06/30/explain_clinical_doc_ade_light_en.html" rel="alternate" type="text/html" title="Explain Clinical Document Medications &amp;amp; ADE - Light" /><published>2025-06-30T00:00:00+00:00</published><updated>2025-06-30T00:00:00+00:00</updated><id>/2025/06/30/explain_clinical_doc_ade_light_en</id><content type="html" xml:base="/2025/06/30/explain_clinical_doc_ade_light_en.html">## Description

This pipeline is designed to extract `ADE` and `DRUG` entities, and establish relations between the extracted `DRUG` and `ADE` results from the clinical documents.

2 NER models and a text matcher are used to accomplish the designated tasks.

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/explain_clinical_doc_ade_light_en_6.0.2_3.4_1751286030451.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/explain_clinical_doc_ade_light_en_6.0.2_3.4_1751286030451.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python

from sparknlp.pretrained import PretrainedPipeline

ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_ade_light&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

result = ner_pipeline.annotate(&quot;&quot;&quot;We describe the side effects of 5-FU in a colon cancer patient who suffered severe mucositis, desquamating dermatitis, prolonged myelosuppression, and neurologic toxicity that required admission to the intensive care unit. 
Anterior lumbosacral radiculopathy after intrathecal methotrexate treatment and acute erythroid leukemia after cyclophosphamide therapy for multiple myeloma: report of two cases.&quot;&quot;&quot;)

```
```scala

import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline

val ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_ade_light&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

val result = ner_pipeline.annotate(&quot;&quot;&quot;We describe the side effects of 5-FU in a colon cancer patient who suffered severe mucositis, desquamating dermatitis, prolonged myelosuppression, and neurologic toxicity that required admission to the intensive care unit. 
Anterior lumbosacral radiculopathy after intrathecal methotrexate treatment and acute erythroid leukemia after cyclophosphamide therapy for multiple myeloma: report of two cases.&quot;&quot;&quot;)

```
&lt;/div&gt;

## Results

```bash


NER Result

|    | chunks                             |   begin |   end | entities   |
|---:|:-----------------------------------|--------:|------:|:-----------|
|  0 | 5-FU                               |      32 |    35 | DRUG       |
|  1 | severe mucositis                   |      76 |    91 | ADE        |
|  2 | desquamating dermatitis            |      94 |   116 | ADE        |
|  3 | prolonged myelosuppression         |     119 |   144 | ADE        |
|  4 | neurologic toxicity                |     151 |   169 | ADE        |
|  5 | Anterior lumbosacral radiculopathy |     224 |   257 | ADE        |
|  6 | methotrexate                       |     277 |   288 | DRUG       |
|  7 | acute erythroid leukemia           |     304 |   327 | ADE        |
|  8 | cyclophosphamide                   |     335 |   350 | DRUG       |

# RE Result

|    |   relation | entity1   |   entity1_begin |   entity1_end | chunk1                             | entity2   |   entity2_begin |   entity2_end | chunk2                     |   confidence |
|---:|-----------:|:----------|----------------:|--------------:|:-----------------------------------|:----------|----------------:|--------------:|:---------------------------|-------------:|
|  0 |          1 | DRUG      |              32 |            35 | 5-FU                               | ADE       |              76 |            91 | severe mucositis           |            1 |
|  1 |          1 | DRUG      |              32 |            35 | 5-FU                               | ADE       |              94 |           116 | desquamating dermatitis    |            1 |
|  2 |          1 | DRUG      |              32 |            35 | 5-FU                               | ADE       |             119 |           144 | prolonged myelosuppression |            1 |
|  3 |          1 | DRUG      |              32 |            35 | 5-FU                               | ADE       |             151 |           169 | neurologic toxicity        |            1 |
|  4 |          1 | ADE       |             223 |           256 | Anterior lumbosacral radiculopathy | DRUG      |             276 |           287 | methotrexate               |            1 |
|  5 |          1 | ADE       |             223 |           256 | Anterior lumbosacral radiculopathy | DRUG      |             334 |           349 | cyclophosphamide           |            1 |
|  6 |          1 | DRUG      |             276 |           287 | methotrexate                       | ADE       |             303 |           326 | acute erythroid leukemia   |            1 |


```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|explain_clinical_doc_ade_light|
|Type:|pipeline|
|Compatibility:|Healthcare NLP 6.0.2+|
|License:|Licensed|
|Edition:|Official|
|Language:|en|
|Size:|1.8 GB|

## Included Models

- DocumentAssembler
- SentenceDetectorDLModel
- TokenizerModel
- WordEmbeddingsModel
- TextMatcherInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- ChunkMergeModel
- ChunkMergeModel
- ChunkMapperModel
- PerceptronModel
- DependencyParserModel
- RelationExtractionModel</content><author><name>John Snow Labs</name></author><category term="licensed" /><category term="en" /><category term="clinical" /><category term="pipeline" /><category term="ner" /><category term="medication" /><category term="ade" /><summary type="html">Description This pipeline is designed to extract ADE and DRUG entities, and establish relations between the extracted DRUG and ADE results from the clinical documents. 2 NER models and a text matcher are used to accomplish the designated tasks. Live Demo Open in Colab Download Copy S3 URI How to use PythonHealthcare NLPPythonJohnSnowLabsScalaNLU from sparknlp.pretrained import PretrainedPipeline ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_ade_light&quot;, &quot;en&quot;, &quot;clinical/models&quot;) result = ner_pipeline.annotate(&quot;&quot;&quot;We describe the side effects of 5-FU in a colon cancer patient who suffered severe mucositis, desquamating dermatitis, prolonged myelosuppression, and neurologic toxicity that required admission to the intensive care unit. Anterior lumbosacral radiculopathy after intrathecal methotrexate treatment and acute erythroid leukemia after cyclophosphamide therapy for multiple myeloma: report of two cases.&quot;&quot;&quot;) import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline val ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_ade_light&quot;, &quot;en&quot;, &quot;clinical/models&quot;) val result = ner_pipeline.annotate(&quot;&quot;&quot;We describe the side effects of 5-FU in a colon cancer patient who suffered severe mucositis, desquamating dermatitis, prolonged myelosuppression, and neurologic toxicity that required admission to the intensive care unit. Anterior lumbosacral radiculopathy after intrathecal methotrexate treatment and acute erythroid leukemia after cyclophosphamide therapy for multiple myeloma: report of two cases.&quot;&quot;&quot;) Results NER Result | | chunks | begin | end | entities | |---:|:-----------------------------------|--------:|------:|:-----------| | 0 | 5-FU | 32 | 35 | DRUG | | 1 | severe mucositis | 76 | 91 | ADE | | 2 | desquamating dermatitis | 94 | 116 | ADE | | 3 | prolonged myelosuppression | 119 | 144 | ADE | | 4 | neurologic toxicity | 151 | 169 | ADE | | 5 | Anterior lumbosacral radiculopathy | 224 | 257 | ADE | | 6 | methotrexate | 277 | 288 | DRUG | | 7 | acute erythroid leukemia | 304 | 327 | ADE | | 8 | cyclophosphamide | 335 | 350 | DRUG | # RE Result | | relation | entity1 | entity1_begin | entity1_end | chunk1 | entity2 | entity2_begin | entity2_end | chunk2 | confidence | |---:|-----------:|:----------|----------------:|--------------:|:-----------------------------------|:----------|----------------:|--------------:|:---------------------------|-------------:| | 0 | 1 | DRUG | 32 | 35 | 5-FU | ADE | 76 | 91 | severe mucositis | 1 | | 1 | 1 | DRUG | 32 | 35 | 5-FU | ADE | 94 | 116 | desquamating dermatitis | 1 | | 2 | 1 | DRUG | 32 | 35 | 5-FU | ADE | 119 | 144 | prolonged myelosuppression | 1 | | 3 | 1 | DRUG | 32 | 35 | 5-FU | ADE | 151 | 169 | neurologic toxicity | 1 | | 4 | 1 | ADE | 223 | 256 | Anterior lumbosacral radiculopathy | DRUG | 276 | 287 | methotrexate | 1 | | 5 | 1 | ADE | 223 | 256 | Anterior lumbosacral radiculopathy | DRUG | 334 | 349 | cyclophosphamide | 1 | | 6 | 1 | DRUG | 276 | 287 | methotrexate | ADE | 303 | 326 | acute erythroid leukemia | 1 | Model Information Model Name: explain_clinical_doc_ade_light Type: pipeline Compatibility: Healthcare NLP 6.0.2+ License: Licensed Edition: Official Language: en Size: 1.8 GB Included Models DocumentAssembler SentenceDetectorDLModel TokenizerModel WordEmbeddingsModel TextMatcherInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel ChunkMergeModel ChunkMergeModel ChunkMapperModel PerceptronModel DependencyParserModel RelationExtractionModel</summary></entry></feed>