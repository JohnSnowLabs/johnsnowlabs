---
layout: model
title: Pipeline for National Drug Codes (NDC) Sentence Entity Resolver
author: John Snow Labs
name: ndc_resolver_pipeline
date: 2024-01-25
tags: [licensed, en, entity_resolution, clinical, pipeline, ndc]
task: [Entity Resolution, Pipeline Healthcare]
language: en
edition: Healthcare NLP 5.2.1
spark_version: 3.4
supported: true
annotator: PipelineModel
article_header:
  type: cover
use_language_switcher: "Python-Scala-Java"
---

## Description

This advanced pipeline extracts medication entities from clinical texts and utilizes the `sbiobert_base_cased_mli` Sentence Bert Embeddings to map these entities to their corresponding National Drug Codes (NDC) codes.

{:.btn-box}
<button class="button button-orange" disabled>Live Demo</button>
<button class="button button-orange" disabled>Open in Colab</button>
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/ndc_resolver_pipeline_en_5.2.1_3.4_1706207015234.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/ndc_resolver_pipeline_en_5.2.1_3.4_1706207015234.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



<div class="tabs-box" markdown="1">
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python

from sparknlp.pretrained import PretrainedPipeline

ner_pipeline = PretrainedPipeline("ndc_resolver_pipeline", "en", "clinical/models")

result = ner_pipeline.annotate("""The patient was given aspirin 81 mg and metformin 500 mg""")

```
```scala

import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline

val ner_pipeline = PretrainedPipeline("ndc_resolver_pipeline", "en", "clinical/models")

val result = ner_pipeline.annotate("""The patient was given aspirin 81 mg and metformin 500 mg""")

```
</div>

## Results

```bash
|    | chunks           |   begin |   end | entities   | ndc        | description         | aux_labels                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|---:|:-----------------|--------:|------:|:-----------|:-----------|:--------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  0 | aspirin 81 mg    |      22 |    34 | DRUG       | 41250-0780 | aspirin 81 mg       | {'packages': "['1 BOTTLE, PLASTIC in 1 PACKAGE (41250-780-01)  > 120 TABLET, DELAYED RELEASE in 1 BOTTLE, PLASTIC', '1 BOTTLE, PLASTIC in 1 PACKAGE (41250-780-06)  > 200 TABLET, DELAYED RELEASE in 1 BOTTLE, PLASTIC', '300 TABLET, DELAYED RELEASE in 1 BOTTLE, PLASTIC (41250-780-12)', '1 BOTTLE, PLASTIC in 1 PACKAGE (41250-780-14)  > 32 TABLET, DELAYED RELEASE in 1 BOTTLE, PLASTIC']", 'alternatives': ['37808-600', '63868-373', '71406-128']}:::{'packages': "['1 BOTTLE, PLASTIC in 1 CARTON (72036-080-01)  > 120 TABLET, DELAYED RELEASE in 1 BOTTLE, PLASTIC', '500 TABLET, DELAYED RELEASE in 1 BOTTLE, PLASTIC (72036-080-04)', '1 PACKAGE in 1 CARTON (72036-080-14)  > 32 TABLET, DELAYED RELEASE in 1 PACKAGE']", 'alternatives': ['70692-126', '70692-158']}:::{'packages': "['36 CARTON in 1 BOTTLE (17714-009-36)  > 1 TABLET, CHEWABLE in 1 CARTON']", 'alternatives': ['59779-467', '41250-467', '30142-467', '41250-274', '59779-274', '56062-274', '56062-259', '56062-467', '0904-4040', '33992-2883']}:::{'packages': "['100000 TABLET, DELAYED RELEASE in 1 CARTON (49483-349-00)']", 'alternatives': []}:::{'packages': "['1 BLISTER PACK in 1 CARTON (73089-081-12)  > 81 mg in 1 BLISTER PACK', '81 mg in 1 CARTON (73089-081-14)', '1 BOTTLE, PLASTIC in 1 CARTON (73089-081-21)  > 81 mg in 1 BOTTLE, PLASTIC']", 'alternatives': ['73089-325']}:::{'packages': '[]', 'alternatives': []}:::{'packages': "['90 TABLET, DELAYED RELEASE in 1 BOTTLE, PLASTIC (43063-862-90)']", 'alternatives': []}:::{'packages': "['1 BOTTLE in 1 CARTON (69168-318-01)  > 100 TABLET in 1 BOTTLE', '300 TABLET in 1 BOTTLE (69168-318-03)']", 'alternatives': ['69168-318', '69168-372']}:::{'packages': "['1 BOTTLE in 1 CARTON (68210-0015-4)  > 40 TABLET, DELAYED RELEASE in 1 BOTTLE', '1 BOTTLE in 1 CARTON (68210-0015-6)  > 60 TABLET, DELAYED RELEASE in 1 BOTTLE']", 'alternatives': []}:::{'packages': "['3 BOTTLE in 1 CARTON (49035-467-08)  > 36 TABLET, CHEWABLE in 1 BOTTLE', '1 BOTTLE in 1 CARTON (49035-467-68)  > 36 TABLET, CHEWABLE in 1 BOTTLE']", 'alternatives': []}:::{'packages': "['120 TABLET, COATED in 1 BOTTLE (51824-055-01)']", 'alternatives': ['51824-057', '51824-077']}:::{'packages': "['100 TABLET, DELAYED RELEASE in 1 BOTTLE (68210-0150-1)', '1 BOTTLE in 1 CARTON (68210-0150-5)  > 50 TABLET, DELAYED RELEASE in 1 BOTTLE']", 'alternatives': []}:::{'packages': "['2 BOTTLE in 1 CARTON (55910-274-23)  > 36 TABLET, CHEWABLE in 1 BOTTLE']", 'alternatives': []}:::{'packages': "['19500 CAPSULE in 1 DRUM (67651-0361-0)']", 'alternatives': []}:::{'packages': "['1 BOTTLE in 1 CARTON (41520-274-68)  > 36 TABLET, CHEWABLE in 1 BOTTLE']", 'alternatives': []}:::{'packages': "['3 BOTTLE in 1 CARTON (36800-467-08)  > 36 TABLET, CHEWABLE in 1 BOTTLE', '1 BOTTLE in 1 CARTON (36800-467-68)  > 36 TABLET, CHEWABLE in 1 BOTTLE']", 'alternatives': ['36800-274', '36800-259']}:::{'packages': "['100 TABLET in 1 BOTTLE (69168-288-01)', '1 BOTTLE in 1 CARTON (69168-288-36)  > 36 TABLET in 1 BOTTLE']", 'alternatives': ['71872-7087', '63739-434']}:::{'packages': "['2 TABLET, CHEWABLE in 1 PACKAGE (52124-0012-1)']", 'alternatives': ['72036-105', '72036-152', '63868-240', '72476-205', '70677-0136', '72036-205', '53943-205']}:::{'packages': "['1000 TABLET in 1 BOTTLE (54257-274-06)', '120 TABLET in 1 BOTTLE (54257-274-25)']", 'alternatives': ['70518-2733']}:::{'packages': "['100 TABLET in 1 BOTTLE (70692-126-01)']", 'alternatives': ['70692-158']}:::{'packages': "['1 BOTTLE in 1 CARTON (49638-101-12)  > 120 TABLET, DELAYED RELEASE in 1 BOTTLE']", 'alternatives': []}:::{'packages': "['1 BOTTLE in 1 CARTON (55910-467-68)  > 36 TABLET, CHEWABLE in 1 BOTTLE']", 'alternatives': []} |
|  1 | metformin 500 mg |      40 |    55 | DRUG       | 62207-0491 | metformin er 500 mg | {'packages': "['5000 TABLET in 1 POUCH (62207-491-31)', '25000 TABLET in 1 CARTON (62207-491-35)', '100 TABLET in 1 BOTTLE (62207-491-43)', '500 TABLET in 1 BOTTLE (62207-491-47)', '1000 TABLET in 1 BOTTLE (62207-491-49)', '30 TABLET in 1 BOTTLE (62207-491-54)']", 'alternatives': []}:::{'packages': "['1000 TABLET, EXTENDED RELEASE in 1 BOTTLE (50742-633-10)', '60 TABLET, EXTENDED RELEASE in 1 BOTTLE (50742-633-60)', '90 TABLET, EXTENDED RELEASE in 1 BOTTLE (50742-633-90)']", 'alternatives': []}:::{'packages': "['100 TABLET, FILM COATED in 1 BOTTLE, PLASTIC (49483-622-01)', '1000 TABLET, FILM COATED in 1 BOTTLE, PLASTIC (49483-622-10)', '500 TABLET, FILM COATED in 1 BOTTLE, PLASTIC (49483-622-50)', '180 TABLET, FILM COATED in 1 BOTTLE, PLASTIC (49483-622-81)']", 'alternatives': ['49483-621', '49483-620']}:::{'packages': "['40 kg in 1 DRUM (62207-416-12)', '50 kg in 1 DRUM (62207-416-13)']", 'alternatives': []}:::{'packages': "['60 TABLET in 1 BOTTLE (67296-0712-1)', '30 TABLET in 1 BOTTLE (67296-0712-2)', '180 TABLET in 1 BOTTLE (67296-0712-3)']", 'alternatives': ['57664-397', '58118-0102', '68788-9121', '63629-1395', '0904-6689', '55154-7896', '68645-544', '23155-102', '53746-218', '65162-218']}:::{'packages': "['500 mg in 1 DRUM (70010-063-15)']", 'alternatives': []}:::{'packages': "['100 TABLET, EXTENDED RELEASE in 1 BOTTLE (75834-500-01)', '500 TABLET, EXTENDED RELEASE in 1 BOTTLE (75834-500-05)']", 'alternatives': ['71610-457', '70518-3260']}:::{'packages': "['60 TABLET, EXTENDED RELEASE in 1 BOTTLE (61919-769-60)']", 'alternatives': []}:::{'packages': "['473 mL in 1 BOTTLE (71800-008-01)']", 'alternatives': []}:::{'packages': "['100 TABLET in 1 BOTTLE (70010-491-01)', '500 TABLET in 1 BOTTLE (70010-491-05)', '90 TABLET in 1 BOTTLE (70010-491-09)', '1000 TABLET in 1 BOTTLE (70010-491-10)', '5000 TABLET in 1 BOTTLE (70010-491-18)', '25000 TABLET in 1 BOTTLE (70010-491-19)']", 'alternatives': ['70010-492']}:::{'packages': "['100 TABLET, FILM COATED in 1 BOTTLE (79739-7076-1)', '500 TABLET, FILM COATED in 1 BOTTLE (79739-7076-5)']", 'alternatives': []}:::{'packages': "['56 TABLET in 1 BLISTER PACK (70882-124-56)']", 'alternatives': ['67877-562', '50090-3579', '50090-3064', '50090-3050', '67877-561', '67877-563', '67296-1604', '68071-4420', '70934-135', '63629-7694']}:::{'packages': "['473 mL in 1 BOTTLE (42571-360-07)', '118 mL in 1 BOTTLE (42571-360-10)']", 'alternatives': []}:::{'packages': "['60 TABLET, FILM COATED, EXTENDED RELEASE in 1 BOTTLE (42806-405-60)']", 'alternatives': []}:::{'packages': "['30 TABLET, FILM COATED in 1 BOTTLE (0069-0136-01)']", 'alternatives': []}:::{'packages': "['100000 TABLET, COATED in 1 CARTON (49483-382-00)', '100 TABLET, COATED in 1 BOTTLE, PLASTIC (49483-382-01)']", 'alternatives': []}:::{'packages': "['100 TABLET in 1 BOTTLE (67253-660-10)', '500 TABLET in 1 BOTTLE (67253-660-50)']", 'alternatives': ['0904-6696', '61748-012', '50090-0521', '50090-0520', '70518-2534', '33342-447', '70954-484']}:::{'packages': "['5 mL in 1 POUCH (34645-2105-3)']", 'alternatives': ['68786-160', '67777-161']}:::{'packages': "['60 TABLET, FILM COATED, EXTENDED RELEASE in 1 BOTTLE, PLASTIC (59630-574-60)']", 'alternatives': []}                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|ndc_resolver_pipeline|
|Type:|pipeline|
|Compatibility:|Healthcare NLP 5.2.1+|
|License:|Licensed|
|Edition:|Official|
|Language:|en|
|Size:|3.0 GB|

## Included Models

- DocumentAssembler
- SentenceDetectorDLModel
- TokenizerModel
- WordEmbeddingsModel
- MedicalNerModel
- NerConverter
- Chunk2Doc
- BertSentenceEmbeddings
- SentenceEntityResolverModel